{"code":"(this[\"webpackJsonpamazon-ivs-chime-demo-web-ui\"]=this[\"webpackJsonpamazon-ivs-chime-demo-web-ui\"]||[]).push([[0],{228:function(e,t,n){},283:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){\"use strict\";n.r(t);var a=n(1),s=n.n(a),i=n(221),o=n.n(i),r=(n(228),n(30)),c=n(10),l=!1,u=n(2),d=n.n(u),h=n(6),p=n(4),v=n(5),m=n(11),b=n(222),f=n.n(b),j=function(){function e(){Object(p.a)(this,e),this.initializeSdkWrapper()}return Object(v.a)(e,[{key:\"initializeSdkWrapper\",value:function(){this.meetingSession=null,this.audioVideo=null,this.title=null,this.name=null,this.region=null,this.currentAudioInputDevice=null,this.currentAudioOutputDevice=null,this.currentVideoInputDevice=null,this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.devicesUpdatedCallbacks=[],this.roster={},this.rosterUpdateCallbacks=[],this.configuration=null,this.messagingSocket=null,this.messageUpdateCallbacks=[]}},{key:\"logError\",value:function(e){console.error(e)}},{key:\"createRoom\",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n,a,s,i){var o,r,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&a&&t){e.next=3;break}return console.error(\"role=\".concat(t,\" name=\").concat(n,\" title=\").concat(a,\" must exist\")),e.abrupt(\"return\");case 3:return o={name:n,title:a,playbackURL:s,role:t},e.next=6,fetch(\"\".concat(\"\",\"/join\"),{method:\"POST\",body:JSON.stringify(o)});case 6:return r=e.sent,e.next=9,r.json();case 9:if(!(c=e.sent).error){e.next=12;break}throw new Error(c.error);case 12:if(l=c.JoinInfo){e.next=15;break}throw new Error(\"CreateOrJoin.classRoomDoesNotExist\");case 15:return this.configuration=new m.MeetingSessionConfiguration(l.Meeting,l.Attendee),e.next=18,this.initializeMeetingSession(this.configuration);case 18:return this.title=a,this.name=n,this.region=i,e.abrupt(\"return\",l);case 22:case\"end\":return e.stop()}}),e,this)})));return function(t,n,a,s,i){return e.apply(this,arguments)}}()},{key:\"reInitializeMeetingSession\",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configuration=new m.MeetingSessionConfiguration(t.Meeting,t.Attendee),e.next=3,this.initializeMeetingSession(this.configuration);case 3:this.title=t.Title,this.name=n;case 5:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"initializeMeetingSession\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new m.ConsoleLogger(\"SDK\",m.LogLevel.ERROR),a=new m.DefaultDeviceController(n),this.meetingSession=new m.DefaultMeetingSession(t,n,a),this.audioVideo=this.meetingSession.audioVideo,this.audioInputDevices=[],e.next=7,this.audioVideo.listAudioInputDevices();case 7:return e.sent.forEach((function(e){s.audioInputDevices.push({label:e.label,value:e.deviceId})})),this.audioOutputDevices=[],e.next=11,this.audioVideo.listAudioOutputDevices();case 11:return e.sent.forEach((function(e){s.audioOutputDevices.push({label:e.label,value:e.deviceId})})),this.videoInputDevices=[],e.next=15,this.audioVideo.listVideoInputDevices();case 15:e.sent.forEach((function(e){s.videoInputDevices.push({label:e.label,value:e.deviceId})})),this.publishDevicesUpdated(),this.audioVideo.addDeviceChangeObserver(this),this.audioVideo.realtimeSubscribeToAttendeeIdPresence((function(e,t){if(!t)return delete s.roster[e],void s.publishRosterUpdate()();s.audioVideo.realtimeSubscribeToVolumeIndicator(e,function(){var e=Object(h.a)(d.a.mark((function e(t,n,a,i){var o,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(new m.DefaultModality(t).base()===t){e.next=3;break}return e.abrupt(\"return\");case 3:if(!1,s.roster[t]||(s.roster[t]={name:\"\"}),null!==n&&(s.roster[t].volume=Math.round(100*n)),null!==a&&(s.roster[t].muted=a),null!==i&&(s.roster[t].signalStrength=Math.round(100*i)),!s.title||!t||s.roster[t].name){e.next=16;break}return e.next=11,fetch(\"\".concat(\"\",\"/attendee?title=\").concat(encodeURIComponent(s.title),\"&attendeeId=\").concat(encodeURIComponent(t)));case 11:return o=e.sent,e.next=14,o.json();case 14:(r=e.sent).AttendeeInfo&&s.roster[t]&&(s.roster[t].name=r.AttendeeInfo.Name||\"\",!0);case 16:s.publishRosterUpdate()();case 18:case\"end\":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}())}));case 19:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"joinRoom\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,s,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.logError(new Error(\"element does not exist\")),e.abrupt(\"return\");case 3:return window.addEventListener(\"unhandledrejection\",(function(e){i.logError(e.reason)})),e.next=6,this.audioVideo.listAudioInputDevices();case 6:if(!((n=e.sent)&&n.length>0&&n[0].deviceId)){e.next=11;break}return this.currentAudioInputDevice={label:n[0].label,value:n[0].deviceId},e.next=11,this.audioVideo.chooseAudioInputDevice(n[0].deviceId);case 11:return e.next=13,this.audioVideo.listAudioOutputDevices();case 13:if(!((a=e.sent)&&a.length>0&&a[0].deviceId)){e.next=18;break}return this.currentAudioOutputDevice={label:a[0].label,value:a[0].deviceId},e.next=18,this.audioVideo.chooseAudioOutputDevice(a[0].deviceId);case 18:return e.next=20,this.audioVideo.listVideoInputDevices();case 20:if(!((s=e.sent)&&s.length>0&&s[0].deviceId)){e.next=25;break}return this.currentVideoInputDevice={label:s[0].label,value:s[0].deviceId},e.next=25,this.audioVideo.chooseVideoInputDevice(null);case 25:this.publishDevicesUpdated(),this.audioVideo.bindAudioElement(t),this.audioVideo.start();case 28:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"joinRoomMessaging\",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.configuration){e.next=3;break}return this.logError(new Error(\"configuration does not exist\")),e.abrupt(\"return\");case 3:return t=\"\".concat(\"\",\"?MeetingId=\").concat(this.configuration.meetingId,\"&AttendeeId=\").concat(this.configuration.credentials.attendeeId,\"&JoinToken=\").concat(this.configuration.credentials.joinToken),this.messagingSocket=new m.ReconnectingPromisedWebSocket(t,[],\"arraybuffer\",new m.DefaultPromisedWebSocketFactory(new m.DefaultDOMWebSocketFactory),new m.FullJitterBackoff(1e3,0,1e4)),e.next=7,this.messagingSocket.open(this.WEB_SOCKET_TIMEOUT_MS);case 7:this.messagingSocket.addEventListener(\"message\",(function(e){try{var t,a=JSON.parse(e.data),s=a.payload.attendeeId;n.roster[s]&&(t=n.roster[s].name),n.publishMessageUpdate({type:a.type,payload:a.payload,timestampMs:Date.now(),name:t})}catch(i){n.logError(i)}}));case 8:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"sendMessage\",value:function(e,t){if(this.messagingSocket){var n={message:\"sendmessage\",data:JSON.stringify({type:e,payload:t})};try{this.messagingSocket.send(JSON.stringify(n))}catch(a){this.logError(a)}}}},{key:\"leaveRoom\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.audioVideo.stop()}catch(n){this.logError(n)}if(e.prev=1,!t||!this.title){e.next=5;break}return e.next=5,fetch(\"\".concat(\"\",\"/end?title=\").concat(encodeURIComponent(this.title)),{method:\"POST\"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.logError(e.t0);case 10:this.initializeSdkWrapper();case 11:case\"end\":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"chooseAudioInputDevice\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseAudioInputDevice(t.value);case 3:this.currentAudioInputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case\"end\":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"chooseAudioOutputDevice\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseAudioOutputDevice(t.value);case 3:this.currentAudioOutputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case\"end\":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"chooseVideoInputDevice\",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseVideoInputDevice(t.value);case 3:this.currentVideoInputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case\"end\":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"audioInputsChanged\",value:function(e){var t=this,n=!1;this.audioInputDevices=[],e.forEach((function(e){t.currentAudioInputDevice&&e.deviceId===t.currentAudioInputDevice.value&&(n=!0),t.audioInputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentAudioInputDevice=this.audioInputDevices.length>0?this.audioInputDevices[0]:null),this.publishDevicesUpdated()}},{key:\"audioOutputsChanged\",value:function(e){var t=this,n=!1;this.audioOutputDevices=[],e.forEach((function(e){t.currentAudioOutputDevice&&e.deviceId===t.currentAudioOutputDevice.value&&(n=!0),t.audioOutputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentAudioOutputDevice=this.audioOutputDevices.length>0?this.audioOutputDevices[0]:null),this.publishDevicesUpdated()}},{key:\"videoInputsChanged\",value:function(e){var t=this,n=!1;this.videoInputDevices=[],e.forEach((function(e){t.currentVideoInputDevice&&e.deviceId===t.currentVideoInputDevice.value&&(n=!0),t.videoInputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentVideoInputDevice=this.videoInputDevices.length>0?this.videoInputDevices[0]:null),this.publishDevicesUpdated()}},{key:\"subscribeToDevicesUpdated\",value:function(e){this.devicesUpdatedCallbacks.push(e)}},{key:\"unsubscribeFromDevicesUpdated\",value:function(e){var t=this.devicesUpdatedCallbacks.indexOf(e);-1!==t&&this.devicesUpdatedCallbacks.splice(t,1)}},{key:\"publishDevicesUpdated\",value:function(){var e=this;this.devicesUpdatedCallbacks.forEach((function(t){t({currentAudioInputDevice:e.currentAudioInputDevice,currentAudioOutputDevice:e.currentAudioOutputDevice,currentVideoInputDevice:e.currentVideoInputDevice,audioInputDevices:e.audioInputDevices,audioOutputDevices:e.audioOutputDevices,videoInputDevices:e.videoInputDevices})}))}},{key:\"subscribeToRosterUpdate\",value:function(e){this.rosterUpdateCallbacks.push(e)}},{key:\"unsubscribeFromRosterUpdate\",value:function(e){var t=this.rosterUpdateCallbacks.indexOf(e);-1!==t&&this.rosterUpdateCallbacks.splice(t,1)}},{key:\"publishRosterUpdate\",value:function(){var e=this;return f()((function(){for(var t=0;t<e.rosterUpdateCallbacks.length;t+=1){(0,e.rosterUpdateCallbacks[t])(e.roster)}}),this.ROSTER_THROTTLE_MS)}},{key:\"subscribeToMessageUpdate\",value:function(e){this.messageUpdateCallbacks.push(e)}},{key:\"unsubscribeFromMessageUpdate\",value:function(e){var t=this.messageUpdateCallbacks.indexOf(e);-1!==t&&this.messageUpdateCallbacks.splice(t,1)}},{key:\"publishMessageUpdate\",value:function(e){for(var t=0;t<this.messageUpdateCallbacks.length;t+=1){(0,this.messageUpdateCallbacks[t])(e)}}}]),e}();j.WEB_SOCKET_TIMEOUT_MS=1e4,j.ROSTER_THROTTLE_MS=400;var g=n(8),O=n(7),x=(n(283),n(0)),w=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).handleKeyDown=function(t){27===t.keyCode&&e.props.closeError()},e.handleClick=function(t){for(var n=t.target,a=!1;n;){if(n&&n.classList&&n.classList.contains(\"notice--error\")){a=!0;break}n=n.parentNode}a||e.props.closeError()},e.handleGoCreateRoom=function(){window.location.replace(\"/index.html\")},e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.handleKeyDown)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.handleKeyDown)}},{key:\"render\",value:function(){return Object(x.jsx)(\"div\",{className:\"notice notice--error\",onClick:this.handleClick,children:Object(x.jsxs)(\"div\",{className:\"notice__content\",children:[Object(x.jsx)(\"div\",{className:\"icon icon--24 notice__icon\",children:Object(x.jsx)(\"svg\",{viewBox:\"0 0 1000 1000\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M 500 0C 224 0 0 224 0 500C 0 776 224 1000 500 1000C 776 1000 1000 776 1000 500C 1000 224 776 0 500 0C 500 0 500 0 500 0M 526 150C 576 150 602 175 601 224C 600 300 600 350 575 525C 570 560 560 575 525 575C 525 575 475 575 475 575C 440 575 430 560 425 525C 400 355 400 300 400 226C 400 175 425 150 475 150M 500 650C 527 650 552 661 571 679C 589 698 600 723 600 750C 600 805 555 850 500 850C 445 850 400 805 400 750C 400 723 411 698 429 679C 448 661 473 650 500 650C 500 650 500 650 500 650\"})})}),this.props.errorMsg,Object(x.jsxs)(\"div\",{children:[\"To create your own room, click \",Object(x.jsx)(\"span\",{className:\"go-create-room\",onClick:this.handleGoCreateRoom,children:\"here\"}),\".\"]})]})})}}]),n}(a.Component),C=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={role:\"host\",username:\"\",title:\"\",playbackURL:\"https://fcc3ddae59ed.us-west-2.playback.live-video.net/api/video/v1/us-west-2.893648527354.channel.DmumNckWFTqz.m3u8\",errorMsg:\"\",showError:!1},e.handleNameChange=function(t){e.setState({username:t.target.value})},e.handleRoomChange=function(t){e.setState({title:t.target.value})},e.handlePlaybackURLChange=function(t){e.setState({playbackURL:t.target.value})},e.handleCreateRoom=function(t){t.preventDefault(),t.stopPropagation(),e.createRoom()},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.baseHref=\"\",e.inputRef=s.a.createRef(),e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=new URLSearchParams(this.props.location.search);if(\"join\"===e.get(\"action\")){var t=e.get(\"room\");this.props.history.push(\"\".concat(this.baseHref,\"/join?room=\").concat(t))}this.inputRef.current.focus()}},{key:\"createRoom\",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,n=t.title,a=t.username,s=t.playbackURL,i={username:a,title:n,playbackURL:s,role:this.state.role},sessionStorage.setItem(\"chime[\".concat(n,\"]\"),JSON.stringify(i)),this.props.history.push(\"\".concat(this.baseHref,\"/meeting?room=\").concat(n));case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.title,a=e.playbackURL,i=!t||!n||!a;return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsxs)(\"div\",{className:\"welcome form-grid\",children:[Object(x.jsx)(\"div\",{className:\"welcome__intro\",children:Object(x.jsxs)(\"div\",{className:\"intro__inner formatted-text\",children:[Object(x.jsx)(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),Object(x.jsx)(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),Object(x.jsx)(\"div\",{className:\"welcome__content pd-4\",children:Object(x.jsxs)(\"div\",{className:\"content__inner\",children:[Object(x.jsx)(\"h2\",{className:\"mg-b-2\",children:\"Get started\"}),Object(x.jsx)(\"form\",{action:\"\",children:Object(x.jsxs)(\"fieldset\",{className:\"mg-b-2\",children:[Object(x.jsx)(\"input\",{className:\"mg-b-2\",type:\"text\",placeholder:\"Your name\",value:t,ref:this.inputRef,onChange:this.handleNameChange}),Object(x.jsx)(\"input\",{type:\"text\",placeholder:\"Room name\",value:n,onChange:this.handleRoomChange}),Object(x.jsx)(\"input\",{type:\"text\",placeholder:\"Playback URL\",value:a,onChange:this.handlePlaybackURLChange}),Object(x.jsx)(\"button\",{className:\"mg-t-2 btn btn--primary\",disabled:i,onClick:this.handleCreateRoom,children:\"Create room\"})]})})]})})]}),this.state.showError&&Object(x.jsx)(w,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(a.Component),y=Object(c.f)(C),k=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={role:\"attendee\",username:\"\",title:\"\",errorMsg:\"\",showError:!1},e.joinRoom=Object(h.a)(d.a.mark((function t(){var n,a,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.username,s=n.title,i={username:a,title:s,role:e.state.role},sessionStorage.setItem(\"chime[\".concat(s,\"]\"),JSON.stringify(i)),e.props.history.push(\"\".concat(e.baseHref,\"/meeting?room=\").concat(s));case 4:case\"end\":return t.stop()}}),t)}))),e.handleNameChange=function(t){e.setState({username:t.target.value})},e.handleJoinRoom=function(t){t.preventDefault(),t.stopPropagation(),e.joinRoom()},e.handleClick=function(t){for(var n=t.target,a=!1;n;){if(n&&n.classList&&n.classList.contains(\"notice--error\")){a=!0;break}n=n.parentNode}a||e.closeError()},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.inputRef=s.a.createRef(),e.baseHref=\"\",e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=new URLSearchParams(this.props.location.search).get(\"room\");this.setState({title:e})}},{key:\"render\",value:function(){var e=this.state.username,t=!e;return Object(x.jsxs)(\"div\",{className:\"welcome form-grid\",onClick:this.handleClick,children:[Object(x.jsx)(\"div\",{className:\"welcome__intro\",children:Object(x.jsxs)(\"div\",{className:\"intro__inner formatted-text\",children:[Object(x.jsx)(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),Object(x.jsx)(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),Object(x.jsx)(\"div\",{className:\"welcome__content pd-4\",children:Object(x.jsxs)(\"div\",{className:\"content__inner\",children:[Object(x.jsx)(\"h2\",{className:\"mg-b-2\",children:\"Hey there!\"}),Object(x.jsx)(\"form\",{action:\"\",children:Object(x.jsxs)(\"fieldset\",{className:\"mg-b-2\",children:[Object(x.jsx)(\"input\",{type:\"text\",placeholder:\"Your name\",value:e,ref:this.inputRef,onChange:this.handleNameChange}),Object(x.jsx)(\"button\",{className:\"mg-t-1 btn btn--primary\",disabled:t,onClick:this.handleJoinRoom,children:\"Join room\"})]})})]})}),this.state.showError&&Object(x.jsx)(w,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(a.Component),I=Object(c.f)(k),S=n(22),_=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).mediaPlayerScriptLoaded=function(){var t=window.IVSPlayer,n=document.getElementById(\"overlay\"),a=document.getElementById(\"play\"),s=document.getElementById(\"mute\");if(t.isPlayerSupported){var i=t.PlayerState,o=t.PlayerEventType,r=t.create();r.attachHTMLVideoElement(document.getElementById(\"video-player\")),r.addEventListener(i.PLAYING,(function(){l})),r.addEventListener(i.ENDED,(function(){l})),r.addEventListener(i.READY,(function(){l})),r.addEventListener(o.ERROR,(function(e){l})),r.addEventListener(o.TEXT_METADATA_CUE,(function(e){e.text,r.getPosition().toFixed(2)})),r.setAutoplay(!0),r.load(e.props.videoStream),r.setVolume(.1),n.addEventListener(\"mouseover\",(function(e){n.classList.add(\"overlay--hover\")}),!1),n.addEventListener(\"mouseout\",(function(e){n.classList.remove(\"overlay--hover\")})),a.addEventListener(\"click\",(function(e){a.classList.contains(\"player-btn--play\")?(a.classList.remove(\"player-btn--play\"),a.classList.add(\"player-btn--pause\"),r.pause()):(a.classList.remove(\"player-btn--pause\"),a.classList.add(\"player-btn--play\"),r.play())}),!1),s.addEventListener(\"click\",(function(e){s.classList.contains(\"player-btn--mute\")?(s.classList.remove(\"player-btn--mute\"),s.classList.add(\"player-btn--unmute\"),r.setMuted(1)):(s.classList.remove(\"player-btn--unmute\"),s.classList.add(\"player-btn--mute\"),r.setMuted(0))}),!1)}else console.warn(\"The current browser does not support the Amazon IVS player.\")},e.videoElement=s.a.createRef(),e.state={maxMetaData:10,metaData:[]},e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=this,t=document.createElement(\"script\");t.src=\"https://player.live-video.net/1.2.0/amazon-ivs-player.min.js\",t.async=!0,t.onload=function(){return e.mediaPlayerScriptLoaded()},document.body.appendChild(t)}},{key:\"render\",value:function(){return Object(x.jsxs)(\"div\",{className:\"player-wrapper pos-relative\",children:[Object(x.jsx)(\"div\",{className:\"aspect-spacer\"}),Object(x.jsxs)(\"div\",{className:\"pos-absolute full-width full-height top-0\",children:[Object(x.jsx)(\"div\",{id:\"overlay\",className:\"overlay\",children:Object(x.jsx)(\"div\",{id:\"player-controls\",children:Object(x.jsxs)(\"div\",{className:\"player-controls__inner\",children:[Object(x.jsxs)(\"button\",{id:\"play\",className:\"mg-x-1 player-btn player-btn--icon player-btn--play\",children:[Object(x.jsx)(\"svg\",{className:\"player-icon player-icon--play\",xmlns:\"http://www.w3.org/2000/svg\",height:\"36\",viewBox:\"0 0 24 24\",width:\"36\",children:Object(x.jsx)(\"path\",{d:\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"})}),Object(x.jsx)(\"svg\",{className:\"player-icon player-icon--pause\",xmlns:\"http://www.w3.org/2000/svg\",height:\"36\",viewBox:\"0 0 24 24\",width:\"36\",children:Object(x.jsx)(\"path\",{d:\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"})})]}),Object(x.jsxs)(\"button\",{id:\"mute\",className:\"mg-x-1 player-btn player-btn--icon player-btn--unmute\",children:[Object(x.jsx)(\"svg\",{className:\"player-icon player-icon--volume_up\",xmlns:\"http://www.w3.org/2000/svg\",height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:Object(x.jsx)(\"path\",{d:\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\"})}),Object(x.jsx)(\"svg\",{className:\"player-icon player-icon--volume_off\",xmlns:\"http://www.w3.org/2000/svg\",height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:Object(x.jsx)(\"path\",{d:\"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\"})})]})]})})}),Object(x.jsx)(\"video\",{id:\"video-player\",className:\"el-player\",ref:this.videoElement,playsInline:!0,muted:!0})]})]})}}]),n}(a.Component),D=(n(289),function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).scrollToBottom=function(){e.messagesEndRef.current.scrollIntoView({behavior:\"smooth\"})},e.handleChange=function(t){e.setState({message:t.target.value})},e.handleKeyDown=function(t){if(13===t.keyCode){var n=e.state,a=n.message,s=n.connection,i=e.props.username;if(a){var o='{\\n          \"message\": \"sendmessage\",\\n          \"data\": \"'.concat(i,\"::\").concat(a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"'),'\"\\n        }');s.send(o),e.setState({message:\"\"})}}},e.handleRoomClick=function(t){t.stopPropagation(),t.preventDefault();var n=e.props.title,a=\"\".concat(window.location.origin).concat(window.location.pathname.replace(\"meeting\",\"index.html\"),\"?action=join&room=\").concat(n);e.copyTextToClipboard(encodeURI(a))},e.setShowPopup=function(){e.setState({showPopup:!0}),setTimeout((function(){e.setState({showPopup:!1})}),2e3)},e.copyTextToClipboard=function(t){navigator.clipboard&&navigator.clipboard.writeText(t).then((function(){e.setShowPopup()}),(function(e){l}))},e.parseUrls=function(e){return e.replace(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g,(function(e){var t=e;return e.startsWith(\"http\")||(t=\"http://\".concat(e)),\"<a href=\".concat(t,' class=\"chat-line__link\" target=\"_blank\" rel=\"noopener noreferrer\">').concat(e,\"</a>\")}))},e.renderMessages=function(){return e.state.messages.map((function(t){var n=e.parseUrls(t.message);return Object(x.jsx)(\"div\",{className:\"chat-line\",children:Object(x.jsxs)(\"p\",{children:[Object(x.jsx)(\"span\",{className:\"username\",children:t.username}),Object(x.jsx)(\"span\",{dangerouslySetInnerHTML:{__html:n}})]})},t.timestamp)}))},e.WEB_SOCKET_TIMEOUT_MS=1e4,e.state={message:\"\",messages:[],connection:null,showPopup:!1},e.chatRef=s.a.createRef(),e.messagesEndRef=s.a.createRef(),e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){this.initChatConnection()}},{key:\"initChatConnection\",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,s,i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.joinInfo,n=t.Meeting,a=t.Attendee,s=\"\".concat(\"\",\"?MeetingId=\").concat(n.MeetingId,\"&AttendeeId=\").concat(a.AttendeeId,\"&JoinToken=\").concat(a.JoinToken),i=new m.ReconnectingPromisedWebSocket(s,[],\"arraybuffer\",new m.DefaultPromisedWebSocketFactory(new m.DefaultDOMWebSocketFactory),new m.FullJitterBackoff(1e3,0,1e4)),e.next=6,i.open(this.WEB_SOCKET_TIMEOUT_MS);case 6:i.addEventListener(\"message\",(function(e){var t=o.state.messages,n=e.data.split(\"::\"),a=n[0],s=n.slice(1).join(\"::\");t.push({timestamp:Date.now(),username:a,message:s}),o.setState({messages:t})})),this.setState({connection:i}),this.chatRef.current.focus();case 9:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"componentDidUpdate\",value:function(){this.scrollToBottom()}},{key:\"render\",value:function(){var e=this.state,t=e.message,n=e.showPopup?\"show\":\"\";return Object(x.jsxs)(\"div\",{className:\"chat full-height pos-relative\",children:[Object(x.jsx)(\"div\",{className:\"chat__room-link full-width\",children:Object(x.jsxs)(\"button\",{className:\"room-link popup\",onClick:this.handleRoomClick,children:[Object(x.jsx)(\"span\",{className:\"room-link__label\",children:this.props.title}),Object(x.jsx)(\"svg\",{className:\"room-link__svg\",width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M3.25033 9.99999C3.25033 8.57499 4.40866 7.41666 5.83366 7.41666H9.16699V5.83333H5.83366C3.53366 5.83333 1.66699 7.69999 1.66699 9.99999C1.66699 12.3 3.53366 14.1667 5.83366 14.1667H9.16699V12.5833H5.83366C4.40866 12.5833 3.25033 11.425 3.25033 9.99999ZM6.66699 10.8333H13.3337V9.16666H6.66699V10.8333ZM14.167 5.83333H10.8337V7.41666H14.167C15.592 7.41666 16.7503 8.57499 16.7503 9.99999C16.7503 11.425 15.592 12.5833 14.167 12.5833H10.8337V14.1667H14.167C16.467 14.1667 18.3337 12.3 18.3337 9.99999C18.3337 7.69999 16.467 5.83333 14.167 5.83333Z\",fill:\"white\"})}),Object(x.jsx)(\"span\",{className:\"popuptext \".concat(n),id:\"myPopup\",children:\"Room link copied to clipboard\"})]})}),Object(x.jsx)(\"div\",{className:\"chat__wrapper full-width pos-relative\",children:Object(x.jsxs)(\"div\",{className:\"messages pd-x-1 pos-absolute\",children:[this.renderMessages(),Object(x.jsx)(\"div\",{ref:this.messagesEndRef})]})}),Object(x.jsx)(\"div\",{className:\"composer chime-web-composer full-width\",children:Object(x.jsx)(\"input\",{ref:this.chatRef,type:\"text\",placeholder:\"Say something\",value:t,maxLength:510,onChange:this.handleChange,onKeyDown:this.handleKeyDown})})]})}}]),n}(a.Component)),L=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={muted:!1,focus:!1,videoStatus:\"Disabled\"},e.callback=function(t){e.setState({muted:t})},e.muteButtonOnClick=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.muted?e.props.chime.audioVideo.realtimeUnmuteLocalAudio():e.props.chime.audioVideo.realtimeMuteLocalAudio(),t.next=3,new Promise((function(e){return setTimeout(e,10)}));case 3:case\"end\":return t.stop()}}),t)}))),e.videoButtonOnClick=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,10)}));case 2:if(\"Disabled\"!==e.state.videoStatus){t.next=29;break}if(e.setState({videoStatus:\"Loading\"}),t.prev=4,e.props.chime.currentVideoInputDevice){t.next=7;break}throw new Error(\"currentVideoInputDevice does not exist\");case 7:return t.prev=7,t.next=10,e.props.chime.chooseVideoInputDevice(e.props.chime.currentVideoInputDevice);case 10:t.next=19;break;case 12:return t.prev=12,t.t0=t.catch(7),t.next=16,e.props.chime.audioVideo.listVideoInputDevices();case 16:return n=t.sent,t.next=19,e.props.chime.audioVideo.chooseVideoInputDevice(n[0].deviceId);case 19:e.props.chime.audioVideo.startLocalVideoTile(),e.setState({videoStatus:\"Enabled\"}),t.next=27;break;case 23:t.prev=23,t.t1=t.catch(4),console.error(t.t1),e.setState({videoStatus:\"Disabled\"});case 27:t.next=30;break;case 29:\"Enabled\"===e.state.videoStatus&&(e.setState({videoStatus:\"Loading\"}),e.props.chime.meetingSession.audioVideo.stopLocalVideoTile(),e.setState({videoStatus:\"Disabled\"}));case 30:case\"end\":return t.stop()}}),t,null,[[4,23],[7,12]])}))),e.endButtonOnClick=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.chime.leaveRoom(\"host\"===e.props.role);case 2:sessionStorage.removeItem(e.props.ssName),n=\"\".concat(e.props.baseHref,\"/\").concat(\"host\"===e.props.role?\"\":\"join?room=\"+e.props.title),e.props.history.push(n);case 5:case\"end\":return t.stop()}}),t)}))),e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){this.props.chime.audioVideo.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.callback)}},{key:\"componentWillUnmount\",value:function(){this.props&&this.props.chime.audioVideo&&this.props.chime.audioVideo.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.callback)}},{key:\"render\",value:function(){var e=this.state.muted?\"controls__btn--mic_on\":\"controls__btn--mic_off\",t=\"Enabled\"===this.state.videoStatus?\"controls__btn--cam_off\":\"controls__btn--cam_on\";return Object(x.jsxs)(\"div\",{className:\"controls pos-relative\",children:[Object(x.jsxs)(\"button\",{className:\"controls__btn \".concat(e,\" btn rounded btn--mic\"),onClick:this.muteButtonOnClick,children:[Object(x.jsx)(\"svg\",{className:\"btn__svg btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),Object(x.jsx)(\"svg\",{className:\"btn__svg btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]}),Object(x.jsxs)(\"button\",{className:\"controls__btn \".concat(t,\" btn rounded btn--cam\"),onClick:this.videoButtonOnClick,children:[Object(x.jsx)(\"svg\",{className:\"btn__svg btn__svg--cam_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M17 10.5V7C17 6.45 16.55 6 16 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.55 18 17 17.55 17 17V13.5L21 17.5V6.5L17 10.5Z\",fill:\"white\"})}),Object(x.jsx)(\"svg\",{className:\"btn__svg btn__svg--cam_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M21 6.5L17 10.5V7C17 6.45 16.55 6 16 6H9.82L21 17.18V6.5ZM3.27 2L2 3.27L4.73 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.21 18 16.39 17.92 16.54 17.82L19.73 21L21 19.73L3.27 2Z\",fill:\"white\"})})]}),Object(x.jsx)(\"button\",{className:\"controls__btn btn rounded btn--settings\",onClick:this.props.openSettings,children:Object(x.jsx)(\"svg\",{className:\"btn__svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M19.1401 12.936C19.1761 12.636 19.2001 12.324 19.2001 12C19.2001 11.676 19.1761 11.364 19.1281 11.064L21.1561 9.48002C21.3361 9.33602 21.3841 9.07202 21.2761 8.86802L19.3561 5.54402C19.2361 5.32802 18.9841 5.25602 18.7681 5.32802L16.3801 6.28802C15.8761 5.90402 15.3481 5.59202 14.7601 5.35202L14.4001 2.80802C14.3641 2.56802 14.1601 2.40002 13.9201 2.40002H10.0801C9.84011 2.40002 9.64811 2.56802 9.61211 2.80802L9.25211 5.35202C8.66411 5.59202 8.12411 5.91602 7.63211 6.28802L5.24411 5.32802C5.02811 5.24402 4.77611 5.32802 4.65611 5.54402L2.73611 8.86802C2.61611 9.08402 2.66411 9.33602 2.85611 9.48002L4.88411 11.064C4.83611 11.364 4.80011 11.688 4.80011 12C4.80011 12.312 4.82411 12.636 4.87211 12.936L2.84411 14.52C2.66411 14.664 2.61611 14.928 2.72411 15.132L4.64411 18.456C4.76411 18.672 5.01611 18.744 5.23211 18.672L7.62011 17.712C8.12411 18.096 8.65211 18.408 9.24011 18.648L9.60011 21.192C9.64811 21.432 9.84011 21.6 10.0801 21.6H13.9201C14.1601 21.6 14.3641 21.432 14.3881 21.192L14.7481 18.648C15.3361 18.408 15.8761 18.084 16.3681 17.712L18.7561 18.672C18.9721 18.756 19.2241 18.672 19.3441 18.456L21.2641 15.132C21.3841 14.916 21.3361 14.664 21.1441 14.52L19.1401 12.936ZM12.0001 15.6C10.0201 15.6 8.40011 13.98 8.40011 12C8.40011 10.02 10.0201 8.40002 12.0001 8.40002C13.9801 8.40002 15.6001 10.02 15.6001 12C15.6001 13.98 13.9801 15.6 12.0001 15.6Z\"})})}),Object(x.jsx)(\"button\",{className:\"controls__btn btn rounded btn--leave btn--destruct\",onClick:this.endButtonOnClick,children:Object(x.jsx)(\"svg\",{className:\"btn__svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M12 9C10.4 9 8.85 9.25 7.4 9.72V12.82C7.4 13.21 7.17 13.56 6.84 13.72C5.86 14.21 4.97 14.84 4.18 15.57C4 15.75 3.75 15.85 3.48 15.85C3.2 15.85 2.95 15.74 2.77 15.56L0.29 13.08C0.11 12.91 0 12.66 0 12.38C0 12.1 0.11 11.85 0.29 11.67C3.34 8.78 7.46 7 12 7C16.54 7 20.66 8.78 23.71 11.67C23.89 11.85 24 12.1 24 12.38C24 12.66 23.89 12.91 23.71 13.09L21.23 15.57C21.05 15.75 20.8 15.86 20.52 15.86C20.25 15.86 20 15.75 19.82 15.58C19.03 14.84 18.13 14.22 17.15 13.73C16.82 13.57 16.59 13.23 16.59 12.83V9.73C15.15 9.25 13.6 9 12 9Z\"})})})]})}}]),n}(a.Component),E=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={microphone:\"\",speaker:\"\",camera:\"\"},e.devicesUpdatedCallback=function(e){l},e.handleKeyDown=function(t){27===t.keyCode&&e.props.closeSettings()},e.handlePlaybackURLChange=function(t){e.setState({playbackURL:t.target.value})},e.handleMicrophoneChange=function(t){if(e.setState({microphone:t.target.value}),e.props.chime.audioInputDevices.length){var n,a;for(a in e.props.chime.audioInputDevices)if(e.props.chime.audioInputDevices[a].value===t.target.value){n=e.props.chime.audioInputDevices[a];break}e.props.chime.chooseAudioInputDevice(n)}},e.handleSpeakerChange=function(t){if(e.setState({speaker:t.target.value}),e.props.chime.audioOutputDevices.length){var n,a;for(a in e.props.chime.audioOutputDevices)if(e.props.chime.audioOutputDevices[a].value===t.target.value){n=e.props.chime.audioOutputDevices[a];break}e.props.chime.chooseAudioOutputDevice(n)}},e.handleCameraChange=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({camera:n.target.value}),!e.props.chime.videoInputDevices.length){t.next=11;break}t.t0=d.a.keys(e.props.chime.videoInputDevices);case 3:if((t.t1=t.t0()).done){t.next=10;break}if(s=t.t1.value,e.props.chime.videoInputDevices[s].value!==n.target.value){t.next=8;break}return a=e.props.chime.videoInputDevices[s],t.abrupt(\"break\",10);case 8:t.next=3;break;case 10:e.props.chime.chooseVideoInputDevice(a);case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSave=function(t){t.stopPropagation(),t.preventDefault();var n=e.state,a=n.microphone,s=n.speaker,i=n.camera;e.props.saveSettings(a,s,i)},e.renderDevices=function(e,t,n){return e&&e.length?e.map((function(e){return Object(x.jsx)(\"option\",{value:e.value,children:\"\".concat(e.label)},e.value)})):Object(x.jsx)(\"option\",{value:\"no-permission\",children:\"Permission not granted to access \".concat(n,\" devices\")})},e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.handleKeyDown),this.props.chime.subscribeToDevicesUpdated(this.devicesUpdatedCallback)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.handleKeyDown),this.props.chime.unsubscribeFromDevicesUpdated(this.devicesUpdatedCallback)}},{key:\"render\",value:function(){var e=this.props.chime.currentAudioInputDevice,t=this.props.chime.currentAudioOutputDevice,n=this.props.chime.currentVideoInputDevice,a=this.props.chime.audioInputDevices,s=this.props.chime.audioOutputDevices,i=this.props.chime.videoInputDevices;return Object(x.jsxs)(\"div\",{className:\"modal pos-absolute top-0 bottom-0 \",children:[Object(x.jsxs)(\"div\",{className:\"modal__el\",children:[Object(x.jsx)(\"h1\",{className:\"mg-b-2\",children:\"Settings\"}),Object(x.jsx)(\"form\",{children:Object(x.jsxs)(\"fieldset\",{children:[Object(x.jsx)(\"input\",{className:\"mg-b-2\",name:\"\",id:\"\",type:\"text\",readOnly:!0,placeholder:\"Playback URL\",onChange:this.handlePlaybackURLChange,value:this.props.joinInfo.PlaybackURL,disabled:!0}),Object(x.jsx)(\"select\",{name:\"microphone\",className:\"select__field\",onChange:this.handleMicrophoneChange,value:this.state.microphone||e.value,disabled:!a.length,children:this.renderDevices(a,e,\"microphone\")}),Object(x.jsx)(\"select\",{name:\"speaker\",className:\"select__field\",onChange:this.handleSpeakerChange,value:this.state.speaker||t.value,disabled:!s.length,children:this.renderDevices(s,t,\"speaker\")}),Object(x.jsx)(\"select\",{name:\"camera\",className:\"select__field\",onChange:this.handleCameraChange,value:this.state.camera||n.value,disabled:!i.length,children:this.renderDevices(i,n,\"camera\")}),Object(x.jsx)(\"button\",{className:\"btn btn--primary mg-t-2\",onClick:this.handleSave,children:\"Save\"})]})})]}),Object(x.jsx)(\"div\",{className:\"modal__overlay\"})]})}}]),n}(a.Component),M=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={enabled:!1,muted:!1,showMeta:!0},e.rosterCallback=function(t){var n;for(n in t)n===e.props.joinInfo.Attendee.AttendeeId&&e.setState({muted:t[n].muted})},e.videoElement=s.a.createRef(),e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;setTimeout((function(){e.setState({showMeta:!1})}),2500),this.props.chime.audioVideo.addObserver({videoTileDidUpdate:function(t){t.boundAttendeeId&&t.localTile&&t.tileId&&e.videoElement.current&&(e.props.chime.audioVideo.bindVideoElement(t.tileId,e.videoElement.current),e.setState({enabled:t.active}))}}),this.props.chime.subscribeToRosterUpdate(this.rosterCallback)}},{key:\"componentWillUnmount\",value:function(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback)}},{key:\"handleMouseEnter\",value:function(e){this.setState({showMeta:!0})}},{key:\"handleMouseLeave\",value:function(e){this.setState({showMeta:!1})}},{key:\"render\",value:function(){var e=this.state.showMeta||this.state.muted||!this.state.enabled,t=this.state.muted?\"controls__btn--mic_on\":\"controls__btn--mic_off\",n=e?\"\":\" cam__meta--hide\";return Object(x.jsxs)(\"div\",{className:\"cam\",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:[Object(x.jsx)(\"div\",{className:\"cam__preview\",children:Object(x.jsx)(\"div\",{className:\"video-container pos-relative\",children:Object(x.jsx)(\"video\",{className:\"attendee_cam\",ref:this.videoElement})})}),Object(x.jsxs)(\"span\",{className:\"cam__meta\".concat(n),id:\"\".concat(this.props.joinInfo.Attendee.AttendeeId),children:[\"You\",Object(x.jsxs)(\"span\",{className:\"\".concat(t,\" btn--mic\"),\"data-id\":this.props.joinInfo.Attendee.AttendeeId,children:[Object(x.jsx)(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),Object(x.jsx)(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]})]})]})}}]),n}(a.Component),V=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={showMeta:!0},e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;this.props.muted||setTimeout((function(){e.setState({showMeta:!1})}),2e3)}},{key:\"handleMouseEnter\",value:function(e){this.setState({showMeta:!0})}},{key:\"handleMouseLeave\",value:function(e){this.setState({showMeta:!1})}},{key:\"render\",value:function(){var e=this.props,t=e.attendeeId,n=e.videoEnabled,a=e.name,s=e.muted,i=e.videoElement,o=t?\"\":\" hidden\",r=s?\"controls__btn--mic_on\":\"controls__btn--mic_off\",c=this.state.showMeta||s||!n?\"\":\" cam__meta--hide\",l=\"video_\".concat(t);return Object(x.jsxs)(\"div\",{className:\"cam\".concat(o),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:[Object(x.jsx)(\"div\",{className:\"cam__preview\",children:Object(x.jsx)(\"div\",{className:\"video-container pos-relative\",children:Object(x.jsx)(\"video\",{ref:i,className:\"attendee_cam remote-attendee\",id:l})})}),Object(x.jsxs)(\"span\",{className:\"cam__meta\".concat(c),children:[a,Object(x.jsxs)(\"span\",{className:\"\".concat(r,\" btn--mic\"),\"data-id\":t,children:[Object(x.jsx)(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),Object(x.jsx)(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(x.jsx)(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]})]})]},t)}}]),n}(a.Component),N=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={rosterChanged:!1,roster:[]},e.findRosterSlot=function(t){var n;for(n=0;n<e.state.roster.length;n++)if(e.state.roster[n].attendeeId===t)return n;for(n=0;n<e.state.roster.length;n++)if(!e.state.roster[n].attendeeId)return n;return 0},e.rosterCallback=function(t){if(Object.keys(t).length,Object.keys(t).length<Object.keys(e.previousRoster).length){l;var n,a=Object.keys(e.previousRoster).filter((function(n){return e.previousRoster[n]!==t[n]}));if(a.length)for(n in a){var s=e.findRosterSlot(a[n]),i=e.state.roster;i[s]={videoElement:i[s].videoElement},e.setState({roster:i})}}var o;for(o in e.previousRoster=Object.assign({},t),t)if(o!==e.props.joinInfo.Attendee.AttendeeId&&t[o].name){var r=e.findRosterSlot(o),c=e.state.roster,u=Object(S.a)(Object(S.a)({},c[r]),{},{attendeeId:o},t[o]);c[r]=u,e.setState({roster:c})}},e.videoTileDidUpdateCallback=function(t){if(t.boundAttendeeId&&!t.localTile&&!t.isContent&&t.tileId){var n=e.findRosterSlot(t.boundAttendeeId),a=e.state.roster,s=Object(S.a)(Object(S.a)({},a[n]),{},{videoEnabled:t.active,attendeeId:t.boundAttendeeId,tileId:t.tileId});a[n]=s,e.setState({roster:a}),setTimeout((function(){var n=document.getElementById(\"video_\".concat(t.boundAttendeeId));n&&e.props.chime.audioVideo.bindVideoElement(t.tileId,n)}),1e3)}},e.videoTileWasRemovedCallback=function(t){var n=e.state.roster;n.find((function(a,s){a.tileId===t&&(n[s].videoEnabled=!1,e.setState({roster:n}))}))},e.previousRoster={},e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=[];Array.from(Array(16).keys()).map((function(t,n){e[n]={videoElement:s.a.createRef()}})),this.setState({roster:e}),this.props.chime.subscribeToRosterUpdate(this.rosterCallback),this.props.chime.audioVideo.addObserver({videoTileDidUpdate:this.videoTileDidUpdateCallback,videoTileWasRemoved:this.videoTileWasRemovedCallback})}},{key:\"componentWillUnmount\",value:function(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback)}},{key:\"render\",value:function(){var e=this;return Object(x.jsx)(s.a.Fragment,{children:this.state.roster.map((function(t,n){return Object(x.jsx)(V,{chime:e.props.chime,attendeeId:t.attendeeId,videoEnabled:t.videoEnabled,name:t.name,muted:t.muted,videoElement:t.videoElement},n)}))})}}]),n}(a.Component),R=(n(290),function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={meetingStatus:null,showSettings:!1,showError:!1,errorMsg:\"\"},e.openSettings=function(){e.setState({showSettings:!0})},e.closeSettings=function(){e.setState({showSettings:!1})},e.handleClick=function(t){if(e.state.showSettings){for(var n=t.target,a=!1;n;){if(n&&n.classList&&n.classList.contains(\"modal__el\")){a=!0;break}n=n.parentNode}a||e.setState({showSettings:!1})}},e.saveSettings=function(t,n,a,s){e.setState({showSettings:!1,currentAudioInputDevice:n,currentAudioOutputDevice:a,currentVideoInputDevice:s})},e.setMetadataId=function(t){e.setState({metadataId:t})},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.layout=function(){if(\"Success\"===e.state.meetingStatus)return Object(x.jsxs)(\"div\",{className:\"app-grid\",onClick:e.handleClick,children:[Object(x.jsxs)(\"div\",{className:\"main-stage\",children:[Object(x.jsxs)(\"div\",{className:\"cams pos-relative\",children:[Object(x.jsx)(M,{chime:e.props.chime,joinInfo:e.joinInfo}),Object(x.jsx)(N,{chime:e.props.chime,joinInfo:e.joinInfo})]}),Object(x.jsx)(_,{setMetadataId:e.setMetadataId,videoStream:e.playbackURL}),Object(x.jsx)(L,{chime:e.props.chime,baseHref:e.baseHref,ssName:e.ssName,title:e.title,openSettings:e.openSettings,role:e.role,history:e.props.history,myVideoElement:e.myVideoElement})]}),Object(x.jsx)(D,{chime:e.props.chime,title:e.title,username:e.username,joinInfo:e.joinInfo}),e.state.showSettings&&Object(x.jsx)(E,{chime:e.props.chime,joinInfo:e.joinInfo,saveSettings:e.saveSettings})]})},e.baseHref=\"\",e.ssName=\"\",e.audioElementRef=s.a.createRef(),e.myVideoElement=s.a.createRef(),e}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;(function(){var t=Object(h.a)(d.a.mark((function t(){var n,a,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=new URLSearchParams(e.props.location.search),a=n.get(\"room\"),e.ssName=\"chime[\".concat(a,\"]\"),a&&sessionStorage.getItem(e.ssName)||e.props.history.push(\"\".concat(e.baseHref,\"/\")),s=JSON.parse(sessionStorage.getItem(e.ssName)),e.username=s.username,e.title=s.title,e.role=s.role,s.joinInfo){t.next=19;break}return t.next=13,e.props.chime.createRoom(e.role,e.username,e.title,s.playbackURL);case 13:e.joinInfo=t.sent,i=Object(S.a)(Object(S.a)({},s),{},{joinInfo:e.joinInfo}),sessionStorage.setItem(e.ssName,JSON.stringify(i)),e.playbackURL=e.joinInfo.PlaybackURL,t.next=23;break;case 19:return e.joinInfo=s.joinInfo,e.playbackURL=s.joinInfo.PlaybackURL,t.next=23,e.props.chime.reInitializeMeetingSession(e.joinInfo,e.username);case 23:return e.setState({meetingStatus:\"Success\"}),e.props.chime.audioVideo.addObserver({audioVideoDidStop:function(){var t=Object(h.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.statusCode()===m.MeetingSessionStatusCode.AudioCallEnded&&(a=\"\".concat(e.baseHref,\"/\").concat(\"host\"===e.role?\"\":\"end\"),e.props.chime.leaveRoom(\"host\"===e.role),e.props.history.push(a));case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),t.next=27,e.props.chime.joinRoom(e.audioElementRef.current);case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(0),console.error(t.t0),e.setState({meetingStatus:\"Failed\"});case 33:case\"end\":return t.stop()}}),t,null,[[0,29]])})));return function(){return t.apply(this,arguments)}})()()}},{key:\"render\",value:function(){return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(\"audio\",{ref:this.audioElementRef,style:{display:\"none\"}}),this.layout(),this.state.showError&&Object(x.jsx)(w,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(a.Component)),U=Object(c.f)(R),A=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).baseHref=\"\",e}return Object(v.a)(n,[{key:\"render\",value:function(){return Object(x.jsxs)(\"div\",{className:\"welcome form-grid\",children:[Object(x.jsx)(\"div\",{className:\"welcome__intro\",children:Object(x.jsxs)(\"div\",{className:\"intro__inner formatted-text\",children:[Object(x.jsx)(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),Object(x.jsx)(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),Object(x.jsx)(\"div\",{className:\"welcome__content pd-4\",children:Object(x.jsxs)(\"div\",{className:\"content__inner formatted-text\",children:[Object(x.jsx)(\"h2\",{className:\"mg-b-2\",children:\"Room closed\"}),Object(x.jsx)(\"p\",{children:\"The host has ended the meeting and closed the room.\"}),Object(x.jsx)(\"a\",{href:\"\".concat(this.baseHref,\"/\"),className:\"mg-t-3 btn btn--primary\",children:\"Create a new room\"})]})})]})}}]),n}(a.Component),T=Object(c.f)(A);var H=function(){var e=new j;return Object(x.jsx)(\"div\",{className:\"App full-width full-height\",children:Object(x.jsx)(r.a,{children:Object(x.jsxs)(c.c,{children:[Object(x.jsx)(c.a,{path:\"\".concat(\"\",\"/end\"),children:Object(x.jsx)(T,{})}),Object(x.jsx)(c.a,{path:\"\".concat(\"\",\"/meeting\"),children:Object(x.jsx)(U,{chime:e})}),Object(x.jsx)(c.a,{path:\"\".concat(\"\",\"/join\"),children:Object(x.jsx)(I,{chime:e})}),Object(x.jsx)(c.a,{path:\"\".concat(\"\"),children:Object(x.jsx)(y,{chime:e})})]})})})};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[291,1,2]]]);","name":"static/js/main.62d8d3c9.chunk.js","map":{"version":3,"sources":["static/js/main.62d8d3c9.chunk.js"],"names":["this","push","228","module","exports","__webpack_require__","283","289","290","291","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","DEBUG","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","build","throttle","throttle_default","ChimeSdkWrapper_ChimeSdkWrapper","ChimeSdkWrapper","Object","initializeSdkWrapper","key","value","meetingSession","audioVideo","title","name","region","currentAudioInputDevice","currentAudioOutputDevice","currentVideoInputDevice","audioInputDevices","audioOutputDevices","videoInputDevices","devicesUpdatedCallbacks","roster","rosterUpdateCallbacks","configuration","messagingSocket","messageUpdateCallbacks","error","console","_createRoom","a","mark","_callee","role","playbackURL","payload","response","json","JoinInfo","wrap","_context","prev","next","concat","abrupt","fetch","method","body","JSON","stringify","sent","Error","Meeting","Attendee","initializeMeetingSession","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","_reInitializeMeetingSession","_callee2","_context2","Title","_x6","_x7","_initializeMeetingSession","_callee4","logger","deviceController","_this","_context4","ERROR","listAudioInputDevices","forEach","mediaDeviceInfo","label","deviceId","listAudioOutputDevices","listVideoInputDevices","publishDevicesUpdated","addDeviceChangeObserver","realtimeSubscribeToAttendeeIdPresence","presentAttendeeId","present","publishRosterUpdate","realtimeSubscribeToVolumeIndicator","_ref","_callee3","attendeeId","volume","muted","signalStrength","_context3","base","Math","round","encodeURIComponent","AttendeeInfo","Name","_x9","_x10","_x11","_x12","_x8","_joinRoom","_callee5","element","audioInputs","audioOutputs","videoInputs","_this2","_context5","logError","window","addEventListener","event","reason","length","chooseAudioInputDevice","chooseAudioOutputDevice","chooseVideoInputDevice","bindAudioElement","start","_x13","_joinRoomMessaging","_callee6","messagingUrl","_this3","_context6","meetingId","credentials","joinToken","open","WEB_SOCKET_TIMEOUT_MS","data","parse","publishMessageUpdate","type","timestampMs","Date","now","message","send","_leaveRoom","_callee7","end","_context7","t0","_x14","_chooseAudioInputDevice","_callee8","device","_context8","_x15","_chooseAudioOutputDevice","_callee9","_context9","_x16","_chooseVideoInputDevice","_callee10","_context10","_x17","freshAudioInputDeviceList","_this4","hasCurrentDevice","freshAudioOutputDeviceList","_this5","freshVideoInputDeviceList","_this6","callback","index","indexOf","splice","_this7","_this8","i","ROSTER_THROTTLE_MS","inherits","createSuper","jsx_runtime","components_chimeWeb_Error","_Component","_super","_len","args","Array","_key","call","handleKeyDown","e","keyCode","props","closeError","handleClick","node","target","isModal","classList","contains","parentNode","handleGoCreateRoom","location","replace","document","removeEventListener","className","onClick","children","viewBox","xmlns","d","errorMsg","Welcome_Welcome","Welcome","state","username","showError","handleNameChange","setState","handleRoomChange","handlePlaybackURLChange","handleCreateRoom","preventDefault","stopPropagation","createRoom","setErrorMsg","baseHref","inputRef","createRef","qs","URLSearchParams","search","get","history","current","focus","_this$state","sessionStorage","setItem","_this$state2","createRoomDisabled","Fragment","action","placeholder","ref","onChange","disabled","chimeWeb_Welcome","Join_Join","Join","joinRoom","handleJoinRoom","room","joinRoomDisabled","chimeWeb_Join","objectSpread2","videoPlayer_VideoPlayer","VideoPlayer","mediaPlayerScriptLoaded","MediaPlayerPackage","IVSPlayer","playerOverlay","getElementById","btnPlay","btnMute","isPlayerSupported","PlayerState","PlayerEventType","player","create","attachHTMLVideoElement","PLAYING","ENDED","READY","err","TEXT_METADATA_CUE","cue","text","getPosition","toFixed","setAutoplay","load","videoStream","setVolume","add","remove","pause","play","setMuted","warn","videoElement","maxMetaData","metaData","mediaPlayerScript","createElement","src","async","onload","appendChild","id","height","width","playsInline","components_chat_Chat","Chat","scrollToBottom","messagesEndRef","scrollIntoView","behavior","handleChange","connection","handleRoomClick","link","origin","pathname","copyTextToClipboard","encodeURI","setShowPopup","showPopup","setTimeout","navigator","clipboard","writeText","then","parseUrls","userInput","match","formattedMatch","startsWith","renderMessages","messages","map","formattedMessage","dangerouslySetInnerHTML","__html","timestamp","chatRef","initChatConnection","_initChatConnection","_this$props$joinInfo","joinInfo","MeetingId","AttendeeId","JoinToken","split","slice","join","popup","fill","maxLength","onKeyDown","chimeWeb_Controls","Controls","videoStatus","localMuted","muteButtonOnClick","chime","realtimeUnmuteLocalAudio","realtimeMuteLocalAudio","Promise","resolve","videoButtonOnClick","startLocalVideoTile","t1","stopLocalVideoTile","endButtonOnClick","whereTo","leaveRoom","removeItem","ssName","realtimeSubscribeToMuteAndUnmuteLocalAudio","realtimeUnsubscribeToMuteAndUnmuteLocalAudio","mic_controls","cam_controls","openSettings","chimeWeb_Settings","Settings","microphone","speaker","camera","devicesUpdatedCallback","fullDeviceInfo","closeSettings","handleMicrophoneChange","selectedDevice","o","handleSpeakerChange","handleCameraChange","keys","done","handleSave","saveSettings","renderDevices","devices","defaultValue","subscribeToDevicesUpdated","unsubscribeFromDevicesUpdated","currentMic","currentSpeaker","currentCam","availableMics","availableSpeakers","availableCams","readOnly","PlaybackURL","chimeWeb_LocalVideo","LocalVideo","enabled","showMeta","rosterCallback","newRoster","addObserver","videoTileDidUpdate","tileState","boundAttendeeId","localTile","tileId","bindVideoElement","active","subscribeToRosterUpdate","unsubscribeFromRosterUpdate","micMuteCls","metaCls","onMouseEnter","handleMouseEnter","bind","onMouseLeave","handleMouseLeave","data-id","chimeWeb_RemoteVideo","RemoteVideo","_this$props","videoEnabled","camClass","videoId","chimeWeb_RemoteVideoGroup","RemoteVideoGroup","rosterChanged","findRosterSlot","previousRoster","differ","filter","k","assign","_index","_roster","attendee","videoTileDidUpdateCallback","isContent","videoTileWasRemovedCallback","find","from","videoTileWasRemoved","Meeting_Meeting","meetingStatus","showSettings","setMetadataId","metadataId","layout","myVideoElement","audioElementRef","ssData","getItem","reInitializeMeetingSession","audioVideoDidStop","_audioVideoDidStop","sessionStatus","statusCode","AudioCallEnded","style","display","chimeWeb_Meeting","End_End","End","href","chimeWeb_End","components_App","path","Boolean","hostname","render","StrictMode","serviceWorker","ready","registration","unregister","catch"],"mappings":"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"},"input":"(this[\"webpackJsonpamazon-ivs-chime-demo-web-ui\"] = this[\"webpackJsonpamazon-ivs-chime-demo-web-ui\"] || []).push([[0],{\n\n/***/ 228:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(221);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(228);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/config.js\nvar BASE_HREF=\"\";// API endpoint for retrieving the attendees list, joining the room, and ending the room\nvar CHIME_ROOM_API=\"\";// Chime-SDK allows up to 16 attendee videos\nvar CHIME_ROOM_MAX_ATTENDEE=16;// Default video stream to play inside the video player\nvar DEFAULT_VIDEO_STREAM=\"https://fcc3ddae59ed.us-west-2.playback.live-video.net/api/video/v1/us-west-2.893648527354.channel.DmumNckWFTqz.m3u8\";// Default Chat websocket link\nvar CHAT_WEBSOCKET=\"\";// Chime-SDK logging level: INFO, WARN, ERROR, DEBUG\nvar CHIME_LOG_LEVEL='WARN';// Chime-Web UI debugging logging: true / false\nvar DEBUG=false;\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/amazon-chime-sdk-js/build/index.js\nvar build = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/lodash/throttle.js\nvar throttle = __webpack_require__(222);\nvar throttle_default = /*#__PURE__*/__webpack_require__.n(throttle);\n\n// CONCATENATED MODULE: ./src/components/chime/ChimeSdkWrapper.js\nvar ChimeSdkWrapper_ChimeSdkWrapper=/*#__PURE__*/function(){function ChimeSdkWrapper(){Object(classCallCheck[\"a\" /* default */])(this,ChimeSdkWrapper);this.initializeSdkWrapper();}Object(createClass[\"a\" /* default */])(ChimeSdkWrapper,[{key:\"initializeSdkWrapper\",value:function initializeSdkWrapper(){this.meetingSession=null;this.audioVideo=null;this.title=null;this.name=null;this.region=null;this.currentAudioInputDevice=null;this.currentAudioOutputDevice=null;this.currentVideoInputDevice=null;this.audioInputDevices=[];this.audioOutputDevices=[];this.videoInputDevices=[];this.devicesUpdatedCallbacks=[];this.roster={};this.rosterUpdateCallbacks=[];this.configuration=null;this.messagingSocket=null;this.messageUpdateCallbacks=[];}},{key:\"logError\",value:function logError(error){console.error(error);}},{key:\"createRoom\",value:function(){var _createRoom=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(role,name,title,playbackURL,region){var payload,response,json,JoinInfo;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!name||!title||!role)){_context.next=3;break;}console.error(\"role=\".concat(role,\" name=\").concat(name,\" title=\").concat(title,\" must exist\"));return _context.abrupt(\"return\");case 3:payload={name:name,title:title,playbackURL:playbackURL,role:role};_context.next=6;return fetch(\"\".concat(CHIME_ROOM_API,\"/join\"),{method:'POST',body:JSON.stringify(payload)});case 6:response=_context.sent;_context.next=9;return response.json();case 9:json=_context.sent;if(!json.error){_context.next=12;break;}throw new Error(json.error);case 12:JoinInfo=json.JoinInfo;if(JoinInfo){_context.next=15;break;}throw new Error('CreateOrJoin.classRoomDoesNotExist');case 15:this.configuration=new build[\"MeetingSessionConfiguration\"](JoinInfo.Meeting,JoinInfo.Attendee);_context.next=18;return this.initializeMeetingSession(this.configuration);case 18:this.title=title;this.name=name;this.region=region;return _context.abrupt(\"return\",JoinInfo);case 22:case\"end\":return _context.stop();}}},_callee,this);}));function createRoom(_x,_x2,_x3,_x4,_x5){return _createRoom.apply(this,arguments);}return createRoom;}()},{key:\"reInitializeMeetingSession\",value:function(){var _reInitializeMeetingSession=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(JoinInfo,name){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.configuration=new build[\"MeetingSessionConfiguration\"](JoinInfo.Meeting,JoinInfo.Attendee);_context2.next=3;return this.initializeMeetingSession(this.configuration);case 3:this.title=JoinInfo.Title;this.name=name;// this.region = region;\ncase 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function reInitializeMeetingSession(_x6,_x7){return _reInitializeMeetingSession.apply(this,arguments);}return reInitializeMeetingSession;}()},{key:\"initializeMeetingSession\",value:function(){var _initializeMeetingSession=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(configuration){var _this=this;var logger,deviceController;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:logger=new build[\"ConsoleLogger\"]('SDK',build[\"LogLevel\"].ERROR);deviceController=new build[\"DefaultDeviceController\"](logger);this.meetingSession=new build[\"DefaultMeetingSession\"](configuration,logger,deviceController);this.audioVideo=this.meetingSession.audioVideo;this.audioInputDevices=[];_context4.next=7;return this.audioVideo.listAudioInputDevices();case 7:_context4.sent.forEach(function(mediaDeviceInfo){_this.audioInputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});this.audioOutputDevices=[];_context4.next=11;return this.audioVideo.listAudioOutputDevices();case 11:_context4.sent.forEach(function(mediaDeviceInfo){_this.audioOutputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});this.videoInputDevices=[];_context4.next=15;return this.audioVideo.listVideoInputDevices();case 15:_context4.sent.forEach(function(mediaDeviceInfo){_this.videoInputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});this.publishDevicesUpdated();this.audioVideo.addDeviceChangeObserver(this);this.audioVideo.realtimeSubscribeToAttendeeIdPresence(function(presentAttendeeId,present){if(!present){delete _this.roster[presentAttendeeId];//this.publishRosterUpdate.cancel();\n_this.publishRosterUpdate()();return;}_this.audioVideo.realtimeSubscribeToVolumeIndicator(presentAttendeeId,/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(attendeeId,volume,muted,signalStrength){var baseAttendeeId,shouldPublishImmediately,response,json;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:baseAttendeeId=new build[\"DefaultModality\"](attendeeId).base();if(!(baseAttendeeId!==attendeeId)){_context3.next=3;break;}return _context3.abrupt(\"return\");case 3:shouldPublishImmediately=false;if(!_this.roster[attendeeId]){_this.roster[attendeeId]={name:''};}if(volume!==null){_this.roster[attendeeId].volume=Math.round(volume*100);}if(muted!==null){_this.roster[attendeeId].muted=muted;}if(signalStrength!==null){_this.roster[attendeeId].signalStrength=Math.round(signalStrength*100);}if(!(_this.title&&attendeeId&&!_this.roster[attendeeId].name)){_context3.next=16;break;}_context3.next=11;return fetch(\"\".concat(CHIME_ROOM_API,\"/attendee?title=\").concat(encodeURIComponent(_this.title),\"&attendeeId=\").concat(encodeURIComponent(attendeeId)));case 11:response=_context3.sent;_context3.next=14;return response.json();case 14:json=_context3.sent;if(json.AttendeeInfo&&_this.roster[attendeeId]){_this.roster[attendeeId].name=json.AttendeeInfo.Name||'';shouldPublishImmediately=true;}case 16:if(shouldPublishImmediately){//this.publishRosterUpdate.cancel();\n}_this.publishRosterUpdate()();case 18:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x9,_x10,_x11,_x12){return _ref.apply(this,arguments);};}());});case 19:case\"end\":return _context4.stop();}}},_callee4,this);}));function initializeMeetingSession(_x8){return _initializeMeetingSession.apply(this,arguments);}return initializeMeetingSession;}()},{key:\"joinRoom\",value:function(){var _joinRoom=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(element){var _this2=this;var audioInputs,audioOutputs,videoInputs;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(element){_context5.next=3;break;}this.logError(new Error(\"element does not exist\"));return _context5.abrupt(\"return\");case 3:window.addEventListener('unhandledrejection',function(event){_this2.logError(event.reason);});_context5.next=6;return this.audioVideo.listAudioInputDevices();case 6:audioInputs=_context5.sent;if(!(audioInputs&&audioInputs.length>0&&audioInputs[0].deviceId)){_context5.next=11;break;}this.currentAudioInputDevice={label:audioInputs[0].label,value:audioInputs[0].deviceId};_context5.next=11;return this.audioVideo.chooseAudioInputDevice(audioInputs[0].deviceId);case 11:_context5.next=13;return this.audioVideo.listAudioOutputDevices();case 13:audioOutputs=_context5.sent;if(!(audioOutputs&&audioOutputs.length>0&&audioOutputs[0].deviceId)){_context5.next=18;break;}this.currentAudioOutputDevice={label:audioOutputs[0].label,value:audioOutputs[0].deviceId};_context5.next=18;return this.audioVideo.chooseAudioOutputDevice(audioOutputs[0].deviceId);case 18:_context5.next=20;return this.audioVideo.listVideoInputDevices();case 20:videoInputs=_context5.sent;if(!(videoInputs&&videoInputs.length>0&&videoInputs[0].deviceId)){_context5.next=25;break;}this.currentVideoInputDevice={label:videoInputs[0].label,value:videoInputs[0].deviceId};_context5.next=25;return this.audioVideo.chooseVideoInputDevice(null);case 25:this.publishDevicesUpdated();this.audioVideo.bindAudioElement(element);this.audioVideo.start();case 28:case\"end\":return _context5.stop();}}},_callee5,this);}));function joinRoom(_x13){return _joinRoom.apply(this,arguments);}return joinRoom;}()},{key:\"joinRoomMessaging\",value:function(){var _joinRoomMessaging=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(){var _this3=this;var messagingUrl;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(this.configuration){_context6.next=3;break;}this.logError(new Error('configuration does not exist'));return _context6.abrupt(\"return\");case 3:messagingUrl=\"\".concat(CHAT_WEBSOCKET,\"?MeetingId=\").concat(this.configuration.meetingId,\"&AttendeeId=\").concat(this.configuration.credentials.attendeeId,\"&JoinToken=\").concat(this.configuration.credentials.joinToken);this.messagingSocket=new build[\"ReconnectingPromisedWebSocket\"](messagingUrl,[],'arraybuffer',new build[\"DefaultPromisedWebSocketFactory\"](new build[\"DefaultDOMWebSocketFactory\"]()),new build[\"FullJitterBackoff\"](1000,0,10000));_context6.next=7;return this.messagingSocket.open(this.WEB_SOCKET_TIMEOUT_MS);case 7:this.messagingSocket.addEventListener('message',function(event){try{var data=JSON.parse(event.data);var attendeeId=data.payload.attendeeId;var name;if(_this3.roster[attendeeId]){name=_this3.roster[attendeeId].name;}_this3.publishMessageUpdate({type:data.type,payload:data.payload,timestampMs:Date.now(),name:name});}catch(error){_this3.logError(error);}});case 8:case\"end\":return _context6.stop();}}},_callee6,this);}));function joinRoomMessaging(){return _joinRoomMessaging.apply(this,arguments);}return joinRoomMessaging;}()},{key:\"sendMessage\",value:function sendMessage(type,payload){if(!this.messagingSocket){return;}var message={message:'sendmessage',data:JSON.stringify({type:type,payload:payload})};try{this.messagingSocket.send(JSON.stringify(message));}catch(error){this.logError(error);}}},{key:\"leaveRoom\",value:function(){var _leaveRoom=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(end){return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:try{this.audioVideo.stop();}catch(error){this.logError(error);}// try {\n//   await this.messagingSocket.close(this.WEB_SOCKET_TIMEOUT_MS);\n// } catch (error) {\n//   this.logError(error);\n// }\n_context7.prev=1;if(!(end&&this.title)){_context7.next=5;break;}_context7.next=5;return fetch(\"\".concat(CHIME_ROOM_API,\"/end?title=\").concat(encodeURIComponent(this.title)),{method:'POST'});case 5:_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](1);this.logError(_context7.t0);case 10:this.initializeSdkWrapper();case 11:case\"end\":return _context7.stop();}}},_callee7,this,[[1,7]]);}));function leaveRoom(_x14){return _leaveRoom.apply(this,arguments);}return leaveRoom;}()// Device\n},{key:\"chooseAudioInputDevice\",value:function(){var _chooseAudioInputDevice=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(device){return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return this.audioVideo.chooseAudioInputDevice(device.value);case 3:this.currentAudioInputDevice=device;_context8.next=9;break;case 6:_context8.prev=6;_context8.t0=_context8[\"catch\"](0);this.logError(_context8.t0);case 9:case\"end\":return _context8.stop();}}},_callee8,this,[[0,6]]);}));function chooseAudioInputDevice(_x15){return _chooseAudioInputDevice.apply(this,arguments);}return chooseAudioInputDevice;}()},{key:\"chooseAudioOutputDevice\",value:function(){var _chooseAudioOutputDevice=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(device){return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return this.audioVideo.chooseAudioOutputDevice(device.value);case 3:this.currentAudioOutputDevice=device;_context9.next=9;break;case 6:_context9.prev=6;_context9.t0=_context9[\"catch\"](0);this.logError(_context9.t0);case 9:case\"end\":return _context9.stop();}}},_callee9,this,[[0,6]]);}));function chooseAudioOutputDevice(_x16){return _chooseAudioOutputDevice.apply(this,arguments);}return chooseAudioOutputDevice;}()},{key:\"chooseVideoInputDevice\",value:function(){var _chooseVideoInputDevice=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee10(device){return regenerator_default.a.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return this.audioVideo.chooseVideoInputDevice(device.value);case 3:this.currentVideoInputDevice=device;_context10.next=9;break;case 6:_context10.prev=6;_context10.t0=_context10[\"catch\"](0);this.logError(_context10.t0);case 9:case\"end\":return _context10.stop();}}},_callee10,this,[[0,6]]);}));function chooseVideoInputDevice(_x17){return _chooseVideoInputDevice.apply(this,arguments);}return chooseVideoInputDevice;}()// Observer methods\n},{key:\"audioInputsChanged\",value:function audioInputsChanged(freshAudioInputDeviceList){var _this4=this;var hasCurrentDevice=false;this.audioInputDevices=[];freshAudioInputDeviceList.forEach(function(mediaDeviceInfo){if(_this4.currentAudioInputDevice&&mediaDeviceInfo.deviceId===_this4.currentAudioInputDevice.value){hasCurrentDevice=true;}_this4.audioInputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});if(!hasCurrentDevice){this.currentAudioInputDevice=this.audioInputDevices.length>0?this.audioInputDevices[0]:null;}this.publishDevicesUpdated();}},{key:\"audioOutputsChanged\",value:function audioOutputsChanged(freshAudioOutputDeviceList){var _this5=this;var hasCurrentDevice=false;this.audioOutputDevices=[];freshAudioOutputDeviceList.forEach(function(mediaDeviceInfo){if(_this5.currentAudioOutputDevice&&mediaDeviceInfo.deviceId===_this5.currentAudioOutputDevice.value){hasCurrentDevice=true;}_this5.audioOutputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});if(!hasCurrentDevice){this.currentAudioOutputDevice=this.audioOutputDevices.length>0?this.audioOutputDevices[0]:null;}this.publishDevicesUpdated();}},{key:\"videoInputsChanged\",value:function videoInputsChanged(freshVideoInputDeviceList){var _this6=this;var hasCurrentDevice=false;this.videoInputDevices=[];freshVideoInputDeviceList.forEach(function(mediaDeviceInfo){if(_this6.currentVideoInputDevice&&mediaDeviceInfo.deviceId===_this6.currentVideoInputDevice.value){hasCurrentDevice=true;}_this6.videoInputDevices.push({label:mediaDeviceInfo.label,value:mediaDeviceInfo.deviceId});});if(!hasCurrentDevice){this.currentVideoInputDevice=this.videoInputDevices.length>0?this.videoInputDevices[0]:null;}this.publishDevicesUpdated();}// Subscribe and unsubscribe\n},{key:\"subscribeToDevicesUpdated\",value:function subscribeToDevicesUpdated(callback){this.devicesUpdatedCallbacks.push(callback);}},{key:\"unsubscribeFromDevicesUpdated\",value:function unsubscribeFromDevicesUpdated(callback){var index=this.devicesUpdatedCallbacks.indexOf(callback);if(index!==-1){this.devicesUpdatedCallbacks.splice(index,1);}}},{key:\"publishDevicesUpdated\",value:function publishDevicesUpdated(){var _this7=this;this.devicesUpdatedCallbacks.forEach(function(callback){callback({currentAudioInputDevice:_this7.currentAudioInputDevice,currentAudioOutputDevice:_this7.currentAudioOutputDevice,currentVideoInputDevice:_this7.currentVideoInputDevice,audioInputDevices:_this7.audioInputDevices,audioOutputDevices:_this7.audioOutputDevices,videoInputDevices:_this7.videoInputDevices});});}},{key:\"subscribeToRosterUpdate\",value:function subscribeToRosterUpdate(callback){this.rosterUpdateCallbacks.push(callback);}},{key:\"unsubscribeFromRosterUpdate\",value:function unsubscribeFromRosterUpdate(callback){var index=this.rosterUpdateCallbacks.indexOf(callback);if(index!==-1){this.rosterUpdateCallbacks.splice(index,1);}}},{key:\"publishRosterUpdate\",value:function publishRosterUpdate(){var _this8=this;return throttle_default()(function(){for(var i=0;i<_this8.rosterUpdateCallbacks.length;i+=1){var callback=_this8.rosterUpdateCallbacks[i];callback(_this8.roster);}},this.ROSTER_THROTTLE_MS);}},{key:\"subscribeToMessageUpdate\",value:function subscribeToMessageUpdate(callback){this.messageUpdateCallbacks.push(callback);}},{key:\"unsubscribeFromMessageUpdate\",value:function unsubscribeFromMessageUpdate(callback){var index=this.messageUpdateCallbacks.indexOf(callback);if(index!==-1){this.messageUpdateCallbacks.splice(index,1);}}},{key:\"publishMessageUpdate\",value:function publishMessageUpdate(message){for(var i=0;i<this.messageUpdateCallbacks.length;i+=1){var callback=this.messageUpdateCallbacks[i];callback(message);}}}]);return ChimeSdkWrapper;}();ChimeSdkWrapper_ChimeSdkWrapper.WEB_SOCKET_TIMEOUT_MS=10000;ChimeSdkWrapper_ChimeSdkWrapper.ROSTER_THROTTLE_MS=400;\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/components/chimeWeb/Error.css\nvar chimeWeb_Error = __webpack_require__(283);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/chimeWeb/Error.jsx\n// Styles\n// Assets\nvar Error_Error=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Error,_Component);var _super=Object(createSuper[\"a\" /* default */])(Error);function Error(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Error);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleKeyDown=function(e){if(e.keyCode===27){// keyCode 27 is Escape key\n_this.props.closeError();}};_this.handleClick=function(e){var node=e.target;var isModal=false;while(node){if(node&&node.classList&&node.classList.contains('notice--error')){isModal=true;break;}node=node.parentNode;}if(!isModal){_this.props.closeError();}};_this.handleGoCreateRoom=function(){window.location.replace(\"/index.html\");};return _this;}Object(createClass[\"a\" /* default */])(Error,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.handleKeyDown);// setTimeout(() => {\n//   this.props.closeError();\n// }, 10000);\n}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyDown);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"notice notice--error\",onClick:this.handleClick,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"notice__content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"icon icon--24 notice__icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:\"0 0 1000 1000\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M 500 0C 224 0 0 224 0 500C 0 776 224 1000 500 1000C 776 1000 1000 776 1000 500C 1000 224 776 0 500 0C 500 0 500 0 500 0M 526 150C 576 150 602 175 601 224C 600 300 600 350 575 525C 570 560 560 575 525 575C 525 575 475 575 475 575C 440 575 430 560 425 525C 400 355 400 300 400 226C 400 175 425 150 475 150M 500 650C 527 650 552 661 571 679C 589 698 600 723 600 750C 600 805 555 850 500 850C 445 850 400 805 400 750C 400 723 411 698 429 679C 448 661 473 650 500 650C 500 650 500 650 500 650\"})})}),this.props.errorMsg,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"To create your own room, click \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"go-create-room\",onClick:this.handleGoCreateRoom,children:\"here\"}),\".\"]})]})});}}]);return Error;}(react[\"Component\"]);/* harmony default export */ var components_chimeWeb_Error = (Error_Error);\n// CONCATENATED MODULE: ./src/components/chimeWeb/Welcome.jsx\nvar Welcome_Welcome=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Welcome,_Component);var _super=Object(createSuper[\"a\" /* default */])(Welcome);function Welcome(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Welcome);_this=_super.call(this);_this.state={role:'host',username:'',title:'',playbackURL:DEFAULT_VIDEO_STREAM,errorMsg:'',showError:false};_this.handleNameChange=function(e){_this.setState({username:e.target.value});};_this.handleRoomChange=function(e){_this.setState({title:e.target.value});};_this.handlePlaybackURLChange=function(e){_this.setState({playbackURL:e.target.value});};_this.handleCreateRoom=function(e){e.preventDefault();e.stopPropagation();_this.createRoom();};_this.setErrorMsg=function(errorMsg){_this.setState({errorMsg:errorMsg,showError:true});};_this.closeError=function(){_this.setState({showError:false});};_this.baseHref=BASE_HREF;_this.inputRef=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(Welcome,[{key:\"componentDidMount\",value:function componentDidMount(){var qs=new URLSearchParams(this.props.location.search);var action=qs.get('action');if(action==='join'){var title=qs.get('room');this.props.history.push(\"\".concat(this.baseHref,\"/join?room=\").concat(title));}this.inputRef.current.focus();}},{key:\"createRoom\",value:function(){var _createRoom=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this$state,title,username,playbackURL,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=this.state,title=_this$state.title,username=_this$state.username,playbackURL=_this$state.playbackURL;data={username:username,title:title,playbackURL:playbackURL,role:this.state.role};sessionStorage.setItem(\"chime[\".concat(title,\"]\"),JSON.stringify(data));this.props.history.push(\"\".concat(this.baseHref,\"/meeting?room=\").concat(title));case 4:case\"end\":return _context.stop();}}},_callee,this);}));function createRoom(){return _createRoom.apply(this,arguments);}return createRoom;}()},{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,title=_this$state2.title,playbackURL=_this$state2.playbackURL;var createRoomDisabled=!username||!title||!playbackURL;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"welcome form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__intro\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"intro__inner formatted-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__content pd-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content__inner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"mg-b-2\",children:\"Get started\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{action:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{className:\"mg-b-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"mg-b-2\",type:\"text\",placeholder:\"Your name\",value:username,ref:this.inputRef,onChange:this.handleNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Room name\",value:title,onChange:this.handleRoomChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Playback URL\",value:playbackURL,onChange:this.handlePlaybackURLChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"mg-t-2 btn btn--primary\",disabled:createRoomDisabled,onClick:this.handleCreateRoom,children:\"Create room\"})]})})]})})]}),this.state.showError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_chimeWeb_Error,{closeError:this.closeError,errorMsg:this.state.errorMsg})]});}}]);return Welcome;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_Welcome = (Object(react_router[\"f\" /* withRouter */])(Welcome_Welcome));\n// CONCATENATED MODULE: ./src/components/chimeWeb/Join.jsx\nvar Join_Join=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Join,_Component);var _super=Object(createSuper[\"a\" /* default */])(Join);function Join(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Join);_this=_super.call(this);_this.state={role:'attendee',username:'',title:'',errorMsg:'',showError:false};_this.joinRoom=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this$state,username,title,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,username=_this$state.username,title=_this$state.title;data={username:username,title:title,role:_this.state.role};sessionStorage.setItem(\"chime[\".concat(title,\"]\"),JSON.stringify(data));_this.props.history.push(\"\".concat(_this.baseHref,\"/meeting?room=\").concat(title));case 4:case\"end\":return _context.stop();}}},_callee);}));_this.handleNameChange=function(e){_this.setState({username:e.target.value});};_this.handleJoinRoom=function(e){e.preventDefault();e.stopPropagation();_this.joinRoom();};_this.handleClick=function(e){var node=e.target;var isModal=false;while(node){if(node&&node.classList&&node.classList.contains('notice--error')){isModal=true;break;}node=node.parentNode;}if(!isModal){_this.closeError();}};_this.setErrorMsg=function(errorMsg){_this.setState({errorMsg:errorMsg,showError:true});};_this.closeError=function(){_this.setState({showError:false});};_this.inputRef=/*#__PURE__*/react_default.a.createRef();_this.baseHref=BASE_HREF;return _this;}Object(createClass[\"a\" /* default */])(Join,[{key:\"componentDidMount\",value:function componentDidMount(){var qs=new URLSearchParams(this.props.location.search);var room=qs.get('room');this.setState({title:room});}},{key:\"render\",value:function render(){var username=this.state.username;var joinRoomDisabled=!username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"welcome form-grid\",onClick:this.handleClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__intro\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"intro__inner formatted-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__content pd-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content__inner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"mg-b-2\",children:\"Hey there!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{action:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{className:\"mg-b-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Your name\",value:username,ref:this.inputRef,onChange:this.handleNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"mg-t-1 btn btn--primary\",disabled:joinRoomDisabled,onClick:this.handleJoinRoom,children:\"Join room\"})]})})]})}),this.state.showError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_chimeWeb_Error,{closeError:this.closeError,errorMsg:this.state.errorMsg})]});}}]);return Join;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_Join = (Object(react_router[\"f\" /* withRouter */])(Join_Join));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/components/videoPlayer/VideoPlayer.jsx\n// Styles\nvar VideoPlayer_VideoPlayer=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(VideoPlayer,_Component);var _super=Object(createSuper[\"a\" /* default */])(VideoPlayer);function VideoPlayer(){var _this;Object(classCallCheck[\"a\" /* default */])(this,VideoPlayer);_this=_super.call(this);_this.mediaPlayerScriptLoaded=function(){// This shows how to include the Amazon IVS Player with a script tag from our CDN\n// If self hosting, you may not be able to use the create() method since it requires\n// that file names do not change and are all hosted from the same directory.\nvar MediaPlayerPackage=window.IVSPlayer;var playerOverlay=document.getElementById(\"overlay\");var btnPlay=document.getElementById(\"play\");var btnMute=document.getElementById(\"mute\");// First, check if the browser supports the Amazon IVS player.\nif(!MediaPlayerPackage.isPlayerSupported){console.warn(\"The current browser does not support the Amazon IVS player.\");return;}var PlayerState=MediaPlayerPackage.PlayerState;var PlayerEventType=MediaPlayerPackage.PlayerEventType;// Initialize player\nvar player=MediaPlayerPackage.create();player.attachHTMLVideoElement(document.getElementById(\"video-player\"));// Attach event listeners\nplayer.addEventListener(PlayerState.PLAYING,function(){if(DEBUG)console.log(\"Player State - PLAYING\");});player.addEventListener(PlayerState.ENDED,function(){if(DEBUG)console.log(\"Player State - ENDED\");});player.addEventListener(PlayerState.READY,function(){if(DEBUG)console.log(\"Player State - READY\");});player.addEventListener(PlayerEventType.ERROR,function(err){if(DEBUG)console.warn(\"Player Event - ERROR:\",err);});player.addEventListener(PlayerEventType.TEXT_METADATA_CUE,function(cue){var metadataText=cue.text;var position=player.getPosition().toFixed(2);if(DEBUG)console.log(\"Player Event - TEXT_METADATA_CUE: \\\"\".concat(metadataText,\"\\\". Observed \").concat(position,\"s after playback started.\"));});// Setup stream and play\nplayer.setAutoplay(true);player.load(_this.props.videoStream);// Setvolume\nplayer.setVolume(0.1);// Show/Hide player controls\nplayerOverlay.addEventListener(\"mouseover\",function(e){playerOverlay.classList.add(\"overlay--hover\");},false);playerOverlay.addEventListener(\"mouseout\",function(e){playerOverlay.classList.remove(\"overlay--hover\");});// Controls events\n// Play/Pause\nbtnPlay.addEventListener(\"click\",function(e){if(btnPlay.classList.contains(\"player-btn--play\")){// change to pause\nbtnPlay.classList.remove(\"player-btn--play\");btnPlay.classList.add(\"player-btn--pause\");player.pause();}else{// change to play\nbtnPlay.classList.remove(\"player-btn--pause\");btnPlay.classList.add(\"player-btn--play\");player.play();}},false);// Mute/Unmute\nbtnMute.addEventListener(\"click\",function(e){if(btnMute.classList.contains(\"player-btn--mute\")){btnMute.classList.remove(\"player-btn--mute\");btnMute.classList.add(\"player-btn--unmute\");player.setMuted(1);}else{btnMute.classList.remove(\"player-btn--unmute\");btnMute.classList.add(\"player-btn--mute\");player.setMuted(0);}},false);};_this.videoElement=/*#__PURE__*/react_default.a.createRef();_this.state={maxMetaData:10,metaData:[]};return _this;}Object(createClass[\"a\" /* default */])(VideoPlayer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var mediaPlayerScript=document.createElement(\"script\");mediaPlayerScript.src=\"https://player.live-video.net/1.2.0/amazon-ivs-player.min.js\";mediaPlayerScript.async=true;mediaPlayerScript.onload=function(){return _this2.mediaPlayerScriptLoaded();};document.body.appendChild(mediaPlayerScript);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-wrapper pos-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"aspect-spacer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pos-absolute full-width full-height top-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"overlay\",className:\"overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"player-controls\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-controls__inner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{id:\"play\",className:\"mg-x-1 player-btn player-btn--icon player-btn--play\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"player-icon player-icon--play\",xmlns:\"http://www.w3.org/2000/svg\",height:\"36\",viewBox:\"0 0 24 24\",width:\"36\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"player-icon player-icon--pause\",xmlns:\"http://www.w3.org/2000/svg\",height:\"36\",viewBox:\"0 0 24 24\",width:\"36\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{id:\"mute\",className:\"mg-x-1 player-btn player-btn--icon player-btn--unmute\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"player-icon player-icon--volume_up\",xmlns:\"http://www.w3.org/2000/svg\",height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"player-icon player-icon--volume_off\",xmlns:\"http://www.w3.org/2000/svg\",height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\"})})]})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{id:\"video-player\",className:\"el-player\",ref:this.videoElement,playsInline:true,muted:true})]})]});}}]);return VideoPlayer;}(react[\"Component\"]);/* harmony default export */ var videoPlayer_VideoPlayer = (VideoPlayer_VideoPlayer);\n// EXTERNAL MODULE: ./src/components/chat/Chat.css\nvar chat_Chat = __webpack_require__(289);\n\n// CONCATENATED MODULE: ./src/components/chat/Chat.jsx\n// Styles\nvar Chat_Chat=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Chat,_Component);var _super=Object(createSuper[\"a\" /* default */])(Chat);function Chat(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Chat);_this=_super.call(this);_this.scrollToBottom=function(){_this.messagesEndRef.current.scrollIntoView({behavior:'smooth'});};_this.handleChange=function(e){_this.setState({message:e.target.value});};_this.handleKeyDown=function(e){if(e.keyCode===13){// keyCode 13 is carriage return\nvar _this$state=_this.state,message=_this$state.message,connection=_this$state.connection;var username=_this.props.username;if(message){var data=\"{\\n          \\\"message\\\": \\\"sendmessage\\\",\\n          \\\"data\\\": \\\"\".concat(username,\"::\").concat(message.replace(/\\\\/g,'\\\\\\\\').replace(/\"/g,'\\\\\"'),\"\\\"\\n        }\");connection.send(data);_this.setState({message:''});}}};_this.handleRoomClick=function(e){e.stopPropagation();e.preventDefault();var title=_this.props.title;var link=\"\".concat(window.location.origin).concat(window.location.pathname.replace('meeting','index.html'),\"?action=join&room=\").concat(title);if(DEBUG)console.log(link);_this.copyTextToClipboard(encodeURI(link));};_this.setShowPopup=function(){// show popup message\n_this.setState({showPopup:true});// hide popup message after 2 seconds\nsetTimeout(function(){_this.setState({showPopup:false});},2000);};_this.copyTextToClipboard=function(text){if(navigator.clipboard){navigator.clipboard.writeText(text).then(function(){_this.setShowPopup();if(DEBUG)console.log('Room link copied to clipboard');},function(err){if(DEBUG)console.log('Could not copy text: ',err);});}};_this.parseUrls=function(userInput){var urlRegExp=/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g;var formattedMessage=userInput.replace(urlRegExp,function(match){var formattedMatch=match;if(!match.startsWith('http')){formattedMatch=\"http://\".concat(match);}return\"<a href=\".concat(formattedMatch,\" class=\\\"chat-line__link\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\").concat(match,\"</a>\");});return formattedMessage;};_this.renderMessages=function(){var messages=_this.state.messages;return messages.map(function(message){var formattedMessage=_this.parseUrls(message.message);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-line\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"username\",children:message.username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{dangerouslySetInnerHTML:{__html:formattedMessage}})]})},message.timestamp);});};_this.WEB_SOCKET_TIMEOUT_MS=10000;_this.state={message:'',messages:[],connection:null,showPopup:false};_this.chatRef=/*#__PURE__*/react_default.a.createRef();_this.messagesEndRef=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(Chat,[{key:\"componentDidMount\",value:function componentDidMount(){this.initChatConnection();}},{key:\"initChatConnection\",value:function(){var _initChatConnection=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this2=this;var _this$props$joinInfo,Meeting,Attendee,messagingUrl,connection;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props$joinInfo=this.props.joinInfo,Meeting=_this$props$joinInfo.Meeting,Attendee=_this$props$joinInfo.Attendee;messagingUrl=\"\".concat(CHAT_WEBSOCKET,\"?MeetingId=\").concat(Meeting.MeetingId,\"&AttendeeId=\").concat(Attendee.AttendeeId,\"&JoinToken=\").concat(Attendee.JoinToken);connection=new build[\"ReconnectingPromisedWebSocket\"](messagingUrl,[],'arraybuffer',new build[\"DefaultPromisedWebSocketFactory\"](new build[\"DefaultDOMWebSocketFactory\"]()),new build[\"FullJitterBackoff\"](1000,0,10000));if(DEBUG)console.log(connection);_context.next=6;return connection.open(this.WEB_SOCKET_TIMEOUT_MS);case 6:connection.addEventListener('message',function(event){var messages=_this2.state.messages;var data=event.data.split('::');var username=data[0];var message=data.slice(1).join('::');// in case the message contains the separator '::'\nmessages.push({timestamp:Date.now(),username:username,message:message});_this2.setState({messages:messages});});this.setState({connection:connection});this.chatRef.current.focus();case 9:case\"end\":return _context.stop();}}},_callee,this);}));function initChatConnection(){return _initChatConnection.apply(this,arguments);}return initChatConnection;}()},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.scrollToBottom();}},{key:\"render\",value:function render(){var _this$state2=this.state,message=_this$state2.message,showPopup=_this$state2.showPopup;var popup=showPopup?'show':'';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat full-height pos-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__room-link full-width\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"room-link popup\",onClick:this.handleRoomClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"room-link__label\",children:this.props.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"room-link__svg\",width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M3.25033 9.99999C3.25033 8.57499 4.40866 7.41666 5.83366 7.41666H9.16699V5.83333H5.83366C3.53366 5.83333 1.66699 7.69999 1.66699 9.99999C1.66699 12.3 3.53366 14.1667 5.83366 14.1667H9.16699V12.5833H5.83366C4.40866 12.5833 3.25033 11.425 3.25033 9.99999ZM6.66699 10.8333H13.3337V9.16666H6.66699V10.8333ZM14.167 5.83333H10.8337V7.41666H14.167C15.592 7.41666 16.7503 8.57499 16.7503 9.99999C16.7503 11.425 15.592 12.5833 14.167 12.5833H10.8337V14.1667H14.167C16.467 14.1667 18.3337 12.3 18.3337 9.99999C18.3337 7.69999 16.467 5.83333 14.167 5.83333Z\",fill:\"white\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popuptext \".concat(popup),id:\"myPopup\",children:\"Room link copied to clipboard\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__wrapper full-width pos-relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"messages pd-x-1 pos-absolute\",children:[this.renderMessages(),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:this.messagesEndRef})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"composer chime-web-composer full-width\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{ref:this.chatRef,type:\"text\",placeholder:\"Say something\",value:message,maxLength:510,onChange:this.handleChange,onKeyDown:this.handleKeyDown})})]});}}]);return Chat;}(react[\"Component\"]);/* harmony default export */ var components_chat_Chat = (Chat_Chat);\n// CONCATENATED MODULE: ./src/components/chimeWeb/Controls.jsx\nvar Controls_Controls=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Controls,_Component);var _super=Object(createSuper[\"a\" /* default */])(Controls);function Controls(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Controls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={muted:false,focus:false,videoStatus:'Disabled'};_this.callback=function(localMuted){_this.setState({muted:localMuted});};_this.muteButtonOnClick=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.state.muted){_this.props.chime.audioVideo.realtimeUnmuteLocalAudio();}else{_this.props.chime.audioVideo.realtimeMuteLocalAudio();}_context.next=3;return new Promise(function(resolve){return setTimeout(resolve,10);});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.videoButtonOnClick=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var videoInputDevices;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return new Promise(function(resolve){return setTimeout(resolve,10);});case 2:if(!(_this.state.videoStatus==='Disabled')){_context2.next=29;break;}_this.setState({videoStatus:'Loading'});_context2.prev=4;if(_this.props.chime.currentVideoInputDevice){_context2.next=7;break;}throw new Error('currentVideoInputDevice does not exist');case 7:_context2.prev=7;_context2.next=10;return _this.props.chime.chooseVideoInputDevice(_this.props.chime.currentVideoInputDevice);case 10:_context2.next=19;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](7);_context2.next=16;return _this.props.chime.audioVideo.listVideoInputDevices();case 16:videoInputDevices=_context2.sent;_context2.next=19;return _this.props.chime.audioVideo.chooseVideoInputDevice(videoInputDevices[0].deviceId);case 19:_this.props.chime.audioVideo.startLocalVideoTile();_this.setState({videoStatus:'Enabled'});_context2.next=27;break;case 23:_context2.prev=23;_context2.t1=_context2[\"catch\"](4);// eslint-disable-next-line\nconsole.error(_context2.t1);_this.setState({videoStatus:'Disabled'});case 27:_context2.next=30;break;case 29:if(_this.state.videoStatus==='Enabled'){_this.setState({videoStatus:'Loading'});_this.props.chime.meetingSession.audioVideo.stopLocalVideoTile();_this.setState({videoStatus:'Disabled'});}case 30:case\"end\":return _context2.stop();}}},_callee2,null,[[4,23],[7,12]]);}));_this.endButtonOnClick=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var whereTo;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.props.chime.leaveRoom(_this.props.role==='host');case 2:sessionStorage.removeItem(_this.props.ssName);whereTo=\"\".concat(_this.props.baseHref,\"/\").concat(_this.props.role==='host'?'':'join?room='+_this.props.title);_this.props.history.push(whereTo);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}Object(createClass[\"a\" /* default */])(Controls,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.chime.audioVideo.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.callback);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.props&&this.props.chime.audioVideo){this.props.chime.audioVideo.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.callback);}}},{key:\"render\",value:function render(){var mic_controls=this.state.muted?'controls__btn--mic_on':'controls__btn--mic_off';var cam_controls=this.state.videoStatus==='Enabled'?'controls__btn--cam_off':'controls__btn--cam_on';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"controls pos-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"controls__btn \".concat(mic_controls,\" btn rounded btn--mic\"),onClick:this.muteButtonOnClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"controls__btn \".concat(cam_controls,\" btn rounded btn--cam\"),onClick:this.videoButtonOnClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg btn__svg--cam_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M17 10.5V7C17 6.45 16.55 6 16 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.55 18 17 17.55 17 17V13.5L21 17.5V6.5L17 10.5Z\",fill:\"white\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg btn__svg--cam_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M21 6.5L17 10.5V7C17 6.45 16.55 6 16 6H9.82L21 17.18V6.5ZM3.27 2L2 3.27L4.73 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.21 18 16.39 17.92 16.54 17.82L19.73 21L21 19.73L3.27 2Z\",fill:\"white\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"controls__btn btn rounded btn--settings\",onClick:this.props.openSettings,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M19.1401 12.936C19.1761 12.636 19.2001 12.324 19.2001 12C19.2001 11.676 19.1761 11.364 19.1281 11.064L21.1561 9.48002C21.3361 9.33602 21.3841 9.07202 21.2761 8.86802L19.3561 5.54402C19.2361 5.32802 18.9841 5.25602 18.7681 5.32802L16.3801 6.28802C15.8761 5.90402 15.3481 5.59202 14.7601 5.35202L14.4001 2.80802C14.3641 2.56802 14.1601 2.40002 13.9201 2.40002H10.0801C9.84011 2.40002 9.64811 2.56802 9.61211 2.80802L9.25211 5.35202C8.66411 5.59202 8.12411 5.91602 7.63211 6.28802L5.24411 5.32802C5.02811 5.24402 4.77611 5.32802 4.65611 5.54402L2.73611 8.86802C2.61611 9.08402 2.66411 9.33602 2.85611 9.48002L4.88411 11.064C4.83611 11.364 4.80011 11.688 4.80011 12C4.80011 12.312 4.82411 12.636 4.87211 12.936L2.84411 14.52C2.66411 14.664 2.61611 14.928 2.72411 15.132L4.64411 18.456C4.76411 18.672 5.01611 18.744 5.23211 18.672L7.62011 17.712C8.12411 18.096 8.65211 18.408 9.24011 18.648L9.60011 21.192C9.64811 21.432 9.84011 21.6 10.0801 21.6H13.9201C14.1601 21.6 14.3641 21.432 14.3881 21.192L14.7481 18.648C15.3361 18.408 15.8761 18.084 16.3681 17.712L18.7561 18.672C18.9721 18.756 19.2241 18.672 19.3441 18.456L21.2641 15.132C21.3841 14.916 21.3361 14.664 21.1441 14.52L19.1401 12.936ZM12.0001 15.6C10.0201 15.6 8.40011 13.98 8.40011 12C8.40011 10.02 10.0201 8.40002 12.0001 8.40002C13.9801 8.40002 15.6001 10.02 15.6001 12C15.6001 13.98 13.9801 15.6 12.0001 15.6Z\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"controls__btn btn rounded btn--leave btn--destruct\",onClick:this.endButtonOnClick,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"btn__svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 9C10.4 9 8.85 9.25 7.4 9.72V12.82C7.4 13.21 7.17 13.56 6.84 13.72C5.86 14.21 4.97 14.84 4.18 15.57C4 15.75 3.75 15.85 3.48 15.85C3.2 15.85 2.95 15.74 2.77 15.56L0.29 13.08C0.11 12.91 0 12.66 0 12.38C0 12.1 0.11 11.85 0.29 11.67C3.34 8.78 7.46 7 12 7C16.54 7 20.66 8.78 23.71 11.67C23.89 11.85 24 12.1 24 12.38C24 12.66 23.89 12.91 23.71 13.09L21.23 15.57C21.05 15.75 20.8 15.86 20.52 15.86C20.25 15.86 20 15.75 19.82 15.58C19.03 14.84 18.13 14.22 17.15 13.73C16.82 13.57 16.59 13.23 16.59 12.83V9.73C15.15 9.25 13.6 9 12 9Z\"})})})]});}}]);return Controls;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_Controls = (Controls_Controls);\n// CONCATENATED MODULE: ./src/components/chimeWeb/Settings.jsx\nvar Settings_Settings=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Settings,_Component);var _super=Object(createSuper[\"a\" /* default */])(Settings);function Settings(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Settings);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={microphone:'',speaker:'',camera:''};_this.devicesUpdatedCallback=function(fullDeviceInfo){if(DEBUG)console.log(fullDeviceInfo);};_this.handleKeyDown=function(e){if(e.keyCode===27){// keyCode 27 is Escape key\n_this.props.closeSettings();}};_this.handlePlaybackURLChange=function(e){_this.setState({playbackURL:e.target.value});};_this.handleMicrophoneChange=function(e){_this.setState({microphone:e.target.value});if(_this.props.chime.audioInputDevices.length){var selectedDevice;var o;for(o in _this.props.chime.audioInputDevices){if(_this.props.chime.audioInputDevices[o].value===e.target.value){selectedDevice=_this.props.chime.audioInputDevices[o];break;}}_this.props.chime.chooseAudioInputDevice(selectedDevice);}};_this.handleSpeakerChange=function(e){_this.setState({speaker:e.target.value});if(_this.props.chime.audioOutputDevices.length){var selectedDevice;var o;for(o in _this.props.chime.audioOutputDevices){if(_this.props.chime.audioOutputDevices[o].value===e.target.value){selectedDevice=_this.props.chime.audioOutputDevices[o];break;}}_this.props.chime.chooseAudioOutputDevice(selectedDevice);}};_this.handleCameraChange=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var selectedDevice,o;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({camera:e.target.value});if(!_this.props.chime.videoInputDevices.length){_context.next=11;break;}_context.t0=regenerator_default.a.keys(_this.props.chime.videoInputDevices);case 3:if((_context.t1=_context.t0()).done){_context.next=10;break;}o=_context.t1.value;if(!(_this.props.chime.videoInputDevices[o].value===e.target.value)){_context.next=8;break;}selectedDevice=_this.props.chime.videoInputDevices[o];return _context.abrupt(\"break\",10);case 8:_context.next=3;break;case 10:_this.props.chime.chooseVideoInputDevice(selectedDevice);case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleSave=function(e){e.stopPropagation();e.preventDefault();var _this$state=_this.state,microphone=_this$state.microphone,speaker=_this$state.speaker,camera=_this$state.camera;_this.props.saveSettings(microphone,speaker,camera);};_this.renderDevices=function(devices,defaultValue,label){if(devices&&devices.length){return devices.map(function(device){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:device.value,children:\"\".concat(device.label)},device.value);});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"no-permission\",children:\"Permission not granted to access \".concat(label,\" devices\")});}};return _this;}Object(createClass[\"a\" /* default */])(Settings,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.handleKeyDown);this.props.chime.subscribeToDevicesUpdated(this.devicesUpdatedCallback);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyDown);this.props.chime.unsubscribeFromDevicesUpdated(this.devicesUpdatedCallback);}},{key:\"render\",value:function render(){var currentMic=this.props.chime.currentAudioInputDevice;var currentSpeaker=this.props.chime.currentAudioOutputDevice;var currentCam=this.props.chime.currentVideoInputDevice;var availableMics=this.props.chime.audioInputDevices;var availableSpeakers=this.props.chime.audioOutputDevices;var availableCams=this.props.chime.videoInputDevices;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal pos-absolute top-0 bottom-0 \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal__el\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"mg-b-2\",children:\"Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"mg-b-2\",name:\"\",id:\"\",type:\"text\",readOnly:true,placeholder:\"Playback URL\",onChange:this.handlePlaybackURLChange,value:this.props.joinInfo.PlaybackURL,disabled:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{name:\"microphone\",className:\"select__field\",onChange:this.handleMicrophoneChange,value:this.state.microphone||currentMic.value,disabled:!availableMics.length,children:this.renderDevices(availableMics,currentMic,'microphone')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{name:\"speaker\",className:\"select__field\",onChange:this.handleSpeakerChange,value:this.state.speaker||currentSpeaker.value,disabled:!availableSpeakers.length,children:this.renderDevices(availableSpeakers,currentSpeaker,'speaker')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{name:\"camera\",className:\"select__field\",onChange:this.handleCameraChange,value:this.state.camera||currentCam.value,disabled:!availableCams.length,children:this.renderDevices(availableCams,currentCam,'camera')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn--primary mg-t-2\",onClick:this.handleSave,children:\"Save\"})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal__overlay\"})]});}}]);return Settings;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_Settings = (Settings_Settings);\n// CONCATENATED MODULE: ./src/components/chimeWeb/LocalVideo.jsx\nvar LocalVideo_LocalVideo=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(LocalVideo,_Component);var _super=Object(createSuper[\"a\" /* default */])(LocalVideo);function LocalVideo(){var _this;Object(classCallCheck[\"a\" /* default */])(this,LocalVideo);_this=_super.call(this);_this.state={enabled:false,muted:false,showMeta:true};_this.rosterCallback=function(newRoster){var attendeeId;for(attendeeId in newRoster){// Exclude others\nif(attendeeId!==_this.props.joinInfo.Attendee.AttendeeId){continue;}_this.setState({muted:newRoster[attendeeId].muted});}};_this.videoElement=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(LocalVideo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Hide meta info after 2 seconds\nsetTimeout(function(){_this2.setState({showMeta:false});},2500);this.props.chime.audioVideo.addObserver({videoTileDidUpdate:function videoTileDidUpdate(tileState){if(!tileState.boundAttendeeId||!tileState.localTile||!tileState.tileId||!_this2.videoElement.current){return;}_this2.props.chime.audioVideo.bindVideoElement(tileState.tileId,_this2.videoElement.current);_this2.setState({enabled:tileState.active});}});this.props.chime.subscribeToRosterUpdate(this.rosterCallback);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback);}},{key:\"handleMouseEnter\",value:function handleMouseEnter(e){this.setState({showMeta:true});}},{key:\"handleMouseLeave\",value:function handleMouseLeave(e){this.setState({showMeta:false});}},{key:\"render\",value:function render(){// always show metadata when muted\nvar showMeta=this.state.showMeta||this.state.muted||!this.state.enabled;var micMuteCls=this.state.muted?'controls__btn--mic_on':'controls__btn--mic_off';var metaCls=showMeta?'':' cam__meta--hide';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cam\",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cam__preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video-container pos-relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{className:\"attendee_cam\",ref:this.videoElement})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"cam__meta\".concat(metaCls),id:\"\".concat(this.props.joinInfo.Attendee.AttendeeId),children:[\"You\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"\".concat(micMuteCls,\" btn--mic\"),\"data-id\":this.props.joinInfo.Attendee.AttendeeId,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]})]})]});}}]);return LocalVideo;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_LocalVideo = (LocalVideo_LocalVideo);\n// CONCATENATED MODULE: ./src/components/chimeWeb/RemoteVideo.jsx\nvar RemoteVideo_RemoteVideo=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(RemoteVideo,_Component);var _super=Object(createSuper[\"a\" /* default */])(RemoteVideo);function RemoteVideo(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RemoteVideo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={showMeta:true};return _this;}Object(createClass[\"a\" /* default */])(RemoteVideo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Hide meta info after 2 seconds\nif(!this.props.muted){setTimeout(function(){_this2.setState({showMeta:false});},2000);}}},{key:\"handleMouseEnter\",value:function handleMouseEnter(e){this.setState({showMeta:true});}},{key:\"handleMouseLeave\",value:function handleMouseLeave(e){this.setState({showMeta:false});}},{key:\"render\",value:function render(){var _this$props=this.props,attendeeId=_this$props.attendeeId,videoEnabled=_this$props.videoEnabled,name=_this$props.name,muted=_this$props.muted,videoElement=_this$props.videoElement;// always show metadata when participant is muted or cam is off\nvar showMeta=this.state.showMeta||muted||!videoEnabled;var camClass=attendeeId?'':' hidden';var micMuteCls=muted?'controls__btn--mic_on':'controls__btn--mic_off';var metaCls=showMeta?'':' cam__meta--hide';var videoId=\"video_\".concat(attendeeId);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cam\".concat(camClass),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cam__preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video-container pos-relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{ref:videoElement,className:\"attendee_cam remote-attendee\",id:videoId})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"cam__meta\".concat(metaCls),children:[name,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"\".concat(micMuteCls,\" btn--mic\"),\"data-id\":attendeeId,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\",fill:\"white\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\",fill:\"white\"})})]})]})]},attendeeId);}}]);return RemoteVideo;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_RemoteVideo = (RemoteVideo_RemoteVideo);\n// CONCATENATED MODULE: ./src/components/chimeWeb/RemoteVideoGroup.jsx\nvar MAX_REMOTE_VIDEOS=CHIME_ROOM_MAX_ATTENDEE;var RemoteVideoGroup_RemoteVideoGroup=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(RemoteVideoGroup,_Component);var _super=Object(createSuper[\"a\" /* default */])(RemoteVideoGroup);function RemoteVideoGroup(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RemoteVideoGroup);_this=_super.call(this);_this.state={rosterChanged:false,roster:[]};_this.findRosterSlot=function(attendeeId){var index;for(index=0;index<_this.state.roster.length;index++){if(_this.state.roster[index].attendeeId===attendeeId){return index;}}for(index=0;index<_this.state.roster.length;index++){if(!_this.state.roster[index].attendeeId){return index;}}return 0;};_this.rosterCallback=function(newRoster){if(Object.keys(newRoster).length>2){if(DEBUG)console.log('More than 2');}if(Object.keys(newRoster).length<Object.keys(_this.previousRoster).length){if(DEBUG)console.log('Attendee(s) left');var differ=Object.keys(_this.previousRoster).filter(function(k){return _this.previousRoster[k]!==newRoster[k];});if(DEBUG)console.log(differ);if(differ.length){var i;for(i in differ){var index=_this.findRosterSlot(differ[i]);var roster=_this.state.roster;roster[index]={videoElement:roster[index].videoElement};_this.setState({roster:roster});}}}_this.previousRoster=Object.assign({},newRoster);var attendeeId;for(attendeeId in newRoster){// Exclude self\nif(attendeeId===_this.props.joinInfo.Attendee.AttendeeId){continue;}// exclude empty name\nif(!newRoster[attendeeId].name){continue;}var _index=_this.findRosterSlot(attendeeId);var _roster=_this.state.roster;var attendee=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},_roster[_index]),{},{attendeeId:attendeeId},newRoster[attendeeId]);_roster[_index]=attendee;_this.setState({roster:_roster});}};_this.videoTileDidUpdateCallback=function(tileState){if(!tileState.boundAttendeeId||tileState.localTile||tileState.isContent||!tileState.tileId){return;}var index=_this.findRosterSlot(tileState.boundAttendeeId);var roster=_this.state.roster;var attendee=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},roster[index]),{},{videoEnabled:tileState.active,attendeeId:tileState.boundAttendeeId,tileId:tileState.tileId});roster[index]=attendee;_this.setState({roster:roster});setTimeout(function(){if(DEBUG)console.log(roster[index]);var videoElement=document.getElementById(\"video_\".concat(tileState.boundAttendeeId));if(videoElement){_this.props.chime.audioVideo.bindVideoElement(tileState.tileId,videoElement);}},1000);};_this.videoTileWasRemovedCallback=function(tileId){var roster=_this.state.roster;// Find the removed tileId in the roster and mark the video as disabled.\n// eslint-disable-next-line\nroster.find(function(o,i){if(o.tileId===tileId){roster[i].videoEnabled=false;_this.setState({roster:roster});if(DEBUG)console.log(\"Tile was removed \".concat(tileId));}});};_this.previousRoster={};return _this;}Object(createClass[\"a\" /* default */])(RemoteVideoGroup,[{key:\"componentDidMount\",value:function componentDidMount(){var roster=[];// eslint-disable-next-line\nArray.from(Array(MAX_REMOTE_VIDEOS).keys()).map(function(key,index){roster[index]={videoElement:/*#__PURE__*/react_default.a.createRef()};});this.setState({roster:roster});this.props.chime.subscribeToRosterUpdate(this.rosterCallback);this.props.chime.audioVideo.addObserver({videoTileDidUpdate:this.videoTileDidUpdateCallback,videoTileWasRemoved:this.videoTileWasRemovedCallback});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:this.state.roster.map(function(attendee,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_RemoteVideo,{chime:_this2.props.chime,attendeeId:attendee.attendeeId,videoEnabled:attendee.videoEnabled,name:attendee.name,muted:attendee.muted,videoElement:attendee.videoElement},index);})});}}]);return RemoteVideoGroup;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_RemoteVideoGroup = (RemoteVideoGroup_RemoteVideoGroup);\n// EXTERNAL MODULE: ./src/components/chimeWeb/ChimeWeb.css\nvar ChimeWeb = __webpack_require__(290);\n\n// CONCATENATED MODULE: ./src/components/chimeWeb/Meeting.jsx\n// Components\n// Styles\nvar Meeting_Meeting=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Meeting,_Component);var _super=Object(createSuper[\"a\" /* default */])(Meeting);function Meeting(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Meeting);_this=_super.call(this);_this.state={meetingStatus:null,// Loading, Success or Failed\nshowSettings:false,showError:false,errorMsg:''};_this.openSettings=function(){_this.setState({showSettings:true});};_this.closeSettings=function(){_this.setState({showSettings:false});};_this.handleClick=function(e){var showSettings=_this.state.showSettings;if(showSettings){var node=e.target;var isModal=false;while(node){if(node&&node.classList&&node.classList.contains('modal__el')){isModal=true;break;}node=node.parentNode;}if(!isModal){_this.setState({showSettings:false});}}};_this.saveSettings=function(playbackURL,currentAudioInputDevice,currentAudioOutputDevice,currentVideoInputDevice){_this.setState({showSettings:false,currentAudioInputDevice:currentAudioInputDevice,currentAudioOutputDevice:currentAudioOutputDevice,currentVideoInputDevice:currentVideoInputDevice});};_this.setMetadataId=function(metadataId){_this.setState({metadataId:metadataId});};_this.setErrorMsg=function(errorMsg){_this.setState({errorMsg:errorMsg,showError:true});};_this.closeError=function(){_this.setState({showError:false});};_this.layout=function(){if(_this.state.meetingStatus!=='Success'){return;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app-grid\",onClick:_this.handleClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"main-stage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cams pos-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_LocalVideo,{chime:_this.props.chime,joinInfo:_this.joinInfo}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_RemoteVideoGroup,{chime:_this.props.chime,joinInfo:_this.joinInfo})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(videoPlayer_VideoPlayer,{setMetadataId:_this.setMetadataId,videoStream:_this.playbackURL}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_Controls,{chime:_this.props.chime,baseHref:_this.baseHref,ssName:_this.ssName,title:_this.title,openSettings:_this.openSettings,role:_this.role,history:_this.props.history,myVideoElement:_this.myVideoElement})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_chat_Chat,{chime:_this.props.chime,title:_this.title,username:_this.username,joinInfo:_this.joinInfo}),_this.state.showSettings&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_Settings,{chime:_this.props.chime,joinInfo:_this.joinInfo,saveSettings:_this.saveSettings})]});};_this.baseHref=BASE_HREF;_this.ssName='';_this.audioElementRef=/*#__PURE__*/react_default.a.createRef();_this.myVideoElement=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(Meeting,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var start=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var qs,room,ssData,data;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;qs=new URLSearchParams(_this2.props.location.search);room=qs.get('room');_this2.ssName=\"chime[\".concat(room,\"]\");if(!room||!sessionStorage.getItem(_this2.ssName)){_this2.props.history.push(\"\".concat(_this2.baseHref,\"/\"));}ssData=JSON.parse(sessionStorage.getItem(_this2.ssName));if(DEBUG)console.log(ssData);_this2.username=ssData.username;_this2.title=ssData.title;_this2.role=ssData.role;if(ssData.joinInfo){_context2.next=19;break;}_context2.next=13;return _this2.props.chime.createRoom(_this2.role,_this2.username,_this2.title,ssData.playbackURL);case 13:_this2.joinInfo=_context2.sent;data=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},ssData),{},{joinInfo:_this2.joinInfo});sessionStorage.setItem(_this2.ssName,JSON.stringify(data));_this2.playbackURL=_this2.joinInfo.PlaybackURL;_context2.next=23;break;case 19:// Browser refresh\n_this2.joinInfo=ssData.joinInfo;_this2.playbackURL=ssData.joinInfo.PlaybackURL;_context2.next=23;return _this2.props.chime.reInitializeMeetingSession(_this2.joinInfo,_this2.username);case 23:_this2.setState({meetingStatus:'Success'});_this2.props.chime.audioVideo.addObserver({audioVideoDidStop:function(){var _audioVideoDidStop=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(sessionStatus){var whereTo;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(sessionStatus.statusCode()===build[\"MeetingSessionStatusCode\"].AudioCallEnded){whereTo=\"\".concat(_this2.baseHref,\"/\").concat(_this2.role==='host'?'':'end');_this2.props.chime.leaveRoom(_this2.role==='host');_this2.props.history.push(whereTo);}case 1:case\"end\":return _context.stop();}}},_callee);}));function audioVideoDidStop(_x){return _audioVideoDidStop.apply(this,arguments);}return audioVideoDidStop;}()});_context2.next=27;return _this2.props.chime.joinRoom(_this2.audioElementRef.current);case 27:_context2.next=33;break;case 29:_context2.prev=29;_context2.t0=_context2[\"catch\"](0);// eslint-disable-next-line\nconsole.error(_context2.t0);_this2.setState({meetingStatus:'Failed'});case 33:case\"end\":return _context2.stop();}}},_callee2,null,[[0,29]]);}));return function start(){return _ref.apply(this,arguments);};}();start();}/*\n   * Settings\n   */},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{ref:this.audioElementRef,style:{display:'none'}}),this.layout(),this.state.showError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_chimeWeb_Error,{closeError:this.closeError,errorMsg:this.state.errorMsg})]});}}]);return Meeting;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_Meeting = (Object(react_router[\"f\" /* withRouter */])(Meeting_Meeting));\n// CONCATENATED MODULE: ./src/components/chimeWeb/End.jsx\nvar End_End=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(End,_Component);var _super=Object(createSuper[\"a\" /* default */])(End);function End(){var _this;Object(classCallCheck[\"a\" /* default */])(this,End);_this=_super.call(this);_this.baseHref=BASE_HREF;return _this;}Object(createClass[\"a\" /* default */])(End,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"welcome form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__intro\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"intro__inner formatted-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Amazon IVS with ChimeSDK\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Create or join rooms, and watch Amazon IVS streams with anyone.\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__content pd-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content__inner formatted-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"mg-b-2\",children:\"Room closed\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"The host has ended the meeting and closed the room.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"\".concat(this.baseHref,\"/\"),className:\"mg-t-3 btn btn--primary\",children:\"Create a new room\"})]})})]});}}]);return End;}(react[\"Component\"]);/* harmony default export */ var chimeWeb_End = (Object(react_router[\"f\" /* withRouter */])(End_End));\n// CONCATENATED MODULE: ./src/components/App.js\n// import './App.css';\nfunction App(){var chime=new ChimeSdkWrapper_ChimeSdkWrapper();var baseHref=BASE_HREF;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App full-width full-height\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"\".concat(baseHref,\"/end\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_End,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"\".concat(baseHref,\"/meeting\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_Meeting,{chime:chime})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"\".concat(baseHref,\"/join\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_Join,{chime:chime})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"\".concat(baseHref),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chimeWeb_Welcome,{chime:chime})})]})})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[291,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/index.css","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Error.css","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chat/Chat.css","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/ChimeWeb.css","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/config.js","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chime/ChimeSdkWrapper.js","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Error.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Welcome.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Join.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/videoPlayer/VideoPlayer.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chat/Chat.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Controls.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Settings.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/LocalVideo.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/RemoteVideo.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/RemoteVideoGroup.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/Meeting.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/chimeWeb/End.jsx","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/App.js","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/serviceWorker.js","/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/index.js"],"names":["BASE_HREF","CHIME_ROOM_API","CHIME_ROOM_MAX_ATTENDEE","DEFAULT_VIDEO_STREAM","CHAT_WEBSOCKET","CHIME_LOG_LEVEL","DEBUG","ChimeSdkWrapper","initializeSdkWrapper","meetingSession","audioVideo","title","name","region","currentAudioInputDevice","currentAudioOutputDevice","currentVideoInputDevice","audioInputDevices","audioOutputDevices","videoInputDevices","devicesUpdatedCallbacks","roster","rosterUpdateCallbacks","configuration","messagingSocket","messageUpdateCallbacks","error","console","role","playbackURL","payload","fetch","config","method","body","JSON","stringify","response","json","Error","JoinInfo","MeetingSessionConfiguration","Meeting","Attendee","initializeMeetingSession","Title","logger","ConsoleLogger","LogLevel","ERROR","deviceController","DefaultDeviceController","DefaultMeetingSession","listAudioInputDevices","forEach","mediaDeviceInfo","push","label","value","deviceId","listAudioOutputDevices","listVideoInputDevices","publishDevicesUpdated","addDeviceChangeObserver","realtimeSubscribeToAttendeeIdPresence","presentAttendeeId","present","publishRosterUpdate","realtimeSubscribeToVolumeIndicator","attendeeId","volume","muted","signalStrength","baseAttendeeId","DefaultModality","base","shouldPublishImmediately","Math","round","encodeURIComponent","AttendeeInfo","Name","element","logError","window","addEventListener","event","reason","audioInputs","length","chooseAudioInputDevice","audioOutputs","chooseAudioOutputDevice","videoInputs","chooseVideoInputDevice","bindAudioElement","start","messagingUrl","meetingId","credentials","joinToken","ReconnectingPromisedWebSocket","DefaultPromisedWebSocketFactory","DefaultDOMWebSocketFactory","FullJitterBackoff","open","WEB_SOCKET_TIMEOUT_MS","data","parse","publishMessageUpdate","type","timestampMs","Date","now","message","send","end","stop","device","freshAudioInputDeviceList","hasCurrentDevice","freshAudioOutputDeviceList","freshVideoInputDeviceList","callback","index","indexOf","splice","throttle","i","ROSTER_THROTTLE_MS","handleKeyDown","e","keyCode","props","closeError","handleClick","node","target","isModal","classList","contains","parentNode","handleGoCreateRoom","location","replace","document","removeEventListener","errorMsg","Component","Welcome","state","username","showError","handleNameChange","setState","handleRoomChange","handlePlaybackURLChange","handleCreateRoom","preventDefault","stopPropagation","createRoom","setErrorMsg","baseHref","inputRef","React","createRef","qs","URLSearchParams","search","action","get","history","current","focus","sessionStorage","setItem","createRoomDisabled","withRouter","Join","joinRoom","handleJoinRoom","room","joinRoomDisabled","VideoPlayer","mediaPlayerScriptLoaded","MediaPlayerPackage","IVSPlayer","playerOverlay","getElementById","btnPlay","btnMute","isPlayerSupported","warn","PlayerState","PlayerEventType","player","create","attachHTMLVideoElement","PLAYING","log","ENDED","READY","err","TEXT_METADATA_CUE","cue","metadataText","text","position","getPosition","toFixed","setAutoplay","load","videoStream","setVolume","add","remove","pause","play","setMuted","videoElement","maxMetaData","metaData","mediaPlayerScript","createElement","src","async","onload","appendChild","Chat","scrollToBottom","messagesEndRef","scrollIntoView","behavior","handleChange","connection","handleRoomClick","link","origin","pathname","copyTextToClipboard","encodeURI","setShowPopup","showPopup","setTimeout","navigator","clipboard","writeText","then","parseUrls","userInput","urlRegExp","formattedMessage","match","formattedMatch","startsWith","renderMessages","messages","map","__html","timestamp","chatRef","initChatConnection","joinInfo","MeetingId","AttendeeId","JoinToken","split","slice","join","popup","Controls","videoStatus","localMuted","muteButtonOnClick","chime","realtimeUnmuteLocalAudio","realtimeMuteLocalAudio","Promise","resolve","videoButtonOnClick","startLocalVideoTile","stopLocalVideoTile","endButtonOnClick","leaveRoom","removeItem","ssName","whereTo","realtimeSubscribeToMuteAndUnmuteLocalAudio","realtimeUnsubscribeToMuteAndUnmuteLocalAudio","mic_controls","cam_controls","openSettings","Settings","microphone","speaker","camera","devicesUpdatedCallback","fullDeviceInfo","closeSettings","handleMicrophoneChange","selectedDevice","o","handleSpeakerChange","handleCameraChange","handleSave","saveSettings","renderDevices","devices","defaultValue","subscribeToDevicesUpdated","unsubscribeFromDevicesUpdated","currentMic","currentSpeaker","currentCam","availableMics","availableSpeakers","availableCams","PlaybackURL","LocalVideo","enabled","showMeta","rosterCallback","newRoster","addObserver","videoTileDidUpdate","tileState","boundAttendeeId","localTile","tileId","bindVideoElement","active","subscribeToRosterUpdate","unsubscribeFromRosterUpdate","micMuteCls","metaCls","handleMouseEnter","bind","handleMouseLeave","RemoteVideo","videoEnabled","camClass","videoId","MAX_REMOTE_VIDEOS","RemoteVideoGroup","rosterChanged","findRosterSlot","Object","keys","previousRoster","differ","filter","k","assign","attendee","videoTileDidUpdateCallback","isContent","videoTileWasRemovedCallback","find","Array","from","key","videoTileWasRemoved","meetingStatus","showSettings","setMetadataId","metadataId","layout","myVideoElement","audioElementRef","getItem","ssData","reInitializeMeetingSession","audioVideoDidStop","sessionStatus","statusCode","MeetingSessionStatusCode","AudioCallEnded","display","End","App","isLocalhost","Boolean","hostname","register","process","publicUrl","URL","href","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","headers","contentType","status","unregister","reload","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export const BASE_HREF = \"\";\n\n// API endpoint for retrieving the attendees list, joining the room, and ending the room\nexport const CHIME_ROOM_API = \"\";\n\n// Chime-SDK allows up to 16 attendee videos\nexport const CHIME_ROOM_MAX_ATTENDEE = 16;\n\n// Default video stream to play inside the video player\nexport const DEFAULT_VIDEO_STREAM = \"https://fcc3ddae59ed.us-west-2.playback.live-video.net/api/video/v1/us-west-2.893648527354.channel.DmumNckWFTqz.m3u8\";\n\n// Default Chat websocket link\nexport const CHAT_WEBSOCKET = \"\";\n\n// Chime-SDK logging level: INFO, WARN, ERROR, DEBUG\nexport const CHIME_LOG_LEVEL = 'WARN';\n\n// Chime-Web UI debugging logging: true / false\nexport const DEBUG = false;\n","import {\n  ConsoleLogger,\n  DefaultDeviceController,\n  DefaultDOMWebSocketFactory,\n  DefaultMeetingSession,\n  DefaultModality,\n  DefaultPromisedWebSocketFactory,\n  FullJitterBackoff,\n  LogLevel,\n  MeetingSessionConfiguration,\n  ReconnectingPromisedWebSocket\n} from 'amazon-chime-sdk-js';\n\nimport throttle from 'lodash/throttle';\nimport * as config from '../../config';\n\n\nexport default class ChimeSdkWrapper {\n\n  static WEB_SOCKET_TIMEOUT_MS = 10000;\n  static ROSTER_THROTTLE_MS = 400;\n\n  constructor() {\n    this.initializeSdkWrapper();\n  }\n\n  initializeSdkWrapper() {\n    this.meetingSession = null;\n    this.audioVideo = null;\n    this.title = null;\n    this.name = null;\n    this.region = null;\n    this.currentAudioInputDevice = null;\n    this.currentAudioOutputDevice = null;\n    this.currentVideoInputDevice = null;\n    this.audioInputDevices = [];\n    this.audioOutputDevices = [];\n    this.videoInputDevices = [];\n    this.devicesUpdatedCallbacks = [];\n    this.roster = {};\n    this.rosterUpdateCallbacks = [];\n    this.configuration = null;\n    this.messagingSocket = null;\n    this.messageUpdateCallbacks = [];\n  }\n\n  logError(error) {\n    console.error(error);\n  }\n\n  async createRoom(role, name, title, playbackURL, region) {\n    if (!name || !title || !role) {\n      console.error(\n           `role=${role} name=${name} title=${title} must exist`\n      );\n      return;\n    }\n\n    const payload = {\n      name,\n      title,\n      playbackURL,\n      role\n    };\n\n    const response = await fetch(\n      `${config.CHIME_ROOM_API}/join`,\n      {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      }\n    );\n    const json = await response.json();\n    if (json.error) {\n      throw new Error(\n        json.error\n      );\n    }\n\n    const { JoinInfo } = json;\n    if (!JoinInfo) {\n      throw new Error(\n        'CreateOrJoin.classRoomDoesNotExist'\n      );\n    }\n    this.configuration = new MeetingSessionConfiguration(\n      JoinInfo.Meeting,\n      JoinInfo.Attendee\n    );\n    await this.initializeMeetingSession(this.configuration);\n\n    this.title = title;\n    this.name = name;\n    this.region = region;\n\n    return JoinInfo;\n  }\n\n  async reInitializeMeetingSession(JoinInfo, name) {\n    this.configuration = new MeetingSessionConfiguration(\n      JoinInfo.Meeting,\n      JoinInfo.Attendee\n    );\n    await this.initializeMeetingSession(this.configuration);\n\n    this.title = JoinInfo.Title;\n    this.name = name;\n    // this.region = region;\n  }\n\n  async initializeMeetingSession(configuration) {\n    const logger = new ConsoleLogger('SDK', LogLevel.ERROR);\n    const deviceController = new DefaultDeviceController(logger);\n    this.meetingSession = new DefaultMeetingSession(\n      configuration,\n      logger,\n      deviceController\n    );\n    this.audioVideo = this.meetingSession.audioVideo;\n\n    this.audioInputDevices = [];\n    (await this.audioVideo.listAudioInputDevices()).forEach(\n      (mediaDeviceInfo) => {\n        this.audioInputDevices.push({\n          label: mediaDeviceInfo.label,\n          value: mediaDeviceInfo.deviceId\n        });\n      }\n    );\n    this.audioOutputDevices = [];\n    (await this.audioVideo.listAudioOutputDevices()).forEach(\n      (mediaDeviceInfo) => {\n        this.audioOutputDevices.push({\n          label: mediaDeviceInfo.label,\n          value: mediaDeviceInfo.deviceId\n        });\n      }\n    );\n    this.videoInputDevices = [];\n    (await this.audioVideo.listVideoInputDevices()).forEach(\n      (mediaDeviceInfo) => {\n        this.videoInputDevices.push({\n          label: mediaDeviceInfo.label,\n          value: mediaDeviceInfo.deviceId\n        });\n      }\n    );\n    this.publishDevicesUpdated();\n    this.audioVideo.addDeviceChangeObserver(this);\n\n    this.audioVideo.realtimeSubscribeToAttendeeIdPresence(\n      (presentAttendeeId, present) => {\n        if (!present) {\n          delete this.roster[presentAttendeeId];\n          //this.publishRosterUpdate.cancel();\n          this.publishRosterUpdate()();\n          return;\n        }\n\n        this.audioVideo.realtimeSubscribeToVolumeIndicator(\n          presentAttendeeId,\n          async (\n            attendeeId,\n            volume,\n            muted,\n            signalStrength\n          ) => {\n            const baseAttendeeId = new DefaultModality(attendeeId).base();\n            if (baseAttendeeId !== attendeeId) {\n              // Don't include the content attendee in the roster.\n              //\n              // When you or other attendees share content (a screen capture, a video file,\n              // or any other MediaStream object), the content attendee (attendee-id#content) joins the session and\n              // shares content as if a regular attendee shares a video.\n              //\n              // For example, your attendee ID is \"my-id\". When you call meetingSession.audioVideo.startContentShare,\n              // the content attendee \"my-id#content\" will join the session and share your content.\n              return;\n            }\n\n            let shouldPublishImmediately = false;\n\n            if (!this.roster[attendeeId]) {\n              this.roster[attendeeId] = { name: '' };\n            }\n            if (volume !== null) {\n              this.roster[attendeeId].volume = Math.round(volume * 100);\n            }\n            if (muted !== null) {\n              this.roster[attendeeId].muted = muted;\n            }\n            if (signalStrength !== null) {\n              this.roster[attendeeId].signalStrength = Math.round(\n                signalStrength * 100\n              );\n            }\n            if (this.title && attendeeId && !this.roster[attendeeId].name) {\n              const response = await fetch(\n                `${config.CHIME_ROOM_API}/attendee?title=${encodeURIComponent(\n                  this.title\n                )}&attendeeId=${encodeURIComponent(attendeeId)}`\n              );\n              const json = await response.json();\n              if (json.AttendeeInfo && this.roster[attendeeId]) {\n                this.roster[attendeeId].name = json.AttendeeInfo.Name || '';\n                shouldPublishImmediately = true;\n              }\n            }\n\n            if (shouldPublishImmediately) {\n              //this.publishRosterUpdate.cancel();\n            }\n            this.publishRosterUpdate()();\n          }\n        );\n      }\n    );\n  }\n\n  async joinRoom(element) {\n    if (!element) {\n      this.logError(new Error(`element does not exist`));\n      return;\n    }\n\n    window.addEventListener(\n      'unhandledrejection',\n      (event) => {\n        this.logError(event.reason);\n      }\n    );\n\n    const audioInputs = await this.audioVideo.listAudioInputDevices();\n    if (audioInputs && audioInputs.length > 0 && audioInputs[0].deviceId) {\n      this.currentAudioInputDevice = {\n        label: audioInputs[0].label,\n        value: audioInputs[0].deviceId\n      };\n      await this.audioVideo.chooseAudioInputDevice(audioInputs[0].deviceId);\n    }\n\n    const audioOutputs = await this.audioVideo.listAudioOutputDevices();\n    if (audioOutputs && audioOutputs.length > 0 && audioOutputs[0].deviceId) {\n      this.currentAudioOutputDevice = {\n        label: audioOutputs[0].label,\n        value: audioOutputs[0].deviceId\n      };\n      await this.audioVideo.chooseAudioOutputDevice(audioOutputs[0].deviceId);\n    }\n\n    const videoInputs = await this.audioVideo.listVideoInputDevices();\n    if (videoInputs && videoInputs.length > 0 && videoInputs[0].deviceId) {\n      this.currentVideoInputDevice = {\n        label: videoInputs[0].label,\n        value: videoInputs[0].deviceId\n      };\n      await this.audioVideo.chooseVideoInputDevice(null);\n    }\n\n    this.publishDevicesUpdated();\n\n    this.audioVideo.bindAudioElement(element);\n    this.audioVideo.start();\n  }\n\n  async joinRoomMessaging() {\n    if (!this.configuration) {\n      this.logError(new Error('configuration does not exist'));\n      return;\n    }\n\n    const messagingUrl = `${config.CHAT_WEBSOCKET}?MeetingId=${this.configuration.meetingId}&AttendeeId=${this.configuration.credentials.attendeeId}&JoinToken=${this.configuration.credentials.joinToken}`;\n    this.messagingSocket = new ReconnectingPromisedWebSocket(\n      messagingUrl,\n      [],\n      'arraybuffer',\n      new DefaultPromisedWebSocketFactory(new DefaultDOMWebSocketFactory()),\n      new FullJitterBackoff(1000, 0, 10000)\n    );\n\n    await this.messagingSocket.open(this.WEB_SOCKET_TIMEOUT_MS);\n\n    this.messagingSocket.addEventListener('message', (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        const { attendeeId } = data.payload;\n\n        let name;\n        if (this.roster[attendeeId]) {\n          name = this.roster[attendeeId].name;\n        }\n\n        this.publishMessageUpdate({\n          type: data.type,\n          payload: data.payload,\n          timestampMs: Date.now(),\n          name\n        });\n      } catch (error) {\n        this.logError(error);\n      }\n    });\n  }\n\n  sendMessage(type, payload) {\n    if (!this.messagingSocket) {\n      return;\n    }\n    const message = {\n      message: 'sendmessage',\n      data: JSON.stringify({ type, payload })\n    };\n    try {\n      this.messagingSocket.send(JSON.stringify(message));\n    } catch (error) {\n      this.logError(error);\n    }\n  }\n\n  async leaveRoom(end) {\n    try {\n      this.audioVideo.stop();\n    } catch (error) {\n      this.logError(error);\n    }\n\n    // try {\n    //   await this.messagingSocket.close(this.WEB_SOCKET_TIMEOUT_MS);\n    // } catch (error) {\n    //   this.logError(error);\n    // }\n\n    try {\n      if (end && this.title) {\n        await fetch(\n          `${config.CHIME_ROOM_API}/end?title=${encodeURIComponent(this.title)}`,\n          {\n            method: 'POST'\n          }\n        );\n      }\n    } catch (error) {\n      this.logError(error);\n    }\n\n    this.initializeSdkWrapper();\n  }\n\n  // Device\n\n  async chooseAudioInputDevice(device) {\n    try {\n      await this.audioVideo.chooseAudioInputDevice(device.value);\n      this.currentAudioInputDevice = device;\n    } catch (error) {\n      this.logError(error);\n    }\n  }\n\n  async chooseAudioOutputDevice(device) {\n    try {\n      await this.audioVideo.chooseAudioOutputDevice(device.value);\n      this.currentAudioOutputDevice = device;\n    } catch (error) {\n      this.logError(error);\n    }\n  }\n\n  async chooseVideoInputDevice(device) {\n    try {\n      await this.audioVideo.chooseVideoInputDevice(device.value);\n      this.currentVideoInputDevice = device;\n    } catch (error) {\n      this.logError(error);\n    }\n  }\n\n  // Observer methods\n\n  audioInputsChanged(freshAudioInputDeviceList) {\n    let hasCurrentDevice = false;\n    this.audioInputDevices = [];\n    freshAudioInputDeviceList.forEach((mediaDeviceInfo) => {\n      if (\n        this.currentAudioInputDevice &&\n        mediaDeviceInfo.deviceId === this.currentAudioInputDevice.value\n      ) {\n        hasCurrentDevice = true;\n      }\n      this.audioInputDevices.push({\n        label: mediaDeviceInfo.label,\n        value: mediaDeviceInfo.deviceId\n      });\n    });\n    if (!hasCurrentDevice) {\n      this.currentAudioInputDevice =\n        this.audioInputDevices.length > 0 ? this.audioInputDevices[0] : null;\n    }\n    this.publishDevicesUpdated();\n  }\n\n  audioOutputsChanged(freshAudioOutputDeviceList) {\n    let hasCurrentDevice = false;\n    this.audioOutputDevices = [];\n    freshAudioOutputDeviceList.forEach((mediaDeviceInfo) => {\n      if (\n        this.currentAudioOutputDevice &&\n        mediaDeviceInfo.deviceId === this.currentAudioOutputDevice.value\n      ) {\n        hasCurrentDevice = true;\n      }\n      this.audioOutputDevices.push({\n        label: mediaDeviceInfo.label,\n        value: mediaDeviceInfo.deviceId\n      });\n    });\n    if (!hasCurrentDevice) {\n      this.currentAudioOutputDevice =\n        this.audioOutputDevices.length > 0 ? this.audioOutputDevices[0] : null;\n    }\n    this.publishDevicesUpdated();\n  }\n\n  videoInputsChanged(freshVideoInputDeviceList) {\n    let hasCurrentDevice = false;\n    this.videoInputDevices = [];\n    freshVideoInputDeviceList.forEach((mediaDeviceInfo) => {\n      if (\n        this.currentVideoInputDevice &&\n        mediaDeviceInfo.deviceId === this.currentVideoInputDevice.value\n      ) {\n        hasCurrentDevice = true;\n      }\n      this.videoInputDevices.push({\n        label: mediaDeviceInfo.label,\n        value: mediaDeviceInfo.deviceId\n      });\n    });\n    if (!hasCurrentDevice) {\n      this.currentVideoInputDevice =\n        this.videoInputDevices.length > 0 ? this.videoInputDevices[0] : null;\n    }\n    this.publishDevicesUpdated();\n  }\n\n  // Subscribe and unsubscribe\n\n  subscribeToDevicesUpdated(callback) {\n    this.devicesUpdatedCallbacks.push(callback);\n  }\n\n  unsubscribeFromDevicesUpdated(callback) {\n    const index = this.devicesUpdatedCallbacks.indexOf(callback);\n    if (index !== -1) {\n      this.devicesUpdatedCallbacks.splice(index, 1);\n    }\n  }\n\n  publishDevicesUpdated() {\n    this.devicesUpdatedCallbacks.forEach(\n      (callback) => {\n        callback({\n          currentAudioInputDevice: this.currentAudioInputDevice,\n          currentAudioOutputDevice: this.currentAudioOutputDevice,\n          currentVideoInputDevice: this.currentVideoInputDevice,\n          audioInputDevices: this.audioInputDevices,\n          audioOutputDevices: this.audioOutputDevices,\n          videoInputDevices: this.videoInputDevices\n        });\n      }\n    );\n  }\n\n  subscribeToRosterUpdate(callback) {\n    this.rosterUpdateCallbacks.push(callback);\n  }\n\n  unsubscribeFromRosterUpdate(callback) {\n    const index = this.rosterUpdateCallbacks.indexOf(callback);\n    if (index !== -1) {\n      this.rosterUpdateCallbacks.splice(index, 1);\n    }\n  }\n\n  publishRosterUpdate() {\n    return throttle(() => {\n      for (let i = 0; i < this.rosterUpdateCallbacks.length; i += 1) {\n        const callback = this.rosterUpdateCallbacks[i];\n        callback(this.roster);\n      }\n    }, this.ROSTER_THROTTLE_MS);\n  }\n\n  subscribeToMessageUpdate(callback) {\n    this.messageUpdateCallbacks.push(callback);\n  }\n\n  unsubscribeFromMessageUpdate(callback) {\n    const index = this.messageUpdateCallbacks.indexOf(callback);\n    if (index !== -1) {\n      this.messageUpdateCallbacks.splice(index, 1);\n    }\n  }\n\n  publishMessageUpdate(message) {\n    for (let i = 0; i < this.messageUpdateCallbacks.length; i += 1) {\n      const callback = this.messageUpdateCallbacks[i];\n      callback(message);\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// Styles\nimport './Error.css';\n\n// Assets\n\nclass Error extends Component {\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n\n    // setTimeout(() => {\n    //   this.props.closeError();\n    // }, 10000);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) { // keyCode 27 is Escape key\n      this.props.closeError();\n    }\n  }\n\n  handleClick = (e) => {\n    let node = e.target;\n    let isModal = false;\n    while (node) {\n      if (node && node.classList && node.classList.contains('notice--error')) {\n        isModal = true;\n        break;\n      }\n      node = node.parentNode;\n    }\n    if (!isModal) {\n      this.props.closeError();\n    }\n  }\n\n  handleGoCreateRoom = () => {\n    window.location.replace(\"/index.html\");\n  }\n\n  render() {\n    return (\n      <div className=\"notice notice--error\" onClick={this.handleClick}>\n        <div className=\"notice__content\">\n          <div className=\"icon icon--24 notice__icon\"><svg viewBox=\"0 0 1000 1000\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M 500 0C 224 0 0 224 0 500C 0 776 224 1000 500 1000C 776 1000 1000 776 1000 500C 1000 224 776 0 500 0C 500 0 500 0 500 0M 526 150C 576 150 602 175 601 224C 600 300 600 350 575 525C 570 560 560 575 525 575C 525 575 475 575 475 575C 440 575 430 560 425 525C 400 355 400 300 400 226C 400 175 425 150 475 150M 500 650C 527 650 552 661 571 679C 589 698 600 723 600 750C 600 805 555 850 500 850C 445 850 400 805 400 750C 400 723 411 698 429 679C 448 661 473 650 500 650C 500 650 500 650 500 650\"/></svg></div>\n          {this.props.errorMsg}\n          <div>To create your own room, click <span className=\"go-create-room\" onClick={this.handleGoCreateRoom}>here</span>.</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nError.propTypes = {\n  errorMsg: PropTypes.string,\n  closeError: PropTypes.func\n};\n\nexport default Error;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport * as config from '../../config';\nimport Error from './Error';\n\nclass Welcome extends Component {\n\n  state = {\n    role: 'host',\n    username: '',\n    title: '',\n    playbackURL: config.DEFAULT_VIDEO_STREAM,\n    errorMsg: '',\n    showError: false\n  }\n\n  constructor() {\n    super ();\n    this.baseHref = config.BASE_HREF;\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const qs = new URLSearchParams(this.props.location.search);\n    const action = qs.get('action');\n    if (action === 'join') {\n      const title = qs.get('room');\n      this.props.history.push(`${this.baseHref}/join?room=${title}`);\n    }\n    this.inputRef.current.focus();\n  }\n\n  handleNameChange = e => {\n    this.setState({ username: e.target.value })\n  }\n\n  handleRoomChange = e => {\n    this.setState({ title: e.target.value })\n  }\n\n  handlePlaybackURLChange = e => {\n    this.setState({ playbackURL: e.target.value })\n  }\n\n  handleCreateRoom = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.createRoom();\n  }\n\n  setErrorMsg = errorMsg => {\n    this.setState({ errorMsg, showError: true });\n  }\n\n  closeError = () => {\n    this.setState({ showError: false });\n  }\n\n  async createRoom() {\n    const { title, username, playbackURL } = this.state;\n    const data = {\n      username,\n      title,\n      playbackURL,\n      role: this.state.role\n    }\n    sessionStorage.setItem(`chime[${title}]`, JSON.stringify(data));\n    this.props.history.push(`${this.baseHref}/meeting?room=${title}`);\n  }\n\n  render() {\n    const { username, title, playbackURL } = this.state;\n    const createRoomDisabled = !username || !title || !playbackURL;\n    return (\n      <React.Fragment>\n        <div className=\"welcome form-grid\">\n\n          <div className=\"welcome__intro\">\n            <div className=\"intro__inner formatted-text\">\n              <h1>Amazon IVS with ChimeSDK</h1>\n              <h3>Create or join rooms, and watch Amazon IVS streams with anyone.</h3>\n            </div>\n          </div>\n\n          <div className=\"welcome__content pd-4\">\n            <div className=\"content__inner\">\n              <h2 className=\"mg-b-2\">Get started</h2>\n              <form action=\"\">\n                <fieldset className=\"mg-b-2\">\n                  <input className=\"mg-b-2\" type=\"text\" placeholder=\"Your name\" value={username} ref={this.inputRef} onChange={this.handleNameChange} />\n                  <input type=\"text\" placeholder=\"Room name\" value={title} onChange={this.handleRoomChange} />\n                  <input type=\"text\" placeholder=\"Playback URL\" value={playbackURL} onChange={this.handlePlaybackURLChange} />\n                  <button className=\"mg-t-2 btn btn--primary\" disabled={createRoomDisabled} onClick={this.handleCreateRoom} >Create room</button>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n\n        </div>\n        {this.state.showError && (\n          <Error\n            closeError={this.closeError}\n            errorMsg={this.state.errorMsg}\n          />\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default withRouter(Welcome);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport * as config from '../../config';\nimport Error from './Error';\n\nclass Join extends Component {\n\n  state = {\n    role: 'attendee',\n    username: '',\n    title: '',\n    errorMsg: '',\n    showError: false\n  }\n\n  constructor() {\n    super ();\n    this.inputRef = React.createRef();\n    this.baseHref = config.BASE_HREF;\n  }\n\n  componentDidMount() {\n    const qs = new URLSearchParams(this.props.location.search);\n    const room = qs.get('room');\n    this.setState({ title: room });\n  }\n\n  joinRoom = async () => {\n    const { username, title } = this.state;\n    const data = {\n      username,\n      title,\n      role: this.state.role\n    }\n    sessionStorage.setItem(`chime[${title}]`, JSON.stringify(data));\n    this.props.history.push(`${this.baseHref}/meeting?room=${title}`);\n  }\n\n  handleNameChange = e => {\n    this.setState({ username: e.target.value })\n  }\n\n  handleJoinRoom = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.joinRoom();\n  }\n\n  handleClick = (e) => {\n    let node = e.target;\n    let isModal = false;\n    while (node) {\n      if (node && node.classList && node.classList.contains('notice--error')) {\n        isModal = true;\n        break;\n      }\n      node = node.parentNode;\n    }\n    if (!isModal) {\n      this.closeError();\n    }\n  }\n\n  setErrorMsg = errorMsg => {\n    this.setState({ errorMsg, showError: true });\n  }\n\n  closeError = () => {\n    this.setState({ showError: false });\n  }\n\n  render() {\n    const { username } = this.state;\n    const joinRoomDisabled = !username;\n    return (\n      <div className=\"welcome form-grid\" onClick={this.handleClick}>\n\n        <div className=\"welcome__intro\">\n          <div className=\"intro__inner formatted-text\">\n            <h1>Amazon IVS with ChimeSDK</h1>\n            <h3>Create or join rooms, and watch Amazon IVS streams with anyone.</h3>\n          </div>\n        </div>\n\n        <div className=\"welcome__content pd-4\">\n          <div className=\"content__inner\">\n            <h2 className=\"mg-b-2\">Hey there!</h2>\n            <form action=\"\">\n              <fieldset className=\"mg-b-2\">\n                <input type=\"text\" placeholder=\"Your name\" value={username} ref={this.inputRef} onChange={this.handleNameChange} />\n                <button className=\"mg-t-1 btn btn--primary\" disabled={joinRoomDisabled} onClick={this.handleJoinRoom}>Join room</button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n\n        {this.state.showError && (\n          <Error\n            closeError={this.closeError}\n            errorMsg={this.state.errorMsg}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Join);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as config from '../../config';\n\n// Styles\n\nclass VideoPlayer extends Component {\n\n  constructor() {\n    super ();\n    this.videoElement = React.createRef();\n    this.state = {\n      maxMetaData: 10,\n      metaData: []\n    }\n  }\n\n  componentDidMount() {\n    const mediaPlayerScript = document.createElement(\"script\");\n    mediaPlayerScript.src = \"https://player.live-video.net/1.2.0/amazon-ivs-player.min.js\";\n    mediaPlayerScript.async = true;\n    mediaPlayerScript.onload = () => this.mediaPlayerScriptLoaded();\n    document.body.appendChild(mediaPlayerScript);\n  }\n\n  mediaPlayerScriptLoaded = () => {\n    // This shows how to include the Amazon IVS Player with a script tag from our CDN\n    // If self hosting, you may not be able to use the create() method since it requires\n    // that file names do not change and are all hosted from the same directory.\n\n    const MediaPlayerPackage = window.IVSPlayer;\n\n    const playerOverlay = document.getElementById(\"overlay\");\n    const btnPlay = document.getElementById(\"play\");\n    const btnMute = document.getElementById(\"mute\");\n\n    // First, check if the browser supports the Amazon IVS player.\n    if (!MediaPlayerPackage.isPlayerSupported) {\n        console.warn(\"The current browser does not support the Amazon IVS player.\");\n        return;\n    }\n\n    const PlayerState = MediaPlayerPackage.PlayerState;\n    const PlayerEventType = MediaPlayerPackage.PlayerEventType;\n\n    // Initialize player\n    const player = MediaPlayerPackage.create();\n    player.attachHTMLVideoElement(document.getElementById(\"video-player\"));\n\n    // Attach event listeners\n    player.addEventListener(PlayerState.PLAYING, function () {\n      if (config.DEBUG) console.log(\"Player State - PLAYING\");\n    });\n    player.addEventListener(PlayerState.ENDED, function () {\n      if (config.DEBUG) console.log(\"Player State - ENDED\");\n    });\n    player.addEventListener(PlayerState.READY, function () {\n      if (config.DEBUG) console.log(\"Player State - READY\");\n    });\n    player.addEventListener(PlayerEventType.ERROR, function (err) {\n      if (config.DEBUG) console.warn(\"Player Event - ERROR:\", err);\n    });\n\n    player.addEventListener(PlayerEventType.TEXT_METADATA_CUE, function (cue) {\n      const metadataText = cue.text;\n      const position = player.getPosition().toFixed(2);\n      if (config.DEBUG) console.log(\n        `Player Event - TEXT_METADATA_CUE: \"${metadataText}\". Observed ${position}s after playback started.`\n      );\n    });\n\n    // Setup stream and play\n    player.setAutoplay(true);\n    player.load(this.props.videoStream);\n\n    // Setvolume\n    player.setVolume(0.1);\n\n    // Show/Hide player controls\n    playerOverlay.addEventListener(\n      \"mouseover\",\n      function (e) {\n        playerOverlay.classList.add(\"overlay--hover\");\n      },\n      false\n    );\n    playerOverlay.addEventListener(\"mouseout\", function (e) {\n      playerOverlay.classList.remove(\"overlay--hover\");\n    });\n\n    // Controls events\n    // Play/Pause\n    btnPlay.addEventListener(\n      \"click\",\n      function (e) {\n        if (btnPlay.classList.contains(\"player-btn--play\")) {\n          // change to pause\n          btnPlay.classList.remove(\"player-btn--play\");\n          btnPlay.classList.add(\"player-btn--pause\");\n          player.pause();\n        } else {\n          // change to play\n          btnPlay.classList.remove(\"player-btn--pause\");\n          btnPlay.classList.add(\"player-btn--play\");\n          player.play();\n        }\n      },\n      false\n    );\n\n    // Mute/Unmute\n    btnMute.addEventListener(\n      \"click\",\n      function (e) {\n        if (btnMute.classList.contains(\"player-btn--mute\")) {\n          btnMute.classList.remove(\"player-btn--mute\");\n          btnMute.classList.add(\"player-btn--unmute\");\n          player.setMuted(1);\n        } else {\n          btnMute.classList.remove(\"player-btn--unmute\");\n          btnMute.classList.add(\"player-btn--mute\");\n          player.setMuted(0);\n        }\n      },\n      false\n    );\n\n  }\n\n  render() {\n    return (\n      <div className=\"player-wrapper pos-relative\">\n        <div className=\"aspect-spacer\"></div>\n        <div className=\"pos-absolute full-width full-height top-0\">\n          <div id=\"overlay\" className=\"overlay\">\n            <div id=\"player-controls\">\n              <div className=\"player-controls__inner\">\n                <button id=\"play\" className=\"mg-x-1 player-btn player-btn--icon player-btn--play\">\n                  <svg\n                    className=\"player-icon player-icon--play\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"36\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"36\"\n                  >\n                    <path\n                      d=\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"\n                    />\n                  </svg>\n                  <svg\n                    className=\"player-icon player-icon--pause\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"36\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"36\"\n                  >\n                    <path\n                      d=\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n                    />\n                  </svg>\n                </button>\n                <button id=\"mute\" className=\"mg-x-1 player-btn player-btn--icon player-btn--unmute\">\n                  <svg\n                    className=\"player-icon player-icon--volume_up\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"24\"\n                  >\n                    <path\n                      d=\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\"\n                    />\n                  </svg>\n                  <svg\n                    className=\"player-icon player-icon--volume_off\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"24\"\n                  >\n                    <path\n                      d=\"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n          <video id=\"video-player\" className=\"el-player\" ref={this.videoElement} playsInline muted></video>\n        </div>\n      </div>\n    )\n  }\n}\n\nVideoPlayer.propTypes = {\n  setMetadataId: PropTypes.func,\n  videoStream: PropTypes.string,\n};\n\nexport default VideoPlayer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  DefaultPromisedWebSocketFactory,\n  DefaultDOMWebSocketFactory,\n  FullJitterBackoff,\n  ReconnectingPromisedWebSocket\n} from 'amazon-chime-sdk-js';\nimport * as config from '../../config';\n\n// Styles\nimport './Chat.css';\n\nclass Chat extends Component {\n  constructor() {\n    super ();\n\n    this.WEB_SOCKET_TIMEOUT_MS = 10000;\n\n    this.state = {\n      message: '',\n      messages: [],\n      connection: null,\n      showPopup: false\n    }\n    this.chatRef = React.createRef();\n    this.messagesEndRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.initChatConnection();\n  }\n\n  async initChatConnection() {\n    const { Meeting, Attendee } = this.props.joinInfo;\n    const messagingUrl = `${config.CHAT_WEBSOCKET}?MeetingId=${Meeting.MeetingId}&AttendeeId=${Attendee.AttendeeId}&JoinToken=${Attendee.JoinToken}`\n    const connection = new ReconnectingPromisedWebSocket(\n      messagingUrl,\n      [],\n      'arraybuffer',\n      new DefaultPromisedWebSocketFactory(new DefaultDOMWebSocketFactory()),\n      new FullJitterBackoff(1000, 0, 10000)\n    );\n\n    if (config.DEBUG) console.log(connection);\n\n    await connection.open(this.WEB_SOCKET_TIMEOUT_MS);\n\n    connection.addEventListener('message', event => {\n      const messages = this.state.messages;\n      const data = event.data.split('::');\n      const username = data[0];\n      const message = data.slice(1).join('::'); // in case the message contains the separator '::'\n\n      messages.push({\n        timestamp: Date.now(),\n        username,\n        message\n      });\n\n      this.setState({ messages });\n    });\n\n    this.setState({ connection });\n\n    this.chatRef.current.focus();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n\n  scrollToBottom = () => {\n    this.messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  handleChange = e => {\n    this.setState({ message: e.target.value })\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) { // keyCode 13 is carriage return\n      const { message, connection } = this.state;\n      const { username } = this.props;\n      if (message) {\n        const data = `{\n          \"message\": \"sendmessage\",\n          \"data\": \"${username}::${message.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')}\"\n        }`;\n        connection.send(data);\n\n        this.setState({ message: '' });\n      }\n    }\n  }\n\n  handleRoomClick = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const { title } = this.props;\n    const link = `${window.location.origin}${window.location.pathname.replace('meeting', 'index.html')}?action=join&room=${title}`;\n    if (config.DEBUG) console.log(link);\n    this.copyTextToClipboard(encodeURI(link));\n  }\n\n  setShowPopup = () => {\n    // show popup message\n    this.setState({ showPopup: true });\n\n    // hide popup message after 2 seconds\n    setTimeout(() => {\n      this.setState({ showPopup: false })\n    }, 2000);\n  }\n\n  copyTextToClipboard = text => {\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(text)\n      .then(() => {\n        this.setShowPopup();\n        if (config.DEBUG) console.log('Room link copied to clipboard');\n      }, (err) => {\n        if (config.DEBUG) console.log('Could not copy text: ', err);\n      });\n    }\n  }\n\n  parseUrls = (userInput) => {\n    var urlRegExp = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g;\n    let formattedMessage = userInput.replace(urlRegExp, (match) => {\n      let formattedMatch = match;\n      if (!match.startsWith('http')) {\n        formattedMatch = `http://${match}`;\n      }\n      return `<a href=${formattedMatch} class=\"chat-line__link\" target=\"_blank\" rel=\"noopener noreferrer\">${match}</a>`;\n    });\n    return formattedMessage;\n  }\n\n  renderMessages = () => {\n    const { messages } = this.state;\n    return (\n      messages.map(message => {\n        let formattedMessage = this.parseUrls(message.message);\n        return (\n          <div className=\"chat-line\" key={message.timestamp}>\n            <p><span className=\"username\">{message.username}</span><span dangerouslySetInnerHTML={{__html: formattedMessage}} /></p>\n          </div>\n        )\n      })\n    )\n  }\n\n  render() {\n    const { message, showPopup } = this.state;\n    const popup = showPopup ? 'show' : '';\n    return (\n      <div className=\"chat full-height pos-relative\">\n        <div className=\"chat__room-link full-width\">\n          <button className=\"room-link popup\" onClick={this.handleRoomClick}>\n            <span className=\"room-link__label\">{this.props.title}</span>\n            <svg className=\"room-link__svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.25033 9.99999C3.25033 8.57499 4.40866 7.41666 5.83366 7.41666H9.16699V5.83333H5.83366C3.53366 5.83333 1.66699 7.69999 1.66699 9.99999C1.66699 12.3 3.53366 14.1667 5.83366 14.1667H9.16699V12.5833H5.83366C4.40866 12.5833 3.25033 11.425 3.25033 9.99999ZM6.66699 10.8333H13.3337V9.16666H6.66699V10.8333ZM14.167 5.83333H10.8337V7.41666H14.167C15.592 7.41666 16.7503 8.57499 16.7503 9.99999C16.7503 11.425 15.592 12.5833 14.167 12.5833H10.8337V14.1667H14.167C16.467 14.1667 18.3337 12.3 18.3337 9.99999C18.3337 7.69999 16.467 5.83333 14.167 5.83333Z\" fill=\"white\"/></svg>\n            <span className={`popuptext ${popup}`} id=\"myPopup\">Room link copied to clipboard</span>\n          </button>\n        </div>\n        <div className=\"chat__wrapper full-width pos-relative\">\n          <div className=\"messages pd-x-1 pos-absolute\">\n            {this.renderMessages()}\n            <div ref={this.messagesEndRef} />\n          </div>\n        </div>\n        <div className=\"composer chime-web-composer full-width\">\n          <input\n            ref={this.chatRef}\n            type=\"text\"\n            placeholder=\"Say something\"\n            value={message}\n            maxLength={510}\n            onChange={this.handleChange}\n            onKeyDown={this.handleKeyDown}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nChat.propTypes = {\n  chime: PropTypes.object,\n  title: PropTypes.string,\n  username: PropTypes.string,\n  joinInfo: PropTypes.object\n};\n\nexport default Chat;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Controls extends Component {\n\n  state = {\n    muted: false,\n    focus: false,\n    videoStatus: 'Disabled'\n  };\n\n  callback = (localMuted) => {\n    this.setState({ muted: localMuted });\n  }\n\n  componentDidMount() {\n    this.props.chime.audioVideo.realtimeSubscribeToMuteAndUnmuteLocalAudio(\n      this.callback\n    );\n  }\n\n  componentWillUnmount() {\n    if (this.props && this.props.chime.audioVideo) {\n      this.props.chime.audioVideo.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(\n        this.callback\n      );\n    }\n  }\n\n  muteButtonOnClick = async () => {\n    if (this.state.muted) {\n      this.props.chime.audioVideo.realtimeUnmuteLocalAudio();\n    } else {\n      this.props.chime.audioVideo.realtimeMuteLocalAudio();\n    }\n    await new Promise(resolve => setTimeout(resolve, 10));\n  }\n\n  videoButtonOnClick = async () => {\n    await new Promise(resolve => setTimeout(resolve, 10));\n    if (this.state.videoStatus === 'Disabled') {\n      this.setState({ videoStatus: 'Loading' });\n      try {\n        if (!this.props.chime.currentVideoInputDevice) {\n          throw new Error('currentVideoInputDevice does not exist');\n        }\n\n        try {\n          await this.props.chime.chooseVideoInputDevice(\n            this.props.chime.currentVideoInputDevice\n          );\n        } catch(err) {\n          const videoInputDevices = await this.props.chime.audioVideo.listVideoInputDevices();\n          await this.props.chime.audioVideo.chooseVideoInputDevice(videoInputDevices[0].deviceId);\n        }\n\n        this.props.chime.audioVideo.startLocalVideoTile();\n\n        this.setState({ videoStatus: 'Enabled' });\n      } catch (error) {\n        // eslint-disable-next-line\n        console.error(error);\n        this.setState({ videoStatus: 'Disabled' });\n      }\n    } else if (this.state.videoStatus === 'Enabled') {\n      this.setState({ videoStatus: 'Loading' });\n      this.props.chime.meetingSession.audioVideo.stopLocalVideoTile();\n      this.setState({ videoStatus: 'Disabled' });\n    }\n  }\n\n  endButtonOnClick = async () => {\n    await this.props.chime.leaveRoom(this.props.role === 'host');\n    sessionStorage.removeItem(this.props.ssName);\n    const whereTo = `${this.props.baseHref}/${this.props.role === 'host' ? '' : 'join?room=' + this.props.title}`;\n    this.props.history.push(whereTo);\n  }\n\n  render() {\n    const mic_controls = this.state.muted ? 'controls__btn--mic_on' : 'controls__btn--mic_off';\n    const cam_controls = this.state.videoStatus === 'Enabled' ? 'controls__btn--cam_off' : 'controls__btn--cam_on';\n    return (\n      <div className=\"controls pos-relative\">\n        {/* <!-- on click, toggle this control between .controls__btn--mic_on and .controls__btn--mic_off --> */}\n        <button className={`controls__btn ${mic_controls} btn rounded btn--mic`} onClick={this.muteButtonOnClick}>\n          <svg className=\"btn__svg btn__svg--mic_on\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\" fill=\"white\"/></svg>\n          <svg className=\"btn__svg btn__svg--mic_off\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\" fill=\"white\"/></svg>\n        </button>\n        {/* <!-- on click, toggle this control between .controls__btn--cam_on and .controls__btn--cam_off --> */}\n        <button className={`controls__btn ${cam_controls} btn rounded btn--cam`} onClick={this.videoButtonOnClick}>\n          <svg className=\"btn__svg btn__svg--cam_on\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17 10.5V7C17 6.45 16.55 6 16 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.55 18 17 17.55 17 17V13.5L21 17.5V6.5L17 10.5Z\" fill=\"white\"/></svg>\n          <svg className=\"btn__svg btn__svg--cam_off\"width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M21 6.5L17 10.5V7C17 6.45 16.55 6 16 6H9.82L21 17.18V6.5ZM3.27 2L2 3.27L4.73 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.21 18 16.39 17.92 16.54 17.82L19.73 21L21 19.73L3.27 2Z\" fill=\"white\"/></svg>\n        </button>\n        <button className=\"controls__btn btn rounded btn--settings\" onClick={this.props.openSettings}>\n          <svg className=\"btn__svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.1401 12.936C19.1761 12.636 19.2001 12.324 19.2001 12C19.2001 11.676 19.1761 11.364 19.1281 11.064L21.1561 9.48002C21.3361 9.33602 21.3841 9.07202 21.2761 8.86802L19.3561 5.54402C19.2361 5.32802 18.9841 5.25602 18.7681 5.32802L16.3801 6.28802C15.8761 5.90402 15.3481 5.59202 14.7601 5.35202L14.4001 2.80802C14.3641 2.56802 14.1601 2.40002 13.9201 2.40002H10.0801C9.84011 2.40002 9.64811 2.56802 9.61211 2.80802L9.25211 5.35202C8.66411 5.59202 8.12411 5.91602 7.63211 6.28802L5.24411 5.32802C5.02811 5.24402 4.77611 5.32802 4.65611 5.54402L2.73611 8.86802C2.61611 9.08402 2.66411 9.33602 2.85611 9.48002L4.88411 11.064C4.83611 11.364 4.80011 11.688 4.80011 12C4.80011 12.312 4.82411 12.636 4.87211 12.936L2.84411 14.52C2.66411 14.664 2.61611 14.928 2.72411 15.132L4.64411 18.456C4.76411 18.672 5.01611 18.744 5.23211 18.672L7.62011 17.712C8.12411 18.096 8.65211 18.408 9.24011 18.648L9.60011 21.192C9.64811 21.432 9.84011 21.6 10.0801 21.6H13.9201C14.1601 21.6 14.3641 21.432 14.3881 21.192L14.7481 18.648C15.3361 18.408 15.8761 18.084 16.3681 17.712L18.7561 18.672C18.9721 18.756 19.2241 18.672 19.3441 18.456L21.2641 15.132C21.3841 14.916 21.3361 14.664 21.1441 14.52L19.1401 12.936ZM12.0001 15.6C10.0201 15.6 8.40011 13.98 8.40011 12C8.40011 10.02 10.0201 8.40002 12.0001 8.40002C13.9801 8.40002 15.6001 10.02 15.6001 12C15.6001 13.98 13.9801 15.6 12.0001 15.6Z\"/></svg>\n        </button>\n        <button className=\"controls__btn btn rounded btn--leave btn--destruct\" onClick={this.endButtonOnClick}>\n          <svg className=\"btn__svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 9C10.4 9 8.85 9.25 7.4 9.72V12.82C7.4 13.21 7.17 13.56 6.84 13.72C5.86 14.21 4.97 14.84 4.18 15.57C4 15.75 3.75 15.85 3.48 15.85C3.2 15.85 2.95 15.74 2.77 15.56L0.29 13.08C0.11 12.91 0 12.66 0 12.38C0 12.1 0.11 11.85 0.29 11.67C3.34 8.78 7.46 7 12 7C16.54 7 20.66 8.78 23.71 11.67C23.89 11.85 24 12.1 24 12.38C24 12.66 23.89 12.91 23.71 13.09L21.23 15.57C21.05 15.75 20.8 15.86 20.52 15.86C20.25 15.86 20 15.75 19.82 15.58C19.03 14.84 18.13 14.22 17.15 13.73C16.82 13.57 16.59 13.23 16.59 12.83V9.73C15.15 9.25 13.6 9 12 9Z\"/></svg>\n        </button>\n      </div>\n    )\n  }\n}\n\nControls.propTypes = {\n  chime: PropTypes.object,\n  baseHref: PropTypes.string,\n  ssName: PropTypes.string,\n  title: PropTypes.string,\n  openSettings: PropTypes.func,\n  role: PropTypes.string,\n  history: PropTypes.object,\n  myVideoElement: PropTypes.object\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as config from '../../config';\n\nclass Settings extends Component {\n\n  state = {\n    microphone: '',\n    speaker: '',\n    camera: ''\n  }\n\n  devicesUpdatedCallback = (fullDeviceInfo) => {\n    if (config.DEBUG) console.log(fullDeviceInfo);\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n\n    this.props.chime.subscribeToDevicesUpdated(this.devicesUpdatedCallback);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n\n    this.props.chime.unsubscribeFromDevicesUpdated(this.devicesUpdatedCallback);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) { // keyCode 27 is Escape key\n      this.props.closeSettings();\n    }\n  }\n\n  handlePlaybackURLChange = (e) => {\n    this.setState({ playbackURL: e.target.value });\n  }\n\n  handleMicrophoneChange = (e) => {\n    this.setState({ microphone: e.target.value });\n\n    if (this.props.chime.audioInputDevices.length) {\n      let selectedDevice;\n      let o;\n      for (o in this.props.chime.audioInputDevices) {\n        if (this.props.chime.audioInputDevices[o].value === e.target.value) {\n          selectedDevice = this.props.chime.audioInputDevices[o];\n          break;\n        }\n      }\n      this.props.chime.chooseAudioInputDevice(selectedDevice);\n    }\n  }\n\n  handleSpeakerChange = (e) => {\n    this.setState({ speaker: e.target.value });\n\n    if (this.props.chime.audioOutputDevices.length) {\n      let selectedDevice;\n      let o;\n      for (o in this.props.chime.audioOutputDevices) {\n        if (this.props.chime.audioOutputDevices[o].value === e.target.value) {\n          selectedDevice = this.props.chime.audioOutputDevices[o];\n          break;\n        }\n      }\n      this.props.chime.chooseAudioOutputDevice(selectedDevice);\n    }\n  }\n\n  handleCameraChange = async (e) => {\n    this.setState({ camera: e.target.value });\n\n    if (this.props.chime.videoInputDevices.length) {\n      let selectedDevice;\n      let o;\n      for (o in this.props.chime.videoInputDevices) {\n        if (this.props.chime.videoInputDevices[o].value === e.target.value) {\n          selectedDevice = this.props.chime.videoInputDevices[o];\n          break;\n        }\n      }\n      this.props.chime.chooseVideoInputDevice(selectedDevice);\n    }\n  }\n\n  handleSave = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const {microphone, speaker, camera } = this.state;\n    this.props.saveSettings(microphone, speaker, camera);\n  }\n\n  renderDevices = (devices, defaultValue, label) => {\n    if (devices && devices.length) {\n      return (\n        devices.map(device => {\n          return (\n            <option key={device.value} value={device.value}>{`${device.label}`}</option>\n          )\n        })\n      )\n    } else {\n      return (\n      <option value=\"no-permission\">{`Permission not granted to access ${label} devices`}</option>\n      );\n    }\n  }\n\n  render() {\n    const currentMic = this.props.chime.currentAudioInputDevice;\n    const currentSpeaker = this.props.chime.currentAudioOutputDevice;\n    const currentCam = this.props.chime.currentVideoInputDevice;\n    const availableMics = this.props.chime.audioInputDevices;\n    const availableSpeakers = this.props.chime.audioOutputDevices;\n    const availableCams = this.props.chime.videoInputDevices;\n\n    return (\n      <div className=\"modal pos-absolute top-0 bottom-0 \">\n        <div className=\"modal__el\">\n          <h1 className=\"mg-b-2\">Settings</h1>\n          <form>\n            <fieldset>\n              <input className=\"mg-b-2\" name=\"\" id=\"\" type=\"text\" readOnly={true} placeholder=\"Playback URL\" onChange={this.handlePlaybackURLChange} value={this.props.joinInfo.PlaybackURL} disabled />\n              <select\n                name=\"microphone\"\n                className=\"select__field\"\n                onChange={this.handleMicrophoneChange}\n                value={this.state.microphone || currentMic.value}\n                disabled={!availableMics.length}\n              >\n                {this.renderDevices(availableMics, currentMic, 'microphone')}\n              </select>\n              <select\n                name=\"speaker\"\n                className=\"select__field\"\n                onChange={this.handleSpeakerChange}\n                value={this.state.speaker || currentSpeaker.value}\n                disabled={!availableSpeakers.length}\n              >\n                {this.renderDevices(availableSpeakers, currentSpeaker, 'speaker')}\n              </select>\n              <select\n                name=\"camera\"\n                className=\"select__field\"\n                onChange={this.handleCameraChange}\n                value={this.state.camera || currentCam.value}\n                disabled={!availableCams.length}\n              >\n                {this.renderDevices(availableCams, currentCam, 'camera')}\n              </select>\n              <button className=\"btn btn--primary mg-t-2\" onClick={this.handleSave}>Save</button>\n            </fieldset>\n          </form>\n        </div>\n        <div className=\"modal__overlay\"></div>\n      </div>\n    )\n  }\n}\n\nSettings.propTypes = {\n  chime: PropTypes.object,\n  joinInfo: PropTypes.object,\n  saveSettings: PropTypes.func,\n  closeSettings: PropTypes.func,\n  settings: PropTypes.object,\n  checkAudioVideoPermission: PropTypes.func,\n  updateAudioVideoDevices: PropTypes.func,\n};\n\nexport default Settings;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass LocalVideo extends Component {\n\n  state = {\n    enabled: false,\n    muted: false,\n    showMeta: true\n  }\n\n  constructor() {\n    super();\n    this.videoElement = React.createRef();\n  }\n\n  rosterCallback = (newRoster) => {\n\n    let attendeeId;\n    for (attendeeId in newRoster) {\n\n      // Exclude others\n      if (attendeeId !== this.props.joinInfo.Attendee.AttendeeId) {\n        continue;\n      }\n\n      this.setState({ muted: newRoster[attendeeId].muted });\n    }\n  };\n\n  componentDidMount() {\n    // Hide meta info after 2 seconds\n    setTimeout(() => {\n      this.setState({\n        showMeta: false\n      });\n    }, 2500);\n\n    this.props.chime.audioVideo.addObserver({\n      videoTileDidUpdate: (tileState) => {\n        if (\n          !tileState.boundAttendeeId ||\n          !tileState.localTile ||\n          !tileState.tileId ||\n          !this.videoElement.current\n        ) {\n          return;\n        }\n        this.props.chime.audioVideo.bindVideoElement(\n          tileState.tileId,\n          this.videoElement.current\n        );\n        this.setState({\n          enabled: tileState.active\n        });\n      }\n    });\n\n    this.props.chime.subscribeToRosterUpdate(this.rosterCallback);\n  }\n\n  componentWillUnmount() {\n    this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback);\n  }\n\n  handleMouseEnter(e) {\n    this.setState({\n      showMeta: true\n    });\n  }\n\n  handleMouseLeave(e) {\n    this.setState({\n      showMeta: false\n    });\n  }\n\n  render() {\n    // always show metadata when muted\n    const showMeta = this.state.showMeta || this.state.muted || !this.state.enabled;\n\n    const micMuteCls = this.state.muted ? 'controls__btn--mic_on' : 'controls__btn--mic_off';\n    const metaCls = showMeta ? '' : ' cam__meta--hide';\n    return (\n      <div className=\"cam\" onMouseEnter={this.handleMouseEnter.bind(this)} onMouseLeave={this.handleMouseLeave.bind(this)}>\n        <div className=\"cam__preview\">\n          <div className=\"video-container pos-relative\">\n            <video className=\"attendee_cam\" ref={this.videoElement} />\n          </div>\n        </div>\n        <span className={`cam__meta${metaCls}`} id={`${this.props.joinInfo.Attendee.AttendeeId}`}>\n          You\n          <span className={`${micMuteCls} btn--mic`} data-id={this.props.joinInfo.Attendee.AttendeeId}>\n            <svg className=\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\" fill=\"white\"/></svg>\n            <svg className=\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\" fill=\"white\"/></svg>\n          </span>\n        </span>\n      </div>\n    )\n  }\n}\n\nLocalVideo.propTypes = {\n  chime: PropTypes.object,\n  joinInfo: PropTypes.object\n};\n\nexport default LocalVideo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass RemoteVideo extends Component {\n\n  state = {\n    showMeta: true\n  }\n  \n  componentDidMount() {\n    // Hide meta info after 2 seconds\n    if (!this.props.muted) {\n      setTimeout(() => {\n        this.setState({\n          showMeta: false\n        });\n      }, 2000);\n    }\n  }\n\n  handleMouseEnter(e) {\n    this.setState({\n      showMeta: true\n    });\n  }\n\n  handleMouseLeave(e) {\n    this.setState({\n      showMeta: false\n    });\n  }\n\n  render() {\n    const {\n      attendeeId,\n      videoEnabled,\n      name,\n      muted,\n      videoElement\n    } = this.props;\n    // always show metadata when participant is muted or cam is off\n    const showMeta = this.state.showMeta || muted || !videoEnabled;\n\n    const camClass = attendeeId ? '' : ' hidden';\n    const micMuteCls = muted ? 'controls__btn--mic_on' : 'controls__btn--mic_off';\n    const metaCls =  showMeta ? '' : ' cam__meta--hide';\n    const videoId = `video_${attendeeId}`;\n    return(\n\n        <div className={`cam${camClass}`} key={attendeeId} onMouseEnter={this.handleMouseEnter.bind(this)} onMouseLeave={this.handleMouseLeave.bind(this)}>\n          <div className=\"cam__preview\">\n            <div className=\"video-container pos-relative\">\n              <video ref={videoElement} className=\"attendee_cam remote-attendee\" id={videoId} />\n            </div>\n          </div>\n          <span className={`cam__meta${metaCls}`}>\n            {name}\n            <span className={`${micMuteCls} btn--mic`} data-id={attendeeId}>\n              <svg className=\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_on\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 14C13.66 14 14.99 12.66 14.99 11L15 5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 12.66 10.34 14 12 14ZM17.3 11C17.3 14 14.76 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C16.28 17.24 19 14.42 19 11H17.3Z\" fill=\"white\"/></svg>\n              <svg className=\"attendee mg-l-1 btn__svg btn__svg--sm btn__svg--mic_off\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 11H17.3C17.3 11.74 17.14 12.43 16.87 13.05L18.1 14.28C18.66 13.3 19 12.19 19 11ZM14.98 11.17C14.98 11.11 15 11.06 15 11V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V5.18L14.98 11.17ZM4.27 3L3 4.27L9.01 10.28V11C9.01 12.66 10.34 14 12 14C12.22 14 12.44 13.97 12.65 13.92L14.31 15.58C13.6 15.91 12.81 16.1 12 16.1C9.24 16.1 6.7 14 6.7 11H5C5 14.41 7.72 17.23 11 17.72V21H13V17.72C13.91 17.59 14.77 17.27 15.54 16.82L19.73 21L21 19.73L4.27 3Z\" fill=\"white\"/></svg>\n            </span>\n          </span>\n        </div>\n\n    )\n  }\n}\n\nRemoteVideo.propTypes = {\n  chime: PropTypes.object,\n  attendeeId: PropTypes.string,\n  videoEnabled: PropTypes.bool,\n  name: PropTypes.string,\n  muted: PropTypes.bool,\n  videoElement: PropTypes.object\n};\n\nexport default RemoteVideo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport RemoteVideo from './RemoteVideo';\nimport * as config from '../../config';\n\nconst MAX_REMOTE_VIDEOS = config.CHIME_ROOM_MAX_ATTENDEE;\n\nclass RemoteVideoGroup extends Component {\n\n  state = {\n    rosterChanged: false,\n    roster: []\n  }\n\n  constructor() {\n    super();\n    this.previousRoster = {};\n  }\n\n  findRosterSlot = (attendeeId) => {\n    let index;\n    for (index = 0; index < this.state.roster.length; index++) {\n      if (this.state.roster[index].attendeeId === attendeeId) {\n        return index;\n      }\n    }\n    for (index = 0; index < this.state.roster.length; index++) {\n      if (!this.state.roster[index].attendeeId) {\n        return index;\n      }\n    }\n    return 0;\n  }\n\n  rosterCallback = (newRoster) => {\n\n    if (Object.keys(newRoster).length > 2) {\n      if (config.DEBUG) console.log('More than 2');\n    }\n\n    if (Object.keys(newRoster).length < Object.keys(this.previousRoster).length) {\n      if (config.DEBUG) console.log('Attendee(s) left');\n      const differ = Object.keys(this.previousRoster).filter(k => this.previousRoster[k] !== newRoster[k]);\n      if (config.DEBUG) console.log(differ);\n\n      if (differ.length) {\n        let i;\n        for (i in differ) {\n          const index = this.findRosterSlot(differ[i]);\n          const roster = this.state.roster;\n          roster[index] = {\n            videoElement: roster[index].videoElement\n          }\n          this.setState({ roster });\n        }\n      }\n    }\n\n    this.previousRoster = Object.assign({}, newRoster);\n\n    let attendeeId;\n    for (attendeeId in newRoster) {\n\n      // Exclude self\n      if (attendeeId === this.props.joinInfo.Attendee.AttendeeId) {\n        continue;\n      }\n\n      // exclude empty name\n      if (!newRoster[attendeeId].name) {\n        continue;\n      }\n\n      const index = this.findRosterSlot(attendeeId);\n      const roster = this.state.roster;\n      const attendee = {\n        ...roster[index],\n        attendeeId,\n        ...newRoster[attendeeId]\n      };\n\n      roster[index] = attendee;\n      this.setState({ roster });\n    }\n  };\n\n  videoTileDidUpdateCallback = (tileState) => {\n    if (\n      !tileState.boundAttendeeId ||\n      tileState.localTile ||\n      tileState.isContent ||\n      !tileState.tileId\n    ) {\n      return;\n    }\n\n    let index = this.findRosterSlot(tileState.boundAttendeeId);\n    const roster = this.state.roster;\n    const attendee = {\n      ...roster[index],\n      videoEnabled: tileState.active,\n      attendeeId: tileState.boundAttendeeId,\n      tileId: tileState.tileId\n    };\n    roster[index] = attendee;\n    this.setState({ roster });\n\n    setTimeout(() => {\n      if (config.DEBUG) console.log(roster[index]);\n      const videoElement = document.getElementById(`video_${tileState.boundAttendeeId}`);\n      if (videoElement) {\n        this.props.chime.audioVideo.bindVideoElement(\n          tileState.tileId,\n          videoElement\n        );\n      }\n    }, 1000);\n  };\n\n  videoTileWasRemovedCallback = (tileId) => {\n    let roster = this.state.roster;\n\n    // Find the removed tileId in the roster and mark the video as disabled.\n    // eslint-disable-next-line\n    roster.find((o, i) => {\n      if (o.tileId === tileId) {\n        roster[i].videoEnabled = false;\n        this.setState({ roster });\n        if (config.DEBUG) console.log(`Tile was removed ${tileId}`);\n      }\n    });\n  }\n\n  componentDidMount() {\n    const roster = [];\n    // eslint-disable-next-line\n    Array.from(Array(MAX_REMOTE_VIDEOS).keys()).map((key, index) => {\n      roster[index] = {\n        videoElement: React.createRef()\n      };\n    });\n    this.setState({ roster });\n\n    this.props.chime.subscribeToRosterUpdate(this.rosterCallback);\n\n    this.props.chime.audioVideo.addObserver({\n      videoTileDidUpdate: this.videoTileDidUpdateCallback,\n      videoTileWasRemoved: this.videoTileWasRemovedCallback,\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback);\n  }\n\n  render() {\n    return(\n      <React.Fragment>\n        {this.state.roster.map((attendee, index) => {\n          return (\n            <RemoteVideo\n              chime={this.props.chime}\n              key={index}\n              attendeeId={attendee.attendeeId}\n              videoEnabled={attendee.videoEnabled}\n              name={attendee.name}\n              muted={attendee.muted}\n              videoElement={attendee.videoElement}\n            />\n          );\n        })}\n      </React.Fragment>\n    )\n  }\n}\n\nRemoteVideoGroup.propTypes = {\n  chime: PropTypes.object,\n  joinInfo: PropTypes.object\n};\n\nexport default RemoteVideoGroup;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as config from '../../config';\n\nimport {\n  MeetingSessionStatusCode\n} from 'amazon-chime-sdk-js';\n\n// Components\nimport VideoPlayer from '../videoPlayer/VideoPlayer';\nimport Chat from '../chat/Chat';\nimport Controls from './Controls';\nimport Settings from './Settings';\nimport LocalVideo from './LocalVideo';\nimport RemoteVideoGroup from './RemoteVideoGroup';\nimport Error from './Error';\n\n// Styles\nimport './ChimeWeb.css';\n\nclass Meeting extends Component {\n\n  state = {\n    meetingStatus: null, // Loading, Success or Failed\n    showSettings: false,\n\n    showError: false,\n    errorMsg: '',\n  }\n\n  constructor() {\n    super();\n\n    this.baseHref = config.BASE_HREF;\n    this.ssName = '';\n\n    this.audioElementRef = React.createRef();\n    this.myVideoElement = React.createRef();\n  }\n\n  componentDidMount() {\n\n    const start = async () => {\n      try {\n\n        const qs = new URLSearchParams(this.props.location.search);\n        const room = qs.get('room');\n        this.ssName = `chime[${room}]`;\n        if (!room || !sessionStorage.getItem(this.ssName)) {\n          this.props.history.push(`${this.baseHref}/`);\n        }\n\n        const ssData = JSON.parse(sessionStorage.getItem(this.ssName));\n        if (config.DEBUG) console.log(ssData);\n\n        this.username = ssData.username;\n        this.title = ssData.title;\n        this.role = ssData.role;\n\n        if (!ssData.joinInfo) {\n          this.joinInfo = await this.props.chime.createRoom(this.role, this.username, this.title, ssData.playbackURL);\n          const data = {\n            ...ssData,\n            joinInfo: this.joinInfo\n          }\n          sessionStorage.setItem(this.ssName, JSON.stringify(data));\n          this.playbackURL = this.joinInfo.PlaybackURL;\n        } else {\n          // Browser refresh\n          this.joinInfo = ssData.joinInfo;\n          this.playbackURL = ssData.joinInfo.PlaybackURL;\n          await this.props.chime.reInitializeMeetingSession(this.joinInfo, this.username);\n        }\n\n        this.setState({ meetingStatus: 'Success' });\n\n        this.props.chime.audioVideo.addObserver({\n          audioVideoDidStop: async (sessionStatus) => {\n            if (sessionStatus.statusCode() === MeetingSessionStatusCode.AudioCallEnded) {\n              const whereTo = `${this.baseHref}/${this.role === 'host' ? '' : 'end'}`;\n              this.props.chime.leaveRoom(this.role === 'host');\n              this.props.history.push(whereTo);\n            }\n          }\n        });\n\n        await this.props.chime.joinRoom(this.audioElementRef.current);\n      } catch (error) {\n        // eslint-disable-next-line\n        console.error(error);\n        this.setState({ meetingStatus: 'Failed' });\n      }\n    };\n    start();\n  }\n\n  /*\n   * Settings\n   */\n\n  openSettings = () => {\n    this.setState({ showSettings: true });\n  }\n\n  closeSettings = () => {\n    this.setState({ showSettings: false });\n  }\n\n  handleClick = (e) => {\n    const { showSettings } = this.state;\n    if (showSettings) {\n      let node = e.target;\n      let isModal = false;\n      while (node) {\n        if (node && node.classList && node.classList.contains('modal__el')) {\n          isModal = true;\n          break;\n        }\n        node = node.parentNode;\n      }\n      if (!isModal) {\n        this.setState({ showSettings: false });\n      }\n    }\n  }\n\n  saveSettings = (playbackURL, currentAudioInputDevice, currentAudioOutputDevice, currentVideoInputDevice) => {\n    this.setState({\n      showSettings: false,\n      currentAudioInputDevice,\n      currentAudioOutputDevice,\n      currentVideoInputDevice\n    });\n  }\n\n  setMetadataId = (metadataId) => {\n    this.setState({ metadataId });\n  }\n\n  setErrorMsg = errorMsg => {\n    this.setState({ errorMsg, showError: true });\n  }\n\n  closeError = () => {\n    this.setState({ showError: false });\n  }\n\n  layout = () => {\n    if(this.state.meetingStatus !== 'Success') {\n      return;\n    }\n\n    return (\n      <div className=\"app-grid\" onClick={this.handleClick}>\n        <div className=\"main-stage\">\n          <div className=\"cams pos-relative\">\n          <LocalVideo\n            chime={this.props.chime}\n            joinInfo={this.joinInfo}\n          />\n          <RemoteVideoGroup\n            chime={this.props.chime}\n            joinInfo={this.joinInfo}\n          />\n          </div>\n          <VideoPlayer\n            setMetadataId={this.setMetadataId}\n            videoStream={this.playbackURL}\n          />\n          <Controls\n            chime={this.props.chime}\n            baseHref={this.baseHref}\n            ssName={this.ssName}\n            title={this.title}\n            openSettings={this.openSettings}\n            role={this.role}\n            history={this.props.history}\n            myVideoElement={this.myVideoElement}\n          />\n        </div>\n        <Chat\n          chime={this.props.chime}\n          title={this.title}\n          username={this.username}\n          joinInfo={this.joinInfo}\n        />\n        {this.state.showSettings && (\n          <Settings\n            chime={this.props.chime}\n            joinInfo={this.joinInfo}\n            saveSettings={this.saveSettings}\n          />\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n\n        <audio ref={this.audioElementRef} style={{ display: 'none' }} />\n\n        {this.layout()}\n\n        {this.state.showError && (\n          <Error\n            closeError={this.closeError}\n            errorMsg={this.state.errorMsg}\n          />\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nMeeting.propTypes = {\n  chime: PropTypes.object\n};\n\nexport default withRouter(Meeting);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport * as config from '../../config';\n\nclass End extends Component {\n\n  constructor() {\n    super();\n    this.baseHref = config.BASE_HREF;\n  }\n\n  render() {\n    return (\n      <div className=\"welcome form-grid\">\n        <div className=\"welcome__intro\">\n          <div className=\"intro__inner formatted-text\">\n            <h1>Amazon IVS with ChimeSDK</h1>\n            <h3>Create or join rooms, and watch Amazon IVS streams with anyone.</h3>\n          </div>\n        </div>\n\n        <div className=\"welcome__content pd-4\">\n          <div className=\"content__inner formatted-text\">\n            <h2 className=\"mg-b-2\">Room closed</h2>\n            <p>The host has ended the meeting and closed the room.</p>\n            <a href={`${this.baseHref}/`} className=\"mg-t-3 btn btn--primary\">Create a new room</a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(End);\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport * as config from '../config';\n// import './App.css';\n\nimport ChimeSdkWrapper from './chime/ChimeSdkWrapper';\n\nimport Home from './chimeWeb/Welcome';\nimport Join from './chimeWeb/Join';\nimport Meeting from './chimeWeb/Meeting';\nimport End from './chimeWeb/End';\n\nfunction App() {\n  const chime = new ChimeSdkWrapper();\n  const baseHref = config.BASE_HREF;\n\n  return (\n    <div className=\"App full-width full-height\">\n      <Router>\n        <Switch>\n          <Route path={`${baseHref}/end`}>\n            <End />\n          </Route>\n          <Route path={`${baseHref}/meeting`}>\n            <Meeting\n              chime={chime}\n            />\n          </Route>\n          <Route path={`${baseHref}/join`}>\n            <Join\n              chime={chime}\n            />\n          </Route>\n          <Route path={`${baseHref}`}>\n            <Home\n              chime={chime}\n            />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}