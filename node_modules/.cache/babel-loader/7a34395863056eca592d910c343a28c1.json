{"ast":null,"code":"\"use strict\"; // Copyright 2019-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar DefaultBrowserBehavior_1 = require(\"../browserbehavior/DefaultBrowserBehavior\");\n\nvar version_1 = require(\"./version\");\n\nvar Versioning =\n/** @class */\nfunction () {\n  function Versioning() {}\n\n  Object.defineProperty(Versioning, \"sdkName\", {\n    /**\n     * Return string representation of SDK name\n     */\n    get: function get() {\n      return 'amazon-chime-sdk-js';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Versioning, \"sdkVersion\", {\n    /**\n     * Return string representation of SDK version\n     */\n    get: function get() {\n      return version_1.default.semverString;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Versioning, \"buildSHA\", {\n    /**\n     * Return the SHA-1 of the Git commit from which this build was created.\n     */\n    get: function get() {\n      // Skip the leading 'g'.\n      return version_1.default.hash.substr(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Versioning, \"sdkUserAgentLowResolution\", {\n    /**\n     * Return low-resolution string representation of SDK user agent (e.g. `chrome-78`)\n     */\n    get: function get() {\n      var browserBehavior = new DefaultBrowserBehavior_1.default();\n      return browserBehavior.name() + \"-\" + browserBehavior.majorVersion();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Return URL with versioning information appended\n   */\n\n  Versioning.urlWithVersion = function (url) {\n    var urlWithVersion = new URL(url);\n    urlWithVersion.searchParams.append(Versioning.X_AMZN_VERSION, Versioning.sdkVersion);\n    urlWithVersion.searchParams.append(Versioning.X_AMZN_USER_AGENT, Versioning.sdkUserAgentLowResolution);\n    return urlWithVersion.toString();\n  };\n\n  Versioning.X_AMZN_VERSION = 'X-Amzn-Version';\n  Versioning.X_AMZN_USER_AGENT = 'X-Amzn-User-Agent';\n  return Versioning;\n}();\n\nexports.default = Versioning;","map":{"version":3,"sources":["../../src/versioning/Versioning.ts"],"names":[],"mappings":"cAAA;AACA;;;;;;AAEA,IAAA,wBAAA,GAAA,OAAA,CAAA,2CAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAA,UAAA;AAAA;AAAA,YAAA;AAAA,WAAA,UAAA,GAAA,CA8CC;;AAvCC,EAAA,MAAA,CAAA,cAAA,CAAW,UAAX,EAAW,SAAX,EAAkB;AAHlB;;AAEG;SACH,eAAA;AACE,aAAO,qBAAP;AACD,KAFiB;qBAAA;;AAAA,GAAlB;AAOA,EAAA,MAAA,CAAA,cAAA,CAAW,UAAX,EAAW,YAAX,EAAqB;AAHrB;;AAEG;SACH,eAAA;AACE,aAAO,SAAA,CAAA,OAAA,CAAQ,YAAf;AACD,KAFoB;qBAAA;;AAAA,GAArB;AAOA,EAAA,MAAA,CAAA,cAAA,CAAW,UAAX,EAAW,UAAX,EAAmB;AAHnB;;AAEG;SACH,eAAA;AACE;AACA,aAAO,SAAA,CAAA,OAAA,CAAQ,IAAR,CAAa,MAAb,CAAoB,CAApB,CAAP;AACD,KAHkB;qBAAA;;AAAA,GAAnB;AAQA,EAAA,MAAA,CAAA,cAAA,CAAW,UAAX,EAAW,2BAAX,EAAoC;AAHpC;;AAEG;SACH,eAAA;AACE,UAAM,eAAe,GAAG,IAAI,wBAAA,CAAA,OAAJ,EAAxB;AACA,aAAU,eAAe,CAAC,IAAhB,KAAsB,GAAtB,GAA0B,eAAe,CAAC,YAAhB,EAApC;AACD,KAHmC;qBAAA;;AAAA,GAApC;AAKA;;AAEG;;AACI,EAAA,UAAA,CAAA,cAAA,GAAP,UAAsB,GAAtB,EAAiC;AAC/B,QAAM,cAAc,GAAG,IAAI,GAAJ,CAAQ,GAAR,CAAvB;AACA,IAAA,cAAc,CAAC,YAAf,CAA4B,MAA5B,CAAmC,UAAU,CAAC,cAA9C,EAA8D,UAAU,CAAC,UAAzE;AACA,IAAA,cAAc,CAAC,YAAf,CAA4B,MAA5B,CACE,UAAU,CAAC,iBADb,EAEE,UAAU,CAAC,yBAFb;AAIA,WAAO,cAAc,CAAC,QAAf,EAAP;AACD,GARM;;AApCA,EAAA,UAAA,CAAA,cAAA,GAAiB,gBAAjB;AACA,EAAA,UAAA,CAAA,iBAAA,GAAoB,mBAApB;AA4CT,SAAA,UAAA;AAAC,CA9CD,EAAA;;kBAAqB,U","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright 2019-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DefaultBrowserBehavior_1 = require(\"../browserbehavior/DefaultBrowserBehavior\");\nvar version_1 = require(\"./version\");\nvar Versioning = /** @class */ (function () {\n    function Versioning() {\n    }\n    Object.defineProperty(Versioning, \"sdkName\", {\n        /**\n         * Return string representation of SDK name\n         */\n        get: function () {\n            return 'amazon-chime-sdk-js';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Versioning, \"sdkVersion\", {\n        /**\n         * Return string representation of SDK version\n         */\n        get: function () {\n            return version_1.default.semverString;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Versioning, \"buildSHA\", {\n        /**\n         * Return the SHA-1 of the Git commit from which this build was created.\n         */\n        get: function () {\n            // Skip the leading 'g'.\n            return version_1.default.hash.substr(1);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Versioning, \"sdkUserAgentLowResolution\", {\n        /**\n         * Return low-resolution string representation of SDK user agent (e.g. `chrome-78`)\n         */\n        get: function () {\n            var browserBehavior = new DefaultBrowserBehavior_1.default();\n            return browserBehavior.name() + \"-\" + browserBehavior.majorVersion();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Return URL with versioning information appended\n     */\n    Versioning.urlWithVersion = function (url) {\n        var urlWithVersion = new URL(url);\n        urlWithVersion.searchParams.append(Versioning.X_AMZN_VERSION, Versioning.sdkVersion);\n        urlWithVersion.searchParams.append(Versioning.X_AMZN_USER_AGENT, Versioning.sdkUserAgentLowResolution);\n        return urlWithVersion.toString();\n    };\n    Versioning.X_AMZN_VERSION = 'X-Amzn-Version';\n    Versioning.X_AMZN_USER_AGENT = 'X-Amzn-User-Agent';\n    return Versioning;\n}());\nexports.default = Versioning;\n//# sourceMappingURL=Versioning.js.map"]},"metadata":{},"sourceType":"script"}