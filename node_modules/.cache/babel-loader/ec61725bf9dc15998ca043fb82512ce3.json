{"ast":null,"code":"\"use strict\"; // Copyright 2019-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar DefaultAudioVideoFacade =\n/** @class */\nfunction () {\n  function DefaultAudioVideoFacade(audioVideoController, videoTileController, realtimeController, audioMixController, deviceController, contentShareController) {\n    this.audioVideoController = audioVideoController;\n    this.videoTileController = videoTileController;\n    this.realtimeController = realtimeController;\n    this.audioMixController = audioMixController;\n    this.deviceController = deviceController;\n    this.contentShareController = contentShareController;\n  }\n\n  DefaultAudioVideoFacade.prototype.addObserver = function (observer) {\n    this.audioVideoController.addObserver(observer);\n    this.trace('addObserver');\n  };\n\n  DefaultAudioVideoFacade.prototype.removeObserver = function (observer) {\n    this.audioVideoController.removeObserver(observer);\n    this.trace('removeObserver');\n  };\n\n  DefaultAudioVideoFacade.prototype.start = function () {\n    this.audioVideoController.start();\n    this.trace('start');\n  };\n\n  DefaultAudioVideoFacade.prototype.stop = function () {\n    this.audioVideoController.stop();\n    this.trace('stop');\n  };\n\n  DefaultAudioVideoFacade.prototype.getRTCPeerConnectionStats = function (selector) {\n    this.trace('getRTCPeerConnectionStats', selector ? selector.id : null);\n    return this.audioVideoController.getRTCPeerConnectionStats(selector);\n  };\n\n  DefaultAudioVideoFacade.prototype.bindAudioElement = function (element) {\n    var result = this.audioMixController.bindAudioElement(element);\n    this.trace('bindAudioElement', element.id, result);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.unbindAudioElement = function () {\n    this.audioMixController.unbindAudioElement();\n    this.trace('unbindAudioElement');\n  };\n\n  DefaultAudioVideoFacade.prototype.bindVideoElement = function (tileId, videoElement) {\n    this.videoTileController.bindVideoElement(tileId, videoElement);\n    this.trace('bindVideoElement', {\n      tileId: tileId,\n      videoElementId: videoElement.id\n    });\n  };\n\n  DefaultAudioVideoFacade.prototype.unbindVideoElement = function (tileId) {\n    this.videoTileController.unbindVideoElement(tileId);\n    this.trace('unbindVideoElement', tileId);\n  };\n\n  DefaultAudioVideoFacade.prototype.startLocalVideoTile = function () {\n    var result = this.videoTileController.startLocalVideoTile();\n    this.trace('startLocalVideoTile', null, result);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.stopLocalVideoTile = function () {\n    this.videoTileController.stopLocalVideoTile();\n    this.trace('stopLocalVideoTile');\n  };\n\n  DefaultAudioVideoFacade.prototype.hasStartedLocalVideoTile = function () {\n    var result = this.videoTileController.hasStartedLocalVideoTile();\n    this.trace('hasStartedLocalVideoTile', null, result);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.removeLocalVideoTile = function () {\n    this.videoTileController.removeLocalVideoTile();\n    this.trace('removeLocalVideoTile');\n  };\n\n  DefaultAudioVideoFacade.prototype.getLocalVideoTile = function () {\n    var result = this.videoTileController.getLocalVideoTile();\n    this.trace('getLocalVideoTile');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.pauseVideoTile = function (tileId) {\n    this.videoTileController.pauseVideoTile(tileId);\n    this.trace('pauseVideoTile', tileId);\n  };\n\n  DefaultAudioVideoFacade.prototype.unpauseVideoTile = function (tileId) {\n    this.videoTileController.unpauseVideoTile(tileId);\n    this.trace('unpauseVideoTile', tileId);\n  };\n\n  DefaultAudioVideoFacade.prototype.getVideoTile = function (tileId) {\n    var result = this.videoTileController.getVideoTile(tileId);\n    this.trace('getVideoTile', tileId);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.getAllRemoteVideoTiles = function () {\n    var result = this.videoTileController.getAllRemoteVideoTiles();\n    this.trace('getAllRemoteVideoTiles');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.getAllVideoTiles = function () {\n    var result = this.videoTileController.getAllVideoTiles();\n    this.trace('getAllVideoTiles');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.addVideoTile = function () {\n    var result = this.videoTileController.addVideoTile();\n    this.trace('addVideoTile', null, result.state());\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.removeVideoTile = function (tileId) {\n    this.videoTileController.removeVideoTile(tileId);\n    this.trace('removeVideoTile', tileId);\n  };\n\n  DefaultAudioVideoFacade.prototype.removeVideoTilesByAttendeeId = function (attendeeId) {\n    var result = this.videoTileController.removeVideoTilesByAttendeeId(attendeeId);\n    this.trace('removeVideoTilesByAttendeeId', attendeeId, result);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.removeAllVideoTiles = function () {\n    this.videoTileController.removeAllVideoTiles();\n    this.trace('removeAllVideoTiles');\n  };\n\n  DefaultAudioVideoFacade.prototype.captureVideoTile = function (tileId) {\n    var result = this.videoTileController.captureVideoTile(tileId);\n    this.trace('captureVideoTile', tileId);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToAttendeeIdPresence = function (callback) {\n    this.realtimeController.realtimeSubscribeToAttendeeIdPresence(callback);\n    this.trace('realtimeSubscribeToAttendeeIdPresence');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToAttendeeIdPresence = function (callback) {\n    this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(callback);\n    this.trace('realtimeUnsubscribeToAttendeeIdPresence');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSetCanUnmuteLocalAudio = function (canUnmute) {\n    this.realtimeController.realtimeSetCanUnmuteLocalAudio(canUnmute);\n    this.trace('realtimeSetCanUnmuteLocalAudio', canUnmute);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToSetCanUnmuteLocalAudio = function (callback) {\n    this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(callback);\n    this.trace('realtimeSubscribeToSetCanUnmuteLocalAudio');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToSetCanUnmuteLocalAudio = function (callback) {\n    this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(callback);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeCanUnmuteLocalAudio = function () {\n    var result = this.realtimeController.realtimeCanUnmuteLocalAudio();\n    this.trace('realtimeCanUnmuteLocalAudio', null, result);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeMuteLocalAudio = function () {\n    this.realtimeController.realtimeMuteLocalAudio();\n    this.trace('realtimeMuteLocalAudio');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnmuteLocalAudio = function () {\n    var result = this.realtimeController.realtimeUnmuteLocalAudio();\n    this.trace('realtimeUnmuteLocalAudio');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToMuteAndUnmuteLocalAudio = function (callback) {\n    this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(callback);\n    this.trace('realtimeSubscribeToMuteAndUnmuteLocalAudio');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToMuteAndUnmuteLocalAudio = function (callback) {\n    this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(callback);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeIsLocalAudioMuted = function () {\n    var result = this.realtimeController.realtimeIsLocalAudioMuted();\n    this.trace('realtimeIsLocalAudioMuted');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToVolumeIndicator = function (attendeeId, callback) {\n    this.realtimeController.realtimeSubscribeToVolumeIndicator(attendeeId, callback);\n    this.trace('realtimeSubscribeToVolumeIndicator', attendeeId);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeFromVolumeIndicator = function (attendeeId) {\n    this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(attendeeId);\n    this.trace('realtimeUnsubscribeFromVolumeIndicator', attendeeId);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToLocalSignalStrengthChange = function (callback) {\n    this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(callback);\n    this.trace('realtimeSubscribeToLocalSignalStrengthChange');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToLocalSignalStrengthChange = function (callback) {\n    this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(callback);\n    this.trace('realtimeUnsubscribeToLocalSignalStrengthChange');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSendDataMessage = function (topic, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  data, lifetimeMs) {\n    this.realtimeController.realtimeSendDataMessage(topic, data, lifetimeMs);\n    this.trace('realtimeSendDataMessage');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToReceiveDataMessage = function (topic, callback) {\n    this.realtimeController.realtimeSubscribeToReceiveDataMessage(topic, callback);\n    this.trace('realtimeSubscribeToReceiveDataMessage');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeFromReceiveDataMessage = function (topic) {\n    this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(topic);\n    this.trace('realtimeUnsubscribeFromReceiveDataMessage');\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeSubscribeToFatalError = function (callback) {\n    this.realtimeController.realtimeSubscribeToFatalError(callback);\n  };\n\n  DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToFatalError = function (callback) {\n    this.realtimeController.realtimeUnsubscribeToFatalError(callback);\n  };\n\n  DefaultAudioVideoFacade.prototype.subscribeToActiveSpeakerDetector = function (policy, callback, scoresCallback, scoresCallbackIntervalMs) {\n    this.audioVideoController.activeSpeakerDetector.subscribe(policy, callback, scoresCallback, scoresCallbackIntervalMs);\n    this.trace('subscribeToActiveSpeakerDetector');\n  };\n\n  DefaultAudioVideoFacade.prototype.unsubscribeFromActiveSpeakerDetector = function (callback) {\n    this.audioVideoController.activeSpeakerDetector.unsubscribe(callback);\n    this.trace('unsubscribeFromActiveSpeakerDetector');\n  };\n\n  DefaultAudioVideoFacade.prototype.listAudioInputDevices = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.deviceController.listAudioInputDevices()];\n\n          case 1:\n            result = _a.sent();\n            this.trace('listAudioInputDevices', null, result);\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  DefaultAudioVideoFacade.prototype.listVideoInputDevices = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.deviceController.listVideoInputDevices()];\n\n          case 1:\n            result = _a.sent();\n            this.trace('listVideoInputDevices', null, result);\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  DefaultAudioVideoFacade.prototype.listAudioOutputDevices = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.deviceController.listAudioOutputDevices()];\n\n          case 1:\n            result = _a.sent();\n            this.trace('listAudioOutputDevices', null, result);\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  DefaultAudioVideoFacade.prototype.chooseAudioInputDevice = function (device) {\n    var result = this.deviceController.chooseAudioInputDevice(device);\n    this.trace('chooseAudioInputDevice', device);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.chooseVideoInputDevice = function (device) {\n    var result = this.deviceController.chooseVideoInputDevice(device);\n    this.trace('chooseVideoInputDevice', device);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.chooseAudioOutputDevice = function (deviceId) {\n    var result = this.deviceController.chooseAudioOutputDevice(deviceId);\n    this.trace('chooseAudioOutputDevice', deviceId);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.addDeviceChangeObserver = function (observer) {\n    this.deviceController.addDeviceChangeObserver(observer);\n    this.trace('addDeviceChangeObserver');\n  };\n\n  DefaultAudioVideoFacade.prototype.removeDeviceChangeObserver = function (observer) {\n    this.deviceController.removeDeviceChangeObserver(observer);\n    this.trace('removeDeviceChangeObserver');\n  };\n\n  DefaultAudioVideoFacade.prototype.createAnalyserNodeForAudioInput = function () {\n    var result = this.deviceController.createAnalyserNodeForAudioInput();\n    this.trace('createAnalyserNodeForAudioInput');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.startVideoPreviewForVideoInput = function (element) {\n    this.deviceController.startVideoPreviewForVideoInput(element);\n    this.trace('startVideoPreviewForVideoInput', element.id);\n  };\n\n  DefaultAudioVideoFacade.prototype.stopVideoPreviewForVideoInput = function (element) {\n    this.deviceController.stopVideoPreviewForVideoInput(element);\n    this.trace('stopVideoPreviewForVideoInput', element.id);\n  };\n\n  DefaultAudioVideoFacade.prototype.setDeviceLabelTrigger = function (trigger) {\n    this.deviceController.setDeviceLabelTrigger(trigger);\n    this.trace('setDeviceLabelTrigger');\n  };\n\n  DefaultAudioVideoFacade.prototype.mixIntoAudioInput = function (stream) {\n    var result = this.deviceController.mixIntoAudioInput(stream);\n    this.trace('mixIntoAudioInput', stream.id);\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.chooseVideoInputQuality = function (width, height, frameRate, maxBandwidthKbps) {\n    this.deviceController.chooseVideoInputQuality(width, height, frameRate, maxBandwidthKbps);\n    this.trace('chooseVideoInputQuality', {\n      width: width,\n      height: height,\n      frameRate: frameRate,\n      maxBandwidthKbps: maxBandwidthKbps\n    });\n  };\n\n  DefaultAudioVideoFacade.prototype.getVideoInputQualitySettings = function () {\n    var result = this.deviceController.getVideoInputQualitySettings();\n    this.trace('getVideoInputQualitySettings');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.enableWebAudio = function (flag) {\n    this.deviceController.enableWebAudio(flag);\n    this.trace('enableWebAudio', flag);\n  };\n\n  DefaultAudioVideoFacade.prototype.startContentShare = function (stream) {\n    var result = this.contentShareController.startContentShare(stream);\n    this.trace('startContentShare');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.startContentShareFromScreenCapture = function (sourceId, frameRate) {\n    var result = this.contentShareController.startContentShareFromScreenCapture(sourceId, frameRate);\n    this.trace('startContentShareFromScreenCapture');\n    return result;\n  };\n\n  DefaultAudioVideoFacade.prototype.pauseContentShare = function () {\n    this.contentShareController.pauseContentShare();\n    this.trace('pauseContentShare');\n  };\n\n  DefaultAudioVideoFacade.prototype.unpauseContentShare = function () {\n    this.contentShareController.unpauseContentShare();\n    this.trace('unpauseContentShare');\n  };\n\n  DefaultAudioVideoFacade.prototype.stopContentShare = function () {\n    this.contentShareController.stopContentShare();\n    this.trace('stopContentShare');\n  };\n\n  DefaultAudioVideoFacade.prototype.addContentShareObserver = function (observer) {\n    this.contentShareController.addContentShareObserver(observer);\n    this.trace('addContentShareObserver');\n  };\n\n  DefaultAudioVideoFacade.prototype.removeContentShareObserver = function (observer) {\n    this.contentShareController.removeContentShareObserver(observer);\n    this.trace('removeContentShareObserver');\n  }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  DefaultAudioVideoFacade.prototype.trace = function (name, input, output) {\n    var meetingId = this.audioVideoController.configuration.meetingId;\n    var attendeeId = this.audioVideoController.configuration.credentials.attendeeId;\n    var s = \"API/DefaultAudioVideoFacade/\" + meetingId + \"/\" + attendeeId + \"/\" + name;\n\n    if (typeof input !== 'undefined') {\n      s += \" \" + JSON.stringify(input);\n    }\n\n    if (typeof output !== 'undefined') {\n      s += \" -> \" + JSON.stringify(output);\n    }\n\n    this.audioVideoController.logger.info(s);\n  };\n\n  DefaultAudioVideoFacade.prototype.getRemoteVideoSources = function () {\n    var result = this.audioVideoController.getRemoteVideoSources();\n    this.trace('getRemoteVideoSources', null, result);\n    return result;\n  };\n\n  return DefaultAudioVideoFacade;\n}();\n\nexports.default = DefaultAudioVideoFacade;","map":{"version":3,"sources":["../../src/audiovideofacade/DefaultAudioVideoFacade.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright 2019-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DefaultAudioVideoFacade = /** @class */ (function () {\n    function DefaultAudioVideoFacade(audioVideoController, videoTileController, realtimeController, audioMixController, deviceController, contentShareController) {\n        this.audioVideoController = audioVideoController;\n        this.videoTileController = videoTileController;\n        this.realtimeController = realtimeController;\n        this.audioMixController = audioMixController;\n        this.deviceController = deviceController;\n        this.contentShareController = contentShareController;\n    }\n    DefaultAudioVideoFacade.prototype.addObserver = function (observer) {\n        this.audioVideoController.addObserver(observer);\n        this.trace('addObserver');\n    };\n    DefaultAudioVideoFacade.prototype.removeObserver = function (observer) {\n        this.audioVideoController.removeObserver(observer);\n        this.trace('removeObserver');\n    };\n    DefaultAudioVideoFacade.prototype.start = function () {\n        this.audioVideoController.start();\n        this.trace('start');\n    };\n    DefaultAudioVideoFacade.prototype.stop = function () {\n        this.audioVideoController.stop();\n        this.trace('stop');\n    };\n    DefaultAudioVideoFacade.prototype.getRTCPeerConnectionStats = function (selector) {\n        this.trace('getRTCPeerConnectionStats', selector ? selector.id : null);\n        return this.audioVideoController.getRTCPeerConnectionStats(selector);\n    };\n    DefaultAudioVideoFacade.prototype.bindAudioElement = function (element) {\n        var result = this.audioMixController.bindAudioElement(element);\n        this.trace('bindAudioElement', element.id, result);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.unbindAudioElement = function () {\n        this.audioMixController.unbindAudioElement();\n        this.trace('unbindAudioElement');\n    };\n    DefaultAudioVideoFacade.prototype.bindVideoElement = function (tileId, videoElement) {\n        this.videoTileController.bindVideoElement(tileId, videoElement);\n        this.trace('bindVideoElement', { tileId: tileId, videoElementId: videoElement.id });\n    };\n    DefaultAudioVideoFacade.prototype.unbindVideoElement = function (tileId) {\n        this.videoTileController.unbindVideoElement(tileId);\n        this.trace('unbindVideoElement', tileId);\n    };\n    DefaultAudioVideoFacade.prototype.startLocalVideoTile = function () {\n        var result = this.videoTileController.startLocalVideoTile();\n        this.trace('startLocalVideoTile', null, result);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.stopLocalVideoTile = function () {\n        this.videoTileController.stopLocalVideoTile();\n        this.trace('stopLocalVideoTile');\n    };\n    DefaultAudioVideoFacade.prototype.hasStartedLocalVideoTile = function () {\n        var result = this.videoTileController.hasStartedLocalVideoTile();\n        this.trace('hasStartedLocalVideoTile', null, result);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.removeLocalVideoTile = function () {\n        this.videoTileController.removeLocalVideoTile();\n        this.trace('removeLocalVideoTile');\n    };\n    DefaultAudioVideoFacade.prototype.getLocalVideoTile = function () {\n        var result = this.videoTileController.getLocalVideoTile();\n        this.trace('getLocalVideoTile');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.pauseVideoTile = function (tileId) {\n        this.videoTileController.pauseVideoTile(tileId);\n        this.trace('pauseVideoTile', tileId);\n    };\n    DefaultAudioVideoFacade.prototype.unpauseVideoTile = function (tileId) {\n        this.videoTileController.unpauseVideoTile(tileId);\n        this.trace('unpauseVideoTile', tileId);\n    };\n    DefaultAudioVideoFacade.prototype.getVideoTile = function (tileId) {\n        var result = this.videoTileController.getVideoTile(tileId);\n        this.trace('getVideoTile', tileId);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.getAllRemoteVideoTiles = function () {\n        var result = this.videoTileController.getAllRemoteVideoTiles();\n        this.trace('getAllRemoteVideoTiles');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.getAllVideoTiles = function () {\n        var result = this.videoTileController.getAllVideoTiles();\n        this.trace('getAllVideoTiles');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.addVideoTile = function () {\n        var result = this.videoTileController.addVideoTile();\n        this.trace('addVideoTile', null, result.state());\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.removeVideoTile = function (tileId) {\n        this.videoTileController.removeVideoTile(tileId);\n        this.trace('removeVideoTile', tileId);\n    };\n    DefaultAudioVideoFacade.prototype.removeVideoTilesByAttendeeId = function (attendeeId) {\n        var result = this.videoTileController.removeVideoTilesByAttendeeId(attendeeId);\n        this.trace('removeVideoTilesByAttendeeId', attendeeId, result);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.removeAllVideoTiles = function () {\n        this.videoTileController.removeAllVideoTiles();\n        this.trace('removeAllVideoTiles');\n    };\n    DefaultAudioVideoFacade.prototype.captureVideoTile = function (tileId) {\n        var result = this.videoTileController.captureVideoTile(tileId);\n        this.trace('captureVideoTile', tileId);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToAttendeeIdPresence = function (callback) {\n        this.realtimeController.realtimeSubscribeToAttendeeIdPresence(callback);\n        this.trace('realtimeSubscribeToAttendeeIdPresence');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToAttendeeIdPresence = function (callback) {\n        this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(callback);\n        this.trace('realtimeUnsubscribeToAttendeeIdPresence');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSetCanUnmuteLocalAudio = function (canUnmute) {\n        this.realtimeController.realtimeSetCanUnmuteLocalAudio(canUnmute);\n        this.trace('realtimeSetCanUnmuteLocalAudio', canUnmute);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToSetCanUnmuteLocalAudio = function (callback) {\n        this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(callback);\n        this.trace('realtimeSubscribeToSetCanUnmuteLocalAudio');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToSetCanUnmuteLocalAudio = function (callback) {\n        this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(callback);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeCanUnmuteLocalAudio = function () {\n        var result = this.realtimeController.realtimeCanUnmuteLocalAudio();\n        this.trace('realtimeCanUnmuteLocalAudio', null, result);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.realtimeMuteLocalAudio = function () {\n        this.realtimeController.realtimeMuteLocalAudio();\n        this.trace('realtimeMuteLocalAudio');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnmuteLocalAudio = function () {\n        var result = this.realtimeController.realtimeUnmuteLocalAudio();\n        this.trace('realtimeUnmuteLocalAudio');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToMuteAndUnmuteLocalAudio = function (callback) {\n        this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(callback);\n        this.trace('realtimeSubscribeToMuteAndUnmuteLocalAudio');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToMuteAndUnmuteLocalAudio = function (callback) {\n        this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(callback);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeIsLocalAudioMuted = function () {\n        var result = this.realtimeController.realtimeIsLocalAudioMuted();\n        this.trace('realtimeIsLocalAudioMuted');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToVolumeIndicator = function (attendeeId, callback) {\n        this.realtimeController.realtimeSubscribeToVolumeIndicator(attendeeId, callback);\n        this.trace('realtimeSubscribeToVolumeIndicator', attendeeId);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeFromVolumeIndicator = function (attendeeId) {\n        this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(attendeeId);\n        this.trace('realtimeUnsubscribeFromVolumeIndicator', attendeeId);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToLocalSignalStrengthChange = function (callback) {\n        this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(callback);\n        this.trace('realtimeSubscribeToLocalSignalStrengthChange');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToLocalSignalStrengthChange = function (callback) {\n        this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(callback);\n        this.trace('realtimeUnsubscribeToLocalSignalStrengthChange');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSendDataMessage = function (topic, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data, lifetimeMs) {\n        this.realtimeController.realtimeSendDataMessage(topic, data, lifetimeMs);\n        this.trace('realtimeSendDataMessage');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToReceiveDataMessage = function (topic, callback) {\n        this.realtimeController.realtimeSubscribeToReceiveDataMessage(topic, callback);\n        this.trace('realtimeSubscribeToReceiveDataMessage');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeFromReceiveDataMessage = function (topic) {\n        this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(topic);\n        this.trace('realtimeUnsubscribeFromReceiveDataMessage');\n    };\n    DefaultAudioVideoFacade.prototype.realtimeSubscribeToFatalError = function (callback) {\n        this.realtimeController.realtimeSubscribeToFatalError(callback);\n    };\n    DefaultAudioVideoFacade.prototype.realtimeUnsubscribeToFatalError = function (callback) {\n        this.realtimeController.realtimeUnsubscribeToFatalError(callback);\n    };\n    DefaultAudioVideoFacade.prototype.subscribeToActiveSpeakerDetector = function (policy, callback, scoresCallback, scoresCallbackIntervalMs) {\n        this.audioVideoController.activeSpeakerDetector.subscribe(policy, callback, scoresCallback, scoresCallbackIntervalMs);\n        this.trace('subscribeToActiveSpeakerDetector');\n    };\n    DefaultAudioVideoFacade.prototype.unsubscribeFromActiveSpeakerDetector = function (callback) {\n        this.audioVideoController.activeSpeakerDetector.unsubscribe(callback);\n        this.trace('unsubscribeFromActiveSpeakerDetector');\n    };\n    DefaultAudioVideoFacade.prototype.listAudioInputDevices = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.deviceController.listAudioInputDevices()];\n                    case 1:\n                        result = _a.sent();\n                        this.trace('listAudioInputDevices', null, result);\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    DefaultAudioVideoFacade.prototype.listVideoInputDevices = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.deviceController.listVideoInputDevices()];\n                    case 1:\n                        result = _a.sent();\n                        this.trace('listVideoInputDevices', null, result);\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    DefaultAudioVideoFacade.prototype.listAudioOutputDevices = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.deviceController.listAudioOutputDevices()];\n                    case 1:\n                        result = _a.sent();\n                        this.trace('listAudioOutputDevices', null, result);\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    DefaultAudioVideoFacade.prototype.chooseAudioInputDevice = function (device) {\n        var result = this.deviceController.chooseAudioInputDevice(device);\n        this.trace('chooseAudioInputDevice', device);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.chooseVideoInputDevice = function (device) {\n        var result = this.deviceController.chooseVideoInputDevice(device);\n        this.trace('chooseVideoInputDevice', device);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.chooseAudioOutputDevice = function (deviceId) {\n        var result = this.deviceController.chooseAudioOutputDevice(deviceId);\n        this.trace('chooseAudioOutputDevice', deviceId);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.addDeviceChangeObserver = function (observer) {\n        this.deviceController.addDeviceChangeObserver(observer);\n        this.trace('addDeviceChangeObserver');\n    };\n    DefaultAudioVideoFacade.prototype.removeDeviceChangeObserver = function (observer) {\n        this.deviceController.removeDeviceChangeObserver(observer);\n        this.trace('removeDeviceChangeObserver');\n    };\n    DefaultAudioVideoFacade.prototype.createAnalyserNodeForAudioInput = function () {\n        var result = this.deviceController.createAnalyserNodeForAudioInput();\n        this.trace('createAnalyserNodeForAudioInput');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.startVideoPreviewForVideoInput = function (element) {\n        this.deviceController.startVideoPreviewForVideoInput(element);\n        this.trace('startVideoPreviewForVideoInput', element.id);\n    };\n    DefaultAudioVideoFacade.prototype.stopVideoPreviewForVideoInput = function (element) {\n        this.deviceController.stopVideoPreviewForVideoInput(element);\n        this.trace('stopVideoPreviewForVideoInput', element.id);\n    };\n    DefaultAudioVideoFacade.prototype.setDeviceLabelTrigger = function (trigger) {\n        this.deviceController.setDeviceLabelTrigger(trigger);\n        this.trace('setDeviceLabelTrigger');\n    };\n    DefaultAudioVideoFacade.prototype.mixIntoAudioInput = function (stream) {\n        var result = this.deviceController.mixIntoAudioInput(stream);\n        this.trace('mixIntoAudioInput', stream.id);\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.chooseVideoInputQuality = function (width, height, frameRate, maxBandwidthKbps) {\n        this.deviceController.chooseVideoInputQuality(width, height, frameRate, maxBandwidthKbps);\n        this.trace('chooseVideoInputQuality', {\n            width: width,\n            height: height,\n            frameRate: frameRate,\n            maxBandwidthKbps: maxBandwidthKbps,\n        });\n    };\n    DefaultAudioVideoFacade.prototype.getVideoInputQualitySettings = function () {\n        var result = this.deviceController.getVideoInputQualitySettings();\n        this.trace('getVideoInputQualitySettings');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.enableWebAudio = function (flag) {\n        this.deviceController.enableWebAudio(flag);\n        this.trace('enableWebAudio', flag);\n    };\n    DefaultAudioVideoFacade.prototype.startContentShare = function (stream) {\n        var result = this.contentShareController.startContentShare(stream);\n        this.trace('startContentShare');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.startContentShareFromScreenCapture = function (sourceId, frameRate) {\n        var result = this.contentShareController.startContentShareFromScreenCapture(sourceId, frameRate);\n        this.trace('startContentShareFromScreenCapture');\n        return result;\n    };\n    DefaultAudioVideoFacade.prototype.pauseContentShare = function () {\n        this.contentShareController.pauseContentShare();\n        this.trace('pauseContentShare');\n    };\n    DefaultAudioVideoFacade.prototype.unpauseContentShare = function () {\n        this.contentShareController.unpauseContentShare();\n        this.trace('unpauseContentShare');\n    };\n    DefaultAudioVideoFacade.prototype.stopContentShare = function () {\n        this.contentShareController.stopContentShare();\n        this.trace('stopContentShare');\n    };\n    DefaultAudioVideoFacade.prototype.addContentShareObserver = function (observer) {\n        this.contentShareController.addContentShareObserver(observer);\n        this.trace('addContentShareObserver');\n    };\n    DefaultAudioVideoFacade.prototype.removeContentShareObserver = function (observer) {\n        this.contentShareController.removeContentShareObserver(observer);\n        this.trace('removeContentShareObserver');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DefaultAudioVideoFacade.prototype.trace = function (name, input, output) {\n        var meetingId = this.audioVideoController.configuration.meetingId;\n        var attendeeId = this.audioVideoController.configuration.credentials.attendeeId;\n        var s = \"API/DefaultAudioVideoFacade/\" + meetingId + \"/\" + attendeeId + \"/\" + name;\n        if (typeof input !== 'undefined') {\n            s += \" \" + JSON.stringify(input);\n        }\n        if (typeof output !== 'undefined') {\n            s += \" -> \" + JSON.stringify(output);\n        }\n        this.audioVideoController.logger.info(s);\n    };\n    DefaultAudioVideoFacade.prototype.getRemoteVideoSources = function () {\n        var result = this.audioVideoController.getRemoteVideoSources();\n        this.trace('getRemoteVideoSources', null, result);\n        return result;\n    };\n    return DefaultAudioVideoFacade;\n}());\nexports.default = DefaultAudioVideoFacade;\n//# sourceMappingURL=DefaultAudioVideoFacade.js.map"]},"metadata":{},"sourceType":"script"}