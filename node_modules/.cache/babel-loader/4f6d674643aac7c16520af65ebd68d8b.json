{"ast":null,"code":"\"use strict\"; // Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar DefaultScreenSharingSession_1 = require(\"./DefaultScreenSharingSession\");\n\nvar DefaultScreenSharingSessionFactory =\n/** @class */\nfunction () {\n  function DefaultScreenSharingSessionFactory(mediaConstraintsProvider, webSocketFactory, messageSerialization, mediaStreamBroker, screenShareStreamFactory, mediaRecordingFactory, logger, timeSliceMs) {\n    if (timeSliceMs === void 0) {\n      timeSliceMs = 100;\n    }\n\n    this.mediaConstraintsProvider = mediaConstraintsProvider;\n    this.webSocketFactory = webSocketFactory;\n    this.messageSerialization = messageSerialization;\n    this.mediaStreamBroker = mediaStreamBroker;\n    this.screenShareStreamFactory = screenShareStreamFactory;\n    this.mediaRecordingFactory = mediaRecordingFactory;\n    this.logger = logger;\n    this.timeSliceMs = timeSliceMs;\n  }\n\n  DefaultScreenSharingSessionFactory.prototype.create = function (url, sessionToken) {\n    var protocols = [DefaultScreenSharingSessionFactory.SessionKey, sessionToken];\n    var webSocket = this.webSocketFactory.create(url, protocols, DefaultScreenSharingSessionFactory.BinaryType);\n    return new DefaultScreenSharingSession_1.default(webSocket, this.mediaConstraintsProvider, this.timeSliceMs, this.messageSerialization, this.mediaStreamBroker, this.screenShareStreamFactory, this.mediaRecordingFactory, this.logger);\n  };\n\n  DefaultScreenSharingSessionFactory.SessionKey = '_aws_wt_session';\n  DefaultScreenSharingSessionFactory.BinaryType = 'arraybuffer';\n  return DefaultScreenSharingSessionFactory;\n}();\n\nexports.default = DefaultScreenSharingSessionFactory;","map":{"version":3,"sources":["../../src/screensharingsession/DefaultScreenSharingSessionFactory.ts"],"names":[],"mappings":"cAAA;AACA;;;;;;AAQA,IAAA,6BAAA,GAAA,OAAA,CAAA,+BAAA,CAAA;;AAIA,IAAA,kCAAA;AAAA;AAAA,YAAA;AAGE,WAAA,kCAAA,CACU,wBADV,EAEU,gBAFV,EAGU,oBAHV,EAIU,iBAJV,EAKU,wBALV,EAMU,qBANV,EAOU,MAPV,EAQU,WARV,EAQmC;AAAzB,QAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,WAAA,GAAA,GAAA;AAAyB;;AAPzB,SAAA,wBAAA,GAAA,wBAAA;AACA,SAAA,gBAAA,GAAA,gBAAA;AACA,SAAA,oBAAA,GAAA,oBAAA;AACA,SAAA,iBAAA,GAAA,iBAAA;AACA,SAAA,wBAAA,GAAA,wBAAA;AACA,SAAA,qBAAA,GAAA,qBAAA;AACA,SAAA,MAAA,GAAA,MAAA;AACA,SAAA,WAAA,GAAA,WAAA;AACN;;AAEJ,EAAA,kCAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,GAAP,EAAoB,YAApB,EAAwC;AACtC,QAAM,SAAS,GAAG,CAAC,kCAAkC,CAAC,UAApC,EAAgD,YAAhD,CAAlB;AACA,QAAM,SAAS,GAAG,KAAK,gBAAL,CAAsB,MAAtB,CAChB,GADgB,EAEhB,SAFgB,EAGhB,kCAAkC,CAAC,UAHnB,CAAlB;AAKA,WAAO,IAAI,6BAAA,CAAA,OAAJ,CACL,SADK,EAEL,KAAK,wBAFA,EAGL,KAAK,WAHA,EAIL,KAAK,oBAJA,EAKL,KAAK,iBALA,EAML,KAAK,wBANA,EAOL,KAAK,qBAPA,EAQL,KAAK,MARA,CAAP;AAUD,GAjBD;;AAbe,EAAA,kCAAA,CAAA,UAAA,GAAa,iBAAb;AACA,EAAA,kCAAA,CAAA,UAAA,GAAyB,aAAzB;AA8BjB,SAAA,kCAAA;AAAC,CAhCD,EAAA;;kBAAqB,kC","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DefaultScreenSharingSession_1 = require(\"./DefaultScreenSharingSession\");\nvar DefaultScreenSharingSessionFactory = /** @class */ (function () {\n    function DefaultScreenSharingSessionFactory(mediaConstraintsProvider, webSocketFactory, messageSerialization, mediaStreamBroker, screenShareStreamFactory, mediaRecordingFactory, logger, timeSliceMs) {\n        if (timeSliceMs === void 0) { timeSliceMs = 100; }\n        this.mediaConstraintsProvider = mediaConstraintsProvider;\n        this.webSocketFactory = webSocketFactory;\n        this.messageSerialization = messageSerialization;\n        this.mediaStreamBroker = mediaStreamBroker;\n        this.screenShareStreamFactory = screenShareStreamFactory;\n        this.mediaRecordingFactory = mediaRecordingFactory;\n        this.logger = logger;\n        this.timeSliceMs = timeSliceMs;\n    }\n    DefaultScreenSharingSessionFactory.prototype.create = function (url, sessionToken) {\n        var protocols = [DefaultScreenSharingSessionFactory.SessionKey, sessionToken];\n        var webSocket = this.webSocketFactory.create(url, protocols, DefaultScreenSharingSessionFactory.BinaryType);\n        return new DefaultScreenSharingSession_1.default(webSocket, this.mediaConstraintsProvider, this.timeSliceMs, this.messageSerialization, this.mediaStreamBroker, this.screenShareStreamFactory, this.mediaRecordingFactory, this.logger);\n    };\n    DefaultScreenSharingSessionFactory.SessionKey = '_aws_wt_session';\n    DefaultScreenSharingSessionFactory.BinaryType = 'arraybuffer';\n    return DefaultScreenSharingSessionFactory;\n}());\nexports.default = DefaultScreenSharingSessionFactory;\n//# sourceMappingURL=DefaultScreenSharingSessionFactory.js.map"]},"metadata":{},"sourceType":"script"}