{"ast":null,"code":"var _jsxFileName = \"/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/videoPlayer/VideoPlayer.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as config from '../../config'; // Styles\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass VideoPlayer extends Component {\n  constructor() {\n    super();\n\n    this.mediaPlayerScriptLoaded = () => {\n      // This shows how to include the Amazon IVS Player with a script tag from our CDN\n      // If self hosting, you may not be able to use the create() method since it requires\n      // that file names do not change and are all hosted from the same directory.\n      const MediaPlayerPackage = window.IVSPlayer;\n      const playerOverlay = document.getElementById(\"overlay\");\n      const btnPlay = document.getElementById(\"play\");\n      const btnMute = document.getElementById(\"mute\"); // First, check if the browser supports the Amazon IVS player.\n\n      if (!MediaPlayerPackage.isPlayerSupported) {\n        console.warn(\"The current browser does not support the Amazon IVS player.\");\n        return;\n      }\n\n      const PlayerState = MediaPlayerPackage.PlayerState;\n      const PlayerEventType = MediaPlayerPackage.PlayerEventType; // Initialize player\n\n      const player = MediaPlayerPackage.create();\n      player.attachHTMLVideoElement(document.getElementById(\"video-player\")); // Attach event listeners\n\n      player.addEventListener(PlayerState.PLAYING, function () {\n        if (config.DEBUG) console.log(\"Player State - PLAYING\");\n      });\n      player.addEventListener(PlayerState.ENDED, function () {\n        if (config.DEBUG) console.log(\"Player State - ENDED\");\n      });\n      player.addEventListener(PlayerState.READY, function () {\n        if (config.DEBUG) console.log(\"Player State - READY\");\n      });\n      player.addEventListener(PlayerEventType.ERROR, function (err) {\n        if (config.DEBUG) console.warn(\"Player Event - ERROR:\", err);\n      });\n      player.addEventListener(PlayerEventType.TEXT_METADATA_CUE, function (cue) {\n        const metadataText = cue.text;\n        const position = player.getPosition().toFixed(2);\n        if (config.DEBUG) console.log(`Player Event - TEXT_METADATA_CUE: \"${metadataText}\". Observed ${position}s after playback started.`);\n      }); // Setup stream and play\n\n      player.setAutoplay(true);\n      player.load(this.props.videoStream); // Setvolume\n\n      player.setVolume(0.1); // Show/Hide player controls\n\n      playerOverlay.addEventListener(\"mouseover\", function (e) {\n        playerOverlay.classList.add(\"overlay--hover\");\n      }, false);\n      playerOverlay.addEventListener(\"mouseout\", function (e) {\n        playerOverlay.classList.remove(\"overlay--hover\");\n      }); // Controls events\n      // Play/Pause\n\n      btnPlay.addEventListener(\"click\", function (e) {\n        if (btnPlay.classList.contains(\"player-btn--play\")) {\n          // change to pause\n          btnPlay.classList.remove(\"player-btn--play\");\n          btnPlay.classList.add(\"player-btn--pause\");\n          player.pause();\n        } else {\n          // change to play\n          btnPlay.classList.remove(\"player-btn--pause\");\n          btnPlay.classList.add(\"player-btn--play\");\n          player.play();\n        }\n      }, false); // Mute/Unmute\n\n      btnMute.addEventListener(\"click\", function (e) {\n        if (btnMute.classList.contains(\"player-btn--mute\")) {\n          btnMute.classList.remove(\"player-btn--mute\");\n          btnMute.classList.add(\"player-btn--unmute\");\n          player.setMuted(1);\n        } else {\n          btnMute.classList.remove(\"player-btn--unmute\");\n          btnMute.classList.add(\"player-btn--mute\");\n          player.setMuted(0);\n        }\n      }, false);\n    };\n\n    this.videoElement = /*#__PURE__*/React.createRef();\n    this.state = {\n      maxMetaData: 10,\n      metaData: []\n    };\n  }\n\n  componentDidMount() {\n    const mediaPlayerScript = document.createElement(\"script\");\n    mediaPlayerScript.src = \"https://player.live-video.net/1.2.0/amazon-ivs-player.min.js\";\n    mediaPlayerScript.async = true;\n\n    mediaPlayerScript.onload = () => this.mediaPlayerScriptLoaded();\n\n    document.body.appendChild(mediaPlayerScript);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-wrapper pos-relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aspect-spacer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pos-absolute full-width full-height top-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"overlay\",\n          className: \"overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"player-controls\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"player-controls__inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"play\",\n                className: \"mg-x-1 player-btn player-btn--icon player-btn--play\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"player-icon player-icon--play\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  height: \"36\",\n                  viewBox: \"0 0 24 24\",\n                  width: \"36\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"player-icon player-icon--pause\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  height: \"36\",\n                  viewBox: \"0 0 24 24\",\n                  width: \"36\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"mute\",\n                className: \"mg-x-1 player-btn player-btn--icon player-btn--unmute\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"player-icon player-icon--volume_up\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  width: \"24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"player-icon player-icon--volume_off\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  width: \"24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          id: \"video-player\",\n          className: \"el-player\",\n          ref: this.videoElement,\n          playsInline: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nVideoPlayer.propTypes = {\n  setMetadataId: PropTypes.func,\n  videoStream: PropTypes.string\n};\nexport default VideoPlayer;","map":{"version":3,"sources":["/Users/sykang/Documents/Git/amazon-ivs-chime-web-demo/web-ui/src/components/videoPlayer/VideoPlayer.jsx"],"names":["React","Component","PropTypes","config","VideoPlayer","constructor","mediaPlayerScriptLoaded","MediaPlayerPackage","window","IVSPlayer","playerOverlay","document","getElementById","btnPlay","btnMute","isPlayerSupported","console","warn","PlayerState","PlayerEventType","player","create","attachHTMLVideoElement","addEventListener","PLAYING","DEBUG","log","ENDED","READY","ERROR","err","TEXT_METADATA_CUE","cue","metadataText","text","position","getPosition","toFixed","setAutoplay","load","props","videoStream","setVolume","e","classList","add","remove","contains","pause","play","setMuted","videoElement","createRef","state","maxMetaData","metaData","componentDidMount","mediaPlayerScript","createElement","src","async","onload","body","appendChild","render","propTypes","setMetadataId","func","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as config from '../../config';\n\n// Styles\n\nclass VideoPlayer extends Component {\n\n  constructor() {\n    super ();\n    this.videoElement = React.createRef();\n    this.state = {\n      maxMetaData: 10,\n      metaData: []\n    }\n  }\n\n  componentDidMount() {\n    const mediaPlayerScript = document.createElement(\"script\");\n    mediaPlayerScript.src = \"https://player.live-video.net/1.2.0/amazon-ivs-player.min.js\";\n    mediaPlayerScript.async = true;\n    mediaPlayerScript.onload = () => this.mediaPlayerScriptLoaded();\n    document.body.appendChild(mediaPlayerScript);\n  }\n\n  mediaPlayerScriptLoaded = () => {\n    // This shows how to include the Amazon IVS Player with a script tag from our CDN\n    // If self hosting, you may not be able to use the create() method since it requires\n    // that file names do not change and are all hosted from the same directory.\n\n    const MediaPlayerPackage = window.IVSPlayer;\n\n    const playerOverlay = document.getElementById(\"overlay\");\n    const btnPlay = document.getElementById(\"play\");\n    const btnMute = document.getElementById(\"mute\");\n\n    // First, check if the browser supports the Amazon IVS player.\n    if (!MediaPlayerPackage.isPlayerSupported) {\n        console.warn(\"The current browser does not support the Amazon IVS player.\");\n        return;\n    }\n\n    const PlayerState = MediaPlayerPackage.PlayerState;\n    const PlayerEventType = MediaPlayerPackage.PlayerEventType;\n\n    // Initialize player\n    const player = MediaPlayerPackage.create();\n    player.attachHTMLVideoElement(document.getElementById(\"video-player\"));\n\n    // Attach event listeners\n    player.addEventListener(PlayerState.PLAYING, function () {\n      if (config.DEBUG) console.log(\"Player State - PLAYING\");\n    });\n    player.addEventListener(PlayerState.ENDED, function () {\n      if (config.DEBUG) console.log(\"Player State - ENDED\");\n    });\n    player.addEventListener(PlayerState.READY, function () {\n      if (config.DEBUG) console.log(\"Player State - READY\");\n    });\n    player.addEventListener(PlayerEventType.ERROR, function (err) {\n      if (config.DEBUG) console.warn(\"Player Event - ERROR:\", err);\n    });\n\n    player.addEventListener(PlayerEventType.TEXT_METADATA_CUE, function (cue) {\n      const metadataText = cue.text;\n      const position = player.getPosition().toFixed(2);\n      if (config.DEBUG) console.log(\n        `Player Event - TEXT_METADATA_CUE: \"${metadataText}\". Observed ${position}s after playback started.`\n      );\n    });\n\n    // Setup stream and play\n    player.setAutoplay(true);\n    player.load(this.props.videoStream);\n\n    // Setvolume\n    player.setVolume(0.1);\n\n    // Show/Hide player controls\n    playerOverlay.addEventListener(\n      \"mouseover\",\n      function (e) {\n        playerOverlay.classList.add(\"overlay--hover\");\n      },\n      false\n    );\n    playerOverlay.addEventListener(\"mouseout\", function (e) {\n      playerOverlay.classList.remove(\"overlay--hover\");\n    });\n\n    // Controls events\n    // Play/Pause\n    btnPlay.addEventListener(\n      \"click\",\n      function (e) {\n        if (btnPlay.classList.contains(\"player-btn--play\")) {\n          // change to pause\n          btnPlay.classList.remove(\"player-btn--play\");\n          btnPlay.classList.add(\"player-btn--pause\");\n          player.pause();\n        } else {\n          // change to play\n          btnPlay.classList.remove(\"player-btn--pause\");\n          btnPlay.classList.add(\"player-btn--play\");\n          player.play();\n        }\n      },\n      false\n    );\n\n    // Mute/Unmute\n    btnMute.addEventListener(\n      \"click\",\n      function (e) {\n        if (btnMute.classList.contains(\"player-btn--mute\")) {\n          btnMute.classList.remove(\"player-btn--mute\");\n          btnMute.classList.add(\"player-btn--unmute\");\n          player.setMuted(1);\n        } else {\n          btnMute.classList.remove(\"player-btn--unmute\");\n          btnMute.classList.add(\"player-btn--mute\");\n          player.setMuted(0);\n        }\n      },\n      false\n    );\n\n  }\n\n  render() {\n    return (\n      <div className=\"player-wrapper pos-relative\">\n        <div className=\"aspect-spacer\"></div>\n        <div className=\"pos-absolute full-width full-height top-0\">\n          <div id=\"overlay\" className=\"overlay\">\n            <div id=\"player-controls\">\n              <div className=\"player-controls__inner\">\n                <button id=\"play\" className=\"mg-x-1 player-btn player-btn--icon player-btn--play\">\n                  <svg\n                    className=\"player-icon player-icon--play\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"36\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"36\"\n                  >\n                    <path\n                      d=\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"\n                    />\n                  </svg>\n                  <svg\n                    className=\"player-icon player-icon--pause\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"36\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"36\"\n                  >\n                    <path\n                      d=\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n                    />\n                  </svg>\n                </button>\n                <button id=\"mute\" className=\"mg-x-1 player-btn player-btn--icon player-btn--unmute\">\n                  <svg\n                    className=\"player-icon player-icon--volume_up\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"24\"\n                  >\n                    <path\n                      d=\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\"\n                    />\n                  </svg>\n                  <svg\n                    className=\"player-icon player-icon--volume_off\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"24\"\n                  >\n                    <path\n                      d=\"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n          <video id=\"video-player\" className=\"el-player\" ref={this.videoElement} playsInline muted></video>\n        </div>\n      </div>\n    )\n  }\n}\n\nVideoPlayer.propTypes = {\n  setMetadataId: PropTypes.func,\n  videoStream: PropTypes.string,\n};\n\nexport default VideoPlayer;\n"]},"metadata":{},"sourceType":"module"}